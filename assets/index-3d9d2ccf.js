(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function c0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qs={},h0={get exports(){return Qs},set exports(t){Qs=t}},ba={},U={},d0={get exports(){return U},set exports(t){U=t}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=Symbol.for("react.element"),f0=Symbol.for("react.portal"),p0=Symbol.for("react.fragment"),m0=Symbol.for("react.strict_mode"),g0=Symbol.for("react.profiler"),y0=Symbol.for("react.provider"),v0=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),w0=Symbol.for("react.suspense"),E0=Symbol.for("react.memo"),S0=Symbol.for("react.lazy"),_d=Symbol.iterator;function T0(t){return t===null||typeof t!="object"?null:(t=_d&&t[_d]||t["@@iterator"],typeof t=="function"?t:null)}var Dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Op=Object.assign,Vp={};function rs(t,e,n){this.props=t,this.context=e,this.refs=Vp,this.updater=n||Dp}rs.prototype.isReactComponent={};rs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lp(){}Lp.prototype=rs.prototype;function Pc(t,e,n){this.props=t,this.context=e,this.refs=Vp,this.updater=n||Dp}var $c=Pc.prototype=new Lp;$c.constructor=Pc;Op($c,rs.prototype);$c.isPureReactComponent=!0;var wd=Array.isArray,Mp=Object.prototype.hasOwnProperty,Nc={current:null},jp={key:!0,ref:!0,__self:!0,__source:!0};function Fp(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Mp.call(e,r)&&!jp.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),g=0;g<a;g++)c[g]=arguments[g+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ai,type:t,key:i,ref:o,props:s,_owner:Nc.current}}function b0(t,e){return{$$typeof:Ai,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ai}function I0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ed=/\/+/g;function pl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I0(""+t.key):e.toString(36)}function yo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ai:case f0:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+pl(o,0):r,wd(s)?(n="",t!=null&&(n=t.replace(Ed,"$&/")+"/"),yo(s,e,n,"",function(g){return g})):s!=null&&(Dc(s)&&(s=b0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ed,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",wd(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+pl(i,a);o+=yo(i,e,n,c,s)}else if(c=T0(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+pl(i,a++),o+=yo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qi(t,e,n){if(t==null)return t;var r=[],s=0;return yo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function A0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},vo={transition:null},k0={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:vo,ReactCurrentOwner:Nc};Z.Children={map:qi,forEach:function(t,e,n){qi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qi(t,function(){e++}),e},toArray:function(t){return qi(t,function(e){return e})||[]},only:function(t){if(!Dc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=rs;Z.Fragment=p0;Z.Profiler=g0;Z.PureComponent=Pc;Z.StrictMode=m0;Z.Suspense=w0;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k0;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Op({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Mp.call(e,c)&&!jp.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var g=0;g<c;g++)a[g]=arguments[g+2];r.children=a}return{$$typeof:Ai,type:t.type,key:s,ref:i,props:r,_owner:o}};Z.createContext=function(t){return t={$$typeof:v0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:y0,_context:t},t.Consumer=t};Z.createElement=Fp;Z.createFactory=function(t){var e=Fp.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:_0,render:t}};Z.isValidElement=Dc;Z.lazy=function(t){return{$$typeof:S0,_payload:{_status:-1,_result:t},_init:A0}};Z.memo=function(t,e){return{$$typeof:E0,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=vo.transition;vo.transition={};try{t()}finally{vo.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return st.current.useCallback(t,e)};Z.useContext=function(t){return st.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return st.current.useDeferredValue(t)};Z.useEffect=function(t,e){return st.current.useEffect(t,e)};Z.useId=function(){return st.current.useId()};Z.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return st.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};Z.useRef=function(t){return st.current.useRef(t)};Z.useState=function(t){return st.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return st.current.useTransition()};Z.version="18.2.0";(function(t){t.exports=Z})(d0);const zp=c0(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=U,R0=Symbol.for("react.element"),x0=Symbol.for("react.fragment"),P0=Object.prototype.hasOwnProperty,$0=C0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N0={key:!0,ref:!0,__self:!0,__source:!0};function Up(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)P0.call(e,r)&&!N0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:R0,type:t,key:i,ref:o,props:s,_owner:$0.current}}ba.Fragment=x0;ba.jsx=Up;ba.jsxs=Up;(function(t){t.exports=ba})(h0);const Bp=Qs.Fragment,C=Qs.jsx,J=Qs.jsxs;var ru={},su={},D0={get exports(){return su},set exports(t){su=t}},yt={},iu={},O0={get exports(){return iu},set exports(t){iu=t}},qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var q=N.length;N.push(B);e:for(;0<q;){var z=q-1>>>1,G=N[z];if(0<s(G,B))N[z]=B,N[q]=G,q=z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],q=N.pop();if(q!==B){N[0]=q;e:for(var z=0,G=N.length,xe=G>>>1;z<xe;){var Se=2*(z+1)-1,Gt=N[Se],At=Se+1,Ot=N[At];if(0>s(Gt,q))At<G&&0>s(Ot,Gt)?(N[z]=Ot,N[At]=q,z=At):(N[z]=Gt,N[Se]=q,z=Se);else if(At<G&&0>s(Ot,q))N[z]=Ot,N[At]=q,z=At;else break e}}return B}function s(N,B){var q=N.sortIndex-B.sortIndex;return q!==0?q:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],g=[],y=1,l=null,h=3,m=!1,p=!1,f=!1,_=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var B=n(g);B!==null;){if(B.callback===null)r(g);else if(B.startTime<=N)r(g),B.sortIndex=B.expirationTime,e(c,B);else break;B=n(g)}}function E(N){if(f=!1,v(N),!p)if(n(c)!==null)p=!0,K(S);else{var B=n(g);B!==null&&fe(E,B.startTime-N)}}function S(N,B){p=!1,f&&(f=!1,u(w),w=-1),m=!0;var q=h;try{for(v(B),l=n(c);l!==null&&(!(l.expirationTime>B)||N&&!k());){var z=l.callback;if(typeof z=="function"){l.callback=null,h=l.priorityLevel;var G=z(l.expirationTime<=B);B=t.unstable_now(),typeof G=="function"?l.callback=G:l===n(c)&&r(c),v(B)}else r(c);l=n(c)}if(l!==null)var xe=!0;else{var Se=n(g);Se!==null&&fe(E,Se.startTime-B),xe=!1}return xe}finally{l=null,h=q,m=!1}}var A=!1,I=null,w=-1,T=5,b=-1;function k(){return!(t.unstable_now()-b<T)}function R(){if(I!==null){var N=t.unstable_now();b=N;var B=!0;try{B=I(!0,N)}finally{B?x():(A=!1,I=null)}}else A=!1}var x;if(typeof d=="function")x=function(){d(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,j=L.port2;L.port1.onmessage=R,x=function(){j.postMessage(null)}}else x=function(){_(R,0)};function K(N){I=N,A||(A=!0,x())}function fe(N,B){w=_(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,K(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var q=h;h=B;try{return N()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var q=h;h=N;try{return B()}finally{h=q}},t.unstable_scheduleCallback=function(N,B,q){var z=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?z+q:z):q=z,N){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=q+G,N={id:y++,callback:B,priorityLevel:N,startTime:q,expirationTime:G,sortIndex:-1},q>z?(N.sortIndex=q,e(g,N),n(c)===null&&N===n(g)&&(f?(u(w),w=-1):f=!0,fe(E,q-z))):(N.sortIndex=G,e(c,N),p||m||(p=!0,K(S))),N},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(N){var B=h;return function(){var q=h;h=B;try{return N.apply(this,arguments)}finally{h=q}}}})(qp);(function(t){t.exports=qp})(O0);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp=U,mt=iu;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wp=new Set,Gs={};function ur(t,e){Br(t,e),Br(t+"Capture",e)}function Br(t,e){for(Gs[t]=e,t=0;t<e.length;t++)Wp.add(e[t])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=Object.prototype.hasOwnProperty,V0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sd={},Td={};function L0(t){return ou.call(Td,t)?!0:ou.call(Sd,t)?!1:V0.test(t)?Td[t]=!0:(Sd[t]=!0,!1)}function M0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j0(t,e,n,r){if(e===null||typeof e>"u"||M0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function it(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new it(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new it(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new it(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new it(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new it(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new it(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new it(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new it(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new it(t,5,!1,t.toLowerCase(),null,!1,!1)});var Oc=/[\-:]([a-z])/g;function Vc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Oc,Vc);Ue[e]=new it(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Oc,Vc);Ue[e]=new it(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Oc,Vc);Ue[e]=new it(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new it(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new it(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lc(t,e,n,r){var s=Ue.hasOwnProperty(e)?Ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(j0(e,n,s,r)&&(n=null),r||s===null?L0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ln=Hp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hi=Symbol.for("react.element"),vr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),Mc=Symbol.for("react.strict_mode"),au=Symbol.for("react.profiler"),Kp=Symbol.for("react.provider"),Qp=Symbol.for("react.context"),jc=Symbol.for("react.forward_ref"),lu=Symbol.for("react.suspense"),uu=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Gp=Symbol.for("react.offscreen"),bd=Symbol.iterator;function ps(t){return t===null||typeof t!="object"?null:(t=bd&&t[bd]||t["@@iterator"],typeof t=="function"?t:null)}var ge=Object.assign,ml;function Is(t){if(ml===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ml=e&&e[1]||""}return`
`+ml+t}var gl=!1;function yl(t,e){if(!t||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var r=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){r=g}t.call(e.prototype)}else{try{throw Error()}catch(g){r=g}t()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Is(t):""}function F0(t){switch(t.tag){case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return t=yl(t.type,!1),t;case 11:return t=yl(t.type.render,!1),t;case 1:return t=yl(t.type,!0),t;default:return""}}function cu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _r:return"Fragment";case vr:return"Portal";case au:return"Profiler";case Mc:return"StrictMode";case lu:return"Suspense";case uu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qp:return(t.displayName||"Context")+".Consumer";case Kp:return(t._context.displayName||"Context")+".Provider";case jc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fc:return e=t.displayName||null,e!==null?e:cu(t.type)||"Memo";case cn:e=t._payload,t=t._init;try{return cu(t(e))}catch{}}return null}function z0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cu(e);case 8:return e===Mc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U0(t){var e=Yp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wi(t){t._valueTracker||(t._valueTracker=U0(t))}function Xp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hu(t,e){var n=e.checked;return ge({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Id(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jp(t,e){e=e.checked,e!=null&&Lc(t,"checked",e,!1)}function du(t,e){Jp(t,e);var n=Rn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fu(t,e.type,n):e.hasOwnProperty("defaultValue")&&fu(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ad(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fu(t,e,n){(e!=="number"||Mo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var As=Array.isArray;function Pr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return ge({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(As(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rn(n)}}function Zp(t,e){var n=Rn(e.value),r=Rn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function em(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?em(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ki,tm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ki.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B0=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(t){B0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ns[e]=Ns[t]})});function nm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ns.hasOwnProperty(t)&&Ns[t]?(""+e).trim():e+"px"}function rm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var q0=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gu(t,e){if(e){if(q0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function yu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=null;function zc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _u=null,$r=null,Nr=null;function Rd(t){if(t=Ri(t)){if(typeof _u!="function")throw Error($(280));var e=t.stateNode;e&&(e=Ra(e),_u(t.stateNode,t.type,e))}}function sm(t){$r?Nr?Nr.push(t):Nr=[t]:$r=t}function im(){if($r){var t=$r,e=Nr;if(Nr=$r=null,Rd(t),e)for(t=0;t<e.length;t++)Rd(e[t])}}function om(t,e){return t(e)}function am(){}var vl=!1;function lm(t,e,n){if(vl)return t(e,n);vl=!0;try{return om(t,e,n)}finally{vl=!1,($r!==null||Nr!==null)&&(am(),im())}}function Xs(t,e){var n=t.stateNode;if(n===null)return null;var r=Ra(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var wu=!1;if(nn)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){wu=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{wu=!1}function H0(t,e,n,r,s,i,o,a,c){var g=Array.prototype.slice.call(arguments,3);try{e.apply(n,g)}catch(y){this.onError(y)}}var Ds=!1,jo=null,Fo=!1,Eu=null,W0={onError:function(t){Ds=!0,jo=t}};function K0(t,e,n,r,s,i,o,a,c){Ds=!1,jo=null,H0.apply(W0,arguments)}function Q0(t,e,n,r,s,i,o,a,c){if(K0.apply(this,arguments),Ds){if(Ds){var g=jo;Ds=!1,jo=null}else throw Error($(198));Fo||(Fo=!0,Eu=g)}}function cr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function um(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xd(t){if(cr(t)!==t)throw Error($(188))}function G0(t){var e=t.alternate;if(!e){if(e=cr(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return xd(s),t;if(i===r)return xd(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function cm(t){return t=G0(t),t!==null?hm(t):null}function hm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hm(t);if(e!==null)return e;t=t.sibling}return null}var dm=mt.unstable_scheduleCallback,Pd=mt.unstable_cancelCallback,Y0=mt.unstable_shouldYield,X0=mt.unstable_requestPaint,we=mt.unstable_now,J0=mt.unstable_getCurrentPriorityLevel,Uc=mt.unstable_ImmediatePriority,fm=mt.unstable_UserBlockingPriority,zo=mt.unstable_NormalPriority,Z0=mt.unstable_LowPriority,pm=mt.unstable_IdlePriority,Ia=null,Bt=null;function e_(t){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Ia,t,void 0,(t.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:r_,t_=Math.log,n_=Math.LN2;function r_(t){return t>>>=0,t===0?32:31-(t_(t)/n_|0)|0}var Qi=64,Gi=4194304;function ks(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ks(a):(i&=o,i!==0&&(r=ks(i)))}else o=n&~s,o!==0?r=ks(o):i!==0&&(r=ks(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pt(e),s=1<<n,r|=t[n],e&=~s;return r}function s_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Pt(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=s_(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Su(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mm(){var t=Qi;return Qi<<=1,!(Qi&4194240)&&(Qi=64),t}function _l(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ki(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pt(e),t[e]=n}function o_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Pt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Bc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var oe=0;function gm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ym,qc,vm,_m,wm,Tu=!1,Yi=[],vn=null,_n=null,wn=null,Js=new Map,Zs=new Map,dn=[],a_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $d(t,e){switch(t){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Js.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(e.pointerId)}}function gs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ri(e),e!==null&&qc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function l_(t,e,n,r,s){switch(e){case"focusin":return vn=gs(vn,t,e,n,r,s),!0;case"dragenter":return _n=gs(_n,t,e,n,r,s),!0;case"mouseover":return wn=gs(wn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Js.set(i,gs(Js.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zs.set(i,gs(Zs.get(i)||null,t,e,n,r,s)),!0}return!1}function Em(t){var e=Bn(t.target);if(e!==null){var n=cr(e);if(n!==null){if(e=n.tag,e===13){if(e=um(n),e!==null){t.blockedOn=e,wm(t.priority,function(){vm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vu=r,n.target.dispatchEvent(r),vu=null}else return e=Ri(n),e!==null&&qc(e),t.blockedOn=n,!1;e.shift()}return!0}function Nd(t,e,n){_o(t)&&n.delete(e)}function u_(){Tu=!1,vn!==null&&_o(vn)&&(vn=null),_n!==null&&_o(_n)&&(_n=null),wn!==null&&_o(wn)&&(wn=null),Js.forEach(Nd),Zs.forEach(Nd)}function ys(t,e){t.blockedOn===e&&(t.blockedOn=null,Tu||(Tu=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,u_)))}function ei(t){function e(s){return ys(s,t)}if(0<Yi.length){ys(Yi[0],t);for(var n=1;n<Yi.length;n++){var r=Yi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vn!==null&&ys(vn,t),_n!==null&&ys(_n,t),wn!==null&&ys(wn,t),Js.forEach(e),Zs.forEach(e),n=0;n<dn.length;n++)r=dn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dn.length&&(n=dn[0],n.blockedOn===null);)Em(n),n.blockedOn===null&&dn.shift()}var Dr=ln.ReactCurrentBatchConfig,Bo=!0;function c_(t,e,n,r){var s=oe,i=Dr.transition;Dr.transition=null;try{oe=1,Hc(t,e,n,r)}finally{oe=s,Dr.transition=i}}function h_(t,e,n,r){var s=oe,i=Dr.transition;Dr.transition=null;try{oe=4,Hc(t,e,n,r)}finally{oe=s,Dr.transition=i}}function Hc(t,e,n,r){if(Bo){var s=bu(t,e,n,r);if(s===null)Rl(t,e,r,qo,n),$d(t,r);else if(l_(s,t,e,n,r))r.stopPropagation();else if($d(t,r),e&4&&-1<a_.indexOf(t)){for(;s!==null;){var i=Ri(s);if(i!==null&&ym(i),i=bu(t,e,n,r),i===null&&Rl(t,e,r,qo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Rl(t,e,r,null,n)}}var qo=null;function bu(t,e,n,r){if(qo=null,t=zc(r),t=Bn(t),t!==null)if(e=cr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=um(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qo=t,null}function Sm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J0()){case Uc:return 1;case fm:return 4;case zo:case Z0:return 16;case pm:return 536870912;default:return 16}default:return 16}}var pn=null,Wc=null,wo=null;function Tm(){if(wo)return wo;var t,e=Wc,n=e.length,r,s="value"in pn?pn.value:pn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return wo=s.slice(t,1<r?1-r:void 0)}function Eo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function Dd(){return!1}function vt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xi:Dd,this.isPropagationStopped=Dd,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),e}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=vt(ss),Ci=ge({},ss,{view:0,detail:0}),d_=vt(Ci),wl,El,vs,Aa=ge({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vs&&(vs&&t.type==="mousemove"?(wl=t.screenX-vs.screenX,El=t.screenY-vs.screenY):El=wl=0,vs=t),wl)},movementY:function(t){return"movementY"in t?t.movementY:El}}),Od=vt(Aa),f_=ge({},Aa,{dataTransfer:0}),p_=vt(f_),m_=ge({},Ci,{relatedTarget:0}),Sl=vt(m_),g_=ge({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),y_=vt(g_),v_=ge({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),__=vt(v_),w_=ge({},ss,{data:0}),Vd=vt(w_),E_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=T_[t])?!!e[t]:!1}function Qc(){return b_}var I_=ge({},Ci,{key:function(t){if(t.key){var e=E_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(t){return t.type==="keypress"?Eo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A_=vt(I_),k_=ge({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=vt(k_),C_=ge({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),R_=vt(C_),x_=ge({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),P_=vt(x_),$_=ge({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N_=vt($_),D_=[9,13,27,32],Gc=nn&&"CompositionEvent"in window,Os=null;nn&&"documentMode"in document&&(Os=document.documentMode);var O_=nn&&"TextEvent"in window&&!Os,bm=nn&&(!Gc||Os&&8<Os&&11>=Os),Md=String.fromCharCode(32),jd=!1;function Im(t,e){switch(t){case"keyup":return D_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wr=!1;function V_(t,e){switch(t){case"compositionend":return Am(e);case"keypress":return e.which!==32?null:(jd=!0,Md);case"textInput":return t=e.data,t===Md&&jd?null:t;default:return null}}function L_(t,e){if(wr)return t==="compositionend"||!Gc&&Im(t,e)?(t=Tm(),wo=Wc=pn=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bm&&e.locale!=="ko"?null:e.data;default:return null}}var M_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M_[t.type]:e==="textarea"}function km(t,e,n,r){sm(r),e=Ho(e,"onChange"),0<e.length&&(n=new Kc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vs=null,ti=null;function j_(t){Mm(t,0)}function ka(t){var e=Tr(t);if(Xp(e))return t}function F_(t,e){if(t==="change")return e}var Cm=!1;if(nn){var Tl;if(nn){var bl="oninput"in document;if(!bl){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),bl=typeof zd.oninput=="function"}Tl=bl}else Tl=!1;Cm=Tl&&(!document.documentMode||9<document.documentMode)}function Ud(){Vs&&(Vs.detachEvent("onpropertychange",Rm),ti=Vs=null)}function Rm(t){if(t.propertyName==="value"&&ka(ti)){var e=[];km(e,ti,t,zc(t)),lm(j_,e)}}function z_(t,e,n){t==="focusin"?(Ud(),Vs=e,ti=n,Vs.attachEvent("onpropertychange",Rm)):t==="focusout"&&Ud()}function U_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ka(ti)}function B_(t,e){if(t==="click")return ka(e)}function q_(t,e){if(t==="input"||t==="change")return ka(e)}function H_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nt=typeof Object.is=="function"?Object.is:H_;function ni(t,e){if(Nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ou.call(e,s)||!Nt(t[s],e[s]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qd(t,e){var n=Bd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bd(n)}}function xm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Pm(){for(var t=window,e=Mo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mo(t.document)}return e}function Yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W_(t){var e=Pm(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xm(n.ownerDocument.documentElement,n)){if(r!==null&&Yc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=qd(n,i);var o=qd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var K_=nn&&"documentMode"in document&&11>=document.documentMode,Er=null,Iu=null,Ls=null,Au=!1;function Hd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Au||Er==null||Er!==Mo(r)||(r=Er,"selectionStart"in r&&Yc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ls&&ni(Ls,r)||(Ls=r,r=Ho(Iu,"onSelect"),0<r.length&&(e=new Kc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Er)))}function Ji(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sr={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Il={},$m={};nn&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);function Ca(t){if(Il[t])return Il[t];if(!Sr[t])return t;var e=Sr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $m)return Il[t]=e[n];return t}var Nm=Ca("animationend"),Dm=Ca("animationiteration"),Om=Ca("animationstart"),Vm=Ca("transitionend"),Lm=new Map,Wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dn(t,e){Lm.set(t,e),ur(e,[t])}for(var Al=0;Al<Wd.length;Al++){var kl=Wd[Al],Q_=kl.toLowerCase(),G_=kl[0].toUpperCase()+kl.slice(1);Dn(Q_,"on"+G_)}Dn(Nm,"onAnimationEnd");Dn(Dm,"onAnimationIteration");Dn(Om,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(Vm,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ur("onBeforeInput",["compositionend","keypress","textInput","paste"]);ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function Kd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Q0(r,e,void 0,t),t.currentTarget=null}function Mm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,g=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Kd(s,a,g),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,g=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Kd(s,a,g),i=c}}}if(Fo)throw t=Eu,Fo=!1,Eu=null,t}function ue(t,e){var n=e[Pu];n===void 0&&(n=e[Pu]=new Set);var r=t+"__bubble";n.has(r)||(jm(e,t,2,!1),n.add(r))}function Cl(t,e,n){var r=0;e&&(r|=4),jm(n,t,r,e)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function ri(t){if(!t[Zi]){t[Zi]=!0,Wp.forEach(function(n){n!=="selectionchange"&&(Y_.has(n)||Cl(n,!1,t),Cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zi]||(e[Zi]=!0,Cl("selectionchange",!1,e))}}function jm(t,e,n,r){switch(Sm(e)){case 1:var s=c_;break;case 4:s=h_;break;default:s=Hc}n=s.bind(null,e,n,t),s=void 0,!wu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rl(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Bn(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}lm(function(){var g=i,y=zc(n),l=[];e:{var h=Lm.get(t);if(h!==void 0){var m=Kc,p=t;switch(t){case"keypress":if(Eo(n)===0)break e;case"keydown":case"keyup":m=A_;break;case"focusin":p="focus",m=Sl;break;case"focusout":p="blur",m=Sl;break;case"beforeblur":case"afterblur":m=Sl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=R_;break;case Nm:case Dm:case Om:m=y_;break;case Vm:m=P_;break;case"scroll":m=d_;break;case"wheel":m=N_;break;case"copy":case"cut":case"paste":m=__;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ld}var f=(e&4)!==0,_=!f&&t==="scroll",u=f?h!==null?h+"Capture":null:h;f=[];for(var d=g,v;d!==null;){v=d;var E=v.stateNode;if(v.tag===5&&E!==null&&(v=E,u!==null&&(E=Xs(d,u),E!=null&&f.push(si(d,E,v)))),_)break;d=d.return}0<f.length&&(h=new m(h,p,null,n,y),l.push({event:h,listeners:f}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==vu&&(p=n.relatedTarget||n.fromElement)&&(Bn(p)||p[rn]))break e;if((m||h)&&(h=y.window===y?y:(h=y.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=g,p=p?Bn(p):null,p!==null&&(_=cr(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=g),m!==p)){if(f=Od,E="onMouseLeave",u="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(f=Ld,E="onPointerLeave",u="onPointerEnter",d="pointer"),_=m==null?h:Tr(m),v=p==null?h:Tr(p),h=new f(E,d+"leave",m,n,y),h.target=_,h.relatedTarget=v,E=null,Bn(y)===g&&(f=new f(u,d+"enter",p,n,y),f.target=v,f.relatedTarget=_,E=f),_=E,m&&p)t:{for(f=m,u=p,d=0,v=f;v;v=fr(v))d++;for(v=0,E=u;E;E=fr(E))v++;for(;0<d-v;)f=fr(f),d--;for(;0<v-d;)u=fr(u),v--;for(;d--;){if(f===u||u!==null&&f===u.alternate)break t;f=fr(f),u=fr(u)}f=null}else f=null;m!==null&&Qd(l,h,m,f,!1),p!==null&&_!==null&&Qd(l,_,p,f,!0)}}e:{if(h=g?Tr(g):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=F_;else if(Fd(h))if(Cm)S=q_;else{S=U_;var A=z_}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=B_);if(S&&(S=S(t,g))){km(l,S,n,y);break e}A&&A(t,h,g),t==="focusout"&&(A=h._wrapperState)&&A.controlled&&h.type==="number"&&fu(h,"number",h.value)}switch(A=g?Tr(g):window,t){case"focusin":(Fd(A)||A.contentEditable==="true")&&(Er=A,Iu=g,Ls=null);break;case"focusout":Ls=Iu=Er=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Hd(l,n,y);break;case"selectionchange":if(K_)break;case"keydown":case"keyup":Hd(l,n,y)}var I;if(Gc)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else wr?Im(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(bm&&n.locale!=="ko"&&(wr||w!=="onCompositionStart"?w==="onCompositionEnd"&&wr&&(I=Tm()):(pn=y,Wc="value"in pn?pn.value:pn.textContent,wr=!0)),A=Ho(g,w),0<A.length&&(w=new Vd(w,t,null,n,y),l.push({event:w,listeners:A}),I?w.data=I:(I=Am(n),I!==null&&(w.data=I)))),(I=O_?V_(t,n):L_(t,n))&&(g=Ho(g,"onBeforeInput"),0<g.length&&(y=new Vd("onBeforeInput","beforeinput",null,n,y),l.push({event:y,listeners:g}),y.data=I))}Mm(l,e)})}function si(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ho(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xs(t,n),i!=null&&r.unshift(si(t,i,s)),i=Xs(t,e),i!=null&&r.push(si(t,i,s))),t=t.return}return r}function fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,g=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&g!==null&&(a=g,s?(c=Xs(n,i),c!=null&&o.unshift(si(n,c,a))):s||(c=Xs(n,i),c!=null&&o.push(si(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var X_=/\r\n?/g,J_=/\u0000|\uFFFD/g;function Gd(t){return(typeof t=="string"?t:""+t).replace(X_,`
`).replace(J_,"")}function eo(t,e,n){if(e=Gd(e),Gd(t)!==e&&n)throw Error($(425))}function Wo(){}var ku=null,Cu=null;function Ru(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,Z_=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(t){return Yd.resolve(null).then(t).catch(t1)}:xu;function t1(t){setTimeout(function(){throw t})}function xl(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ei(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ei(e)}function En(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var is=Math.random().toString(36).slice(2),Mt="__reactFiber$"+is,ii="__reactProps$"+is,rn="__reactContainer$"+is,Pu="__reactEvents$"+is,n1="__reactListeners$"+is,r1="__reactHandles$"+is;function Bn(t){var e=t[Mt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rn]||n[Mt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xd(t);t!==null;){if(n=t[Mt])return n;t=Xd(t)}return e}t=n,n=t.parentNode}return null}function Ri(t){return t=t[Mt]||t[rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Ra(t){return t[ii]||null}var $u=[],br=-1;function On(t){return{current:t}}function he(t){0>br||(t.current=$u[br],$u[br]=null,br--)}function le(t,e){br++,$u[br]=t.current,t.current=e}var xn={},Xe=On(xn),lt=On(!1),er=xn;function qr(t,e){var n=t.type.contextTypes;if(!n)return xn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ut(t){return t=t.childContextTypes,t!=null}function Ko(){he(lt),he(Xe)}function Jd(t,e,n){if(Xe.current!==xn)throw Error($(168));le(Xe,e),le(lt,n)}function Fm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,z0(t)||"Unknown",s));return ge({},n,r)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xn,er=Xe.current,le(Xe,t),le(lt,lt.current),!0}function Zd(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Fm(t,e,er),r.__reactInternalMemoizedMergedChildContext=t,he(lt),he(Xe),le(Xe,t)):he(lt),le(lt,n)}var Xt=null,xa=!1,Pl=!1;function zm(t){Xt===null?Xt=[t]:Xt.push(t)}function s1(t){xa=!0,zm(t)}function Vn(){if(!Pl&&Xt!==null){Pl=!0;var t=0,e=oe;try{var n=Xt;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xt=null,xa=!1}catch(s){throw Xt!==null&&(Xt=Xt.slice(t+1)),dm(Uc,Vn),s}finally{oe=e,Pl=!1}}return null}var Ir=[],Ar=0,Go=null,Yo=0,_t=[],wt=0,tr=null,Jt=1,Zt="";function jn(t,e){Ir[Ar++]=Yo,Ir[Ar++]=Go,Go=t,Yo=e}function Um(t,e,n){_t[wt++]=Jt,_t[wt++]=Zt,_t[wt++]=tr,tr=t;var r=Jt;t=Zt;var s=32-Pt(r)-1;r&=~(1<<s),n+=1;var i=32-Pt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Jt=1<<32-Pt(e)+s|n<<s|r,Zt=i+t}else Jt=1<<i|n<<s|r,Zt=t}function Xc(t){t.return!==null&&(jn(t,1),Um(t,1,0))}function Jc(t){for(;t===Go;)Go=Ir[--Ar],Ir[Ar]=null,Yo=Ir[--Ar],Ir[Ar]=null;for(;t===tr;)tr=_t[--wt],_t[wt]=null,Zt=_t[--wt],_t[wt]=null,Jt=_t[--wt],_t[wt]=null}var pt=null,ft=null,de=!1,xt=null;function Bm(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ef(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pt=t,ft=En(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pt=t,ft=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tr!==null?{id:Jt,overflow:Zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pt=t,ft=null,!0):!1;default:return!1}}function Nu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Du(t){if(de){var e=ft;if(e){var n=e;if(!ef(t,e)){if(Nu(t))throw Error($(418));e=En(n.nextSibling);var r=pt;e&&ef(t,e)?Bm(r,n):(t.flags=t.flags&-4097|2,de=!1,pt=t)}}else{if(Nu(t))throw Error($(418));t.flags=t.flags&-4097|2,de=!1,pt=t}}}function tf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pt=t}function to(t){if(t!==pt)return!1;if(!de)return tf(t),de=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ru(t.type,t.memoizedProps)),e&&(e=ft)){if(Nu(t))throw qm(),Error($(418));for(;e;)Bm(t,e),e=En(e.nextSibling)}if(tf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ft=En(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ft=null}}else ft=pt?En(t.stateNode.nextSibling):null;return!0}function qm(){for(var t=ft;t;)t=En(t.nextSibling)}function Hr(){ft=pt=null,de=!1}function Zc(t){xt===null?xt=[t]:xt.push(t)}var i1=ln.ReactCurrentBatchConfig;function Ct(t,e){if(t&&t.defaultProps){e=ge({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Xo=On(null),Jo=null,kr=null,eh=null;function th(){eh=kr=Jo=null}function nh(t){var e=Xo.current;he(Xo),t._currentValue=e}function Ou(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Or(t,e){Jo=t,eh=kr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(at=!0),t.firstContext=null)}function bt(t){var e=t._currentValue;if(eh!==t)if(t={context:t,memoizedValue:e,next:null},kr===null){if(Jo===null)throw Error($(308));kr=t,Jo.dependencies={lanes:0,firstContext:t}}else kr=kr.next=t;return e}var qn=null;function rh(t){qn===null?qn=[t]:qn.push(t)}function Hm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rh(e)):(n.next=s.next,s.next=n),e.interleaved=n,sn(t,r)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,sn(t,n)}return s=r.interleaved,s===null?(e.next=e,rh(r)):(e.next=s.next,s.next=e),r.interleaved=e,sn(t,n)}function So(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bc(t,n)}}function nf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zo(t,e,n,r){var s=t.updateQueue;hn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,g=c.next;c.next=null,o===null?i=g:o.next=g,o=c;var y=t.alternate;y!==null&&(y=y.updateQueue,a=y.lastBaseUpdate,a!==o&&(a===null?y.firstBaseUpdate=g:a.next=g,y.lastBaseUpdate=c))}if(i!==null){var l=s.baseState;o=0,y=g=c=null,a=i;do{var h=a.lane,m=a.eventTime;if((r&h)===h){y!==null&&(y=y.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,f=a;switch(h=e,m=n,f.tag){case 1:if(p=f.payload,typeof p=="function"){l=p.call(m,l,h);break e}l=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=f.payload,h=typeof p=="function"?p.call(m,l,h):p,h==null)break e;l=ge({},l,h);break e;case 2:hn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},y===null?(g=y=m,c=l):y=y.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(y===null&&(c=l),s.baseState=c,s.firstBaseUpdate=g,s.lastBaseUpdate=y,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);rr|=o,t.lanes=o,t.memoizedState=l}}function rf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Km=new Hp.Component().refs;function Vu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pa={isMounted:function(t){return(t=t._reactInternals)?cr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rt(),s=bn(t),i=tn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Sn(t,i,s),e!==null&&($t(e,t,s,r),So(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rt(),s=bn(t),i=tn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Sn(t,i,s),e!==null&&($t(e,t,s,r),So(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),r=bn(t),s=tn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Sn(t,s,r),e!==null&&($t(e,t,r,n),So(e,t,r))}};function sf(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ni(n,r)||!ni(s,i):!0}function Qm(t,e,n){var r=!1,s=xn,i=e.contextType;return typeof i=="object"&&i!==null?i=bt(i):(s=ut(e)?er:Xe.current,r=e.contextTypes,i=(r=r!=null)?qr(t,s):xn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pa,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function of(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pa.enqueueReplaceState(e,e.state,null)}function Lu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Km,sh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=bt(i):(i=ut(e)?er:Xe.current,s.context=qr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Pa.enqueueReplaceState(s,s.state,null),Zo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===Km&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function no(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function af(t){var e=t._init;return e(t._payload)}function Gm(t){function e(u,d){if(t){var v=u.deletions;v===null?(u.deletions=[d],u.flags|=16):v.push(d)}}function n(u,d){if(!t)return null;for(;d!==null;)e(u,d),d=d.sibling;return null}function r(u,d){for(u=new Map;d!==null;)d.key!==null?u.set(d.key,d):u.set(d.index,d),d=d.sibling;return u}function s(u,d){return u=In(u,d),u.index=0,u.sibling=null,u}function i(u,d,v){return u.index=v,t?(v=u.alternate,v!==null?(v=v.index,v<d?(u.flags|=2,d):v):(u.flags|=2,d)):(u.flags|=1048576,d)}function o(u){return t&&u.alternate===null&&(u.flags|=2),u}function a(u,d,v,E){return d===null||d.tag!==6?(d=Ml(v,u.mode,E),d.return=u,d):(d=s(d,v),d.return=u,d)}function c(u,d,v,E){var S=v.type;return S===_r?y(u,d,v.props.children,E,v.key):d!==null&&(d.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===cn&&af(S)===d.type)?(E=s(d,v.props),E.ref=_s(u,d,v),E.return=u,E):(E=Co(v.type,v.key,v.props,null,u.mode,E),E.ref=_s(u,d,v),E.return=u,E)}function g(u,d,v,E){return d===null||d.tag!==4||d.stateNode.containerInfo!==v.containerInfo||d.stateNode.implementation!==v.implementation?(d=jl(v,u.mode,E),d.return=u,d):(d=s(d,v.children||[]),d.return=u,d)}function y(u,d,v,E,S){return d===null||d.tag!==7?(d=Xn(v,u.mode,E,S),d.return=u,d):(d=s(d,v),d.return=u,d)}function l(u,d,v){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Ml(""+d,u.mode,v),d.return=u,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Hi:return v=Co(d.type,d.key,d.props,null,u.mode,v),v.ref=_s(u,null,d),v.return=u,v;case vr:return d=jl(d,u.mode,v),d.return=u,d;case cn:var E=d._init;return l(u,E(d._payload),v)}if(As(d)||ps(d))return d=Xn(d,u.mode,v,null),d.return=u,d;no(u,d)}return null}function h(u,d,v,E){var S=d!==null?d.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(u,d,""+v,E);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Hi:return v.key===S?c(u,d,v,E):null;case vr:return v.key===S?g(u,d,v,E):null;case cn:return S=v._init,h(u,d,S(v._payload),E)}if(As(v)||ps(v))return S!==null?null:y(u,d,v,E,null);no(u,v)}return null}function m(u,d,v,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return u=u.get(v)||null,a(d,u,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hi:return u=u.get(E.key===null?v:E.key)||null,c(d,u,E,S);case vr:return u=u.get(E.key===null?v:E.key)||null,g(d,u,E,S);case cn:var A=E._init;return m(u,d,v,A(E._payload),S)}if(As(E)||ps(E))return u=u.get(v)||null,y(d,u,E,S,null);no(d,E)}return null}function p(u,d,v,E){for(var S=null,A=null,I=d,w=d=0,T=null;I!==null&&w<v.length;w++){I.index>w?(T=I,I=null):T=I.sibling;var b=h(u,I,v[w],E);if(b===null){I===null&&(I=T);break}t&&I&&b.alternate===null&&e(u,I),d=i(b,d,w),A===null?S=b:A.sibling=b,A=b,I=T}if(w===v.length)return n(u,I),de&&jn(u,w),S;if(I===null){for(;w<v.length;w++)I=l(u,v[w],E),I!==null&&(d=i(I,d,w),A===null?S=I:A.sibling=I,A=I);return de&&jn(u,w),S}for(I=r(u,I);w<v.length;w++)T=m(I,u,w,v[w],E),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?w:T.key),d=i(T,d,w),A===null?S=T:A.sibling=T,A=T);return t&&I.forEach(function(k){return e(u,k)}),de&&jn(u,w),S}function f(u,d,v,E){var S=ps(v);if(typeof S!="function")throw Error($(150));if(v=S.call(v),v==null)throw Error($(151));for(var A=S=null,I=d,w=d=0,T=null,b=v.next();I!==null&&!b.done;w++,b=v.next()){I.index>w?(T=I,I=null):T=I.sibling;var k=h(u,I,b.value,E);if(k===null){I===null&&(I=T);break}t&&I&&k.alternate===null&&e(u,I),d=i(k,d,w),A===null?S=k:A.sibling=k,A=k,I=T}if(b.done)return n(u,I),de&&jn(u,w),S;if(I===null){for(;!b.done;w++,b=v.next())b=l(u,b.value,E),b!==null&&(d=i(b,d,w),A===null?S=b:A.sibling=b,A=b);return de&&jn(u,w),S}for(I=r(u,I);!b.done;w++,b=v.next())b=m(I,u,w,b.value,E),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?w:b.key),d=i(b,d,w),A===null?S=b:A.sibling=b,A=b);return t&&I.forEach(function(R){return e(u,R)}),de&&jn(u,w),S}function _(u,d,v,E){if(typeof v=="object"&&v!==null&&v.type===_r&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Hi:e:{for(var S=v.key,A=d;A!==null;){if(A.key===S){if(S=v.type,S===_r){if(A.tag===7){n(u,A.sibling),d=s(A,v.props.children),d.return=u,u=d;break e}}else if(A.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===cn&&af(S)===A.type){n(u,A.sibling),d=s(A,v.props),d.ref=_s(u,A,v),d.return=u,u=d;break e}n(u,A);break}else e(u,A);A=A.sibling}v.type===_r?(d=Xn(v.props.children,u.mode,E,v.key),d.return=u,u=d):(E=Co(v.type,v.key,v.props,null,u.mode,E),E.ref=_s(u,d,v),E.return=u,u=E)}return o(u);case vr:e:{for(A=v.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===v.containerInfo&&d.stateNode.implementation===v.implementation){n(u,d.sibling),d=s(d,v.children||[]),d.return=u,u=d;break e}else{n(u,d);break}else e(u,d);d=d.sibling}d=jl(v,u.mode,E),d.return=u,u=d}return o(u);case cn:return A=v._init,_(u,d,A(v._payload),E)}if(As(v))return p(u,d,v,E);if(ps(v))return f(u,d,v,E);no(u,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,d!==null&&d.tag===6?(n(u,d.sibling),d=s(d,v),d.return=u,u=d):(n(u,d),d=Ml(v,u.mode,E),d.return=u,u=d),o(u)):n(u,d)}return _}var Wr=Gm(!0),Ym=Gm(!1),xi={},qt=On(xi),oi=On(xi),ai=On(xi);function Hn(t){if(t===xi)throw Error($(174));return t}function ih(t,e){switch(le(ai,e),le(oi,t),le(qt,xi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mu(e,t)}he(qt),le(qt,e)}function Kr(){he(qt),he(oi),he(ai)}function Xm(t){Hn(ai.current);var e=Hn(qt.current),n=mu(e,t.type);e!==n&&(le(oi,t),le(qt,n))}function oh(t){oi.current===t&&(he(qt),he(oi))}var pe=On(0);function ea(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $l=[];function ah(){for(var t=0;t<$l.length;t++)$l[t]._workInProgressVersionPrimary=null;$l.length=0}var To=ln.ReactCurrentDispatcher,Nl=ln.ReactCurrentBatchConfig,nr=0,me=null,ke=null,$e=null,ta=!1,Ms=!1,li=0,o1=0;function Be(){throw Error($(321))}function lh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nt(t[n],e[n]))return!1;return!0}function uh(t,e,n,r,s,i){if(nr=i,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,To.current=t===null||t.memoizedState===null?c1:h1,t=n(r,s),Ms){i=0;do{if(Ms=!1,li=0,25<=i)throw Error($(301));i+=1,$e=ke=null,e.updateQueue=null,To.current=d1,t=n(r,s)}while(Ms)}if(To.current=na,e=ke!==null&&ke.next!==null,nr=0,$e=ke=me=null,ta=!1,e)throw Error($(300));return t}function ch(){var t=li!==0;return li=0,t}function Lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?me.memoizedState=$e=t:$e=$e.next=t,$e}function It(){if(ke===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=ke.next;var e=$e===null?me.memoizedState:$e.next;if(e!==null)$e=e,ke=t;else{if(t===null)throw Error($(310));ke=t,t={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},$e===null?me.memoizedState=$e=t:$e=$e.next=t}return $e}function ui(t,e){return typeof e=="function"?e(t):e}function Dl(t){var e=It(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=ke,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,g=i;do{var y=g.lane;if((nr&y)===y)c!==null&&(c=c.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:t(r,g.action);else{var l={lane:y,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};c===null?(a=c=l,o=r):c=c.next=l,me.lanes|=y,rr|=y}g=g.next}while(g!==null&&g!==i);c===null?o=r:c.next=a,Nt(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,me.lanes|=i,rr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ol(t){var e=It(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Nt(i,e.memoizedState)||(at=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Jm(){}function Zm(t,e){var n=me,r=It(),s=e(),i=!Nt(r.memoizedState,s);if(i&&(r.memoizedState=s,at=!0),r=r.queue,hh(ng.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,ci(9,tg.bind(null,n,r,s,e),void 0,null),Ne===null)throw Error($(349));nr&30||eg(n,e,s)}return s}function eg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tg(t,e,n,r){e.value=n,e.getSnapshot=r,rg(e)&&sg(t)}function ng(t,e,n){return n(function(){rg(e)&&sg(t)})}function rg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nt(t,n)}catch{return!0}}function sg(t){var e=sn(t,1);e!==null&&$t(e,t,1,-1)}function lf(t){var e=Lt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},e.queue=t,t=t.dispatch=u1.bind(null,me,t),[e.memoizedState,t]}function ci(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=me.updateQueue,e===null?(e={lastEffect:null,stores:null},me.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ig(){return It().memoizedState}function bo(t,e,n,r){var s=Lt();me.flags|=t,s.memoizedState=ci(1|e,n,void 0,r===void 0?null:r)}function $a(t,e,n,r){var s=It();r=r===void 0?null:r;var i=void 0;if(ke!==null){var o=ke.memoizedState;if(i=o.destroy,r!==null&&lh(r,o.deps)){s.memoizedState=ci(e,n,i,r);return}}me.flags|=t,s.memoizedState=ci(1|e,n,i,r)}function uf(t,e){return bo(8390656,8,t,e)}function hh(t,e){return $a(2048,8,t,e)}function og(t,e){return $a(4,2,t,e)}function ag(t,e){return $a(4,4,t,e)}function lg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ug(t,e,n){return n=n!=null?n.concat([t]):null,$a(4,4,lg.bind(null,e,t),n)}function dh(){}function cg(t,e){var n=It();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hg(t,e){var n=It();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dg(t,e,n){return nr&21?(Nt(n,e)||(n=mm(),me.lanes|=n,rr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,at=!0),t.memoizedState=n)}function a1(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=Nl.transition;Nl.transition={};try{t(!1),e()}finally{oe=n,Nl.transition=r}}function fg(){return It().memoizedState}function l1(t,e,n){var r=bn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pg(t))mg(e,n);else if(n=Hm(t,e,n,r),n!==null){var s=rt();$t(n,t,r,s),gg(n,e,r)}}function u1(t,e,n){var r=bn(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pg(t))mg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nt(a,o)){var c=e.interleaved;c===null?(s.next=s,rh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Hm(t,e,s,r),n!==null&&(s=rt(),$t(n,t,r,s),gg(n,e,r))}}function pg(t){var e=t.alternate;return t===me||e!==null&&e===me}function mg(t,e){Ms=ta=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bc(t,n)}}var na={readContext:bt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},c1={readContext:bt,useCallback:function(t,e){return Lt().memoizedState=[t,e===void 0?null:e],t},useContext:bt,useEffect:uf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bo(4194308,4,lg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bo(4194308,4,t,e)},useInsertionEffect:function(t,e){return bo(4,2,t,e)},useMemo:function(t,e){var n=Lt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Lt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l1.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=Lt();return t={current:t},e.memoizedState=t},useState:lf,useDebugValue:dh,useDeferredValue:function(t){return Lt().memoizedState=t},useTransition:function(){var t=lf(!1),e=t[0];return t=a1.bind(null,t[1]),Lt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=me,s=Lt();if(de){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Ne===null)throw Error($(349));nr&30||eg(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,uf(ng.bind(null,r,i,t),[t]),r.flags|=2048,ci(9,tg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Lt(),e=Ne.identifierPrefix;if(de){var n=Zt,r=Jt;n=(r&~(1<<32-Pt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=li++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},h1={readContext:bt,useCallback:cg,useContext:bt,useEffect:hh,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:Dl,useRef:ig,useState:function(){return Dl(ui)},useDebugValue:dh,useDeferredValue:function(t){var e=It();return dg(e,ke.memoizedState,t)},useTransition:function(){var t=Dl(ui)[0],e=It().memoizedState;return[t,e]},useMutableSource:Jm,useSyncExternalStore:Zm,useId:fg,unstable_isNewReconciler:!1},d1={readContext:bt,useCallback:cg,useContext:bt,useEffect:hh,useImperativeHandle:ug,useInsertionEffect:og,useLayoutEffect:ag,useMemo:hg,useReducer:Ol,useRef:ig,useState:function(){return Ol(ui)},useDebugValue:dh,useDeferredValue:function(t){var e=It();return ke===null?e.memoizedState=t:dg(e,ke.memoizedState,t)},useTransition:function(){var t=Ol(ui)[0],e=It().memoizedState;return[t,e]},useMutableSource:Jm,useSyncExternalStore:Zm,useId:fg,unstable_isNewReconciler:!1};function Qr(t,e){try{var n="",r=e;do n+=F0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Vl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f1=typeof WeakMap=="function"?WeakMap:Map;function yg(t,e,n){n=tn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sa||(sa=!0,Qu=r),Mu(t,e)},n}function vg(t,e,n){n=tn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Mu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mu(t,e),typeof r!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new f1;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=k1.bind(null,t,e,n),e.then(t,t))}function hf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function df(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tn(-1,1),e.tag=2,Sn(n,e,1))),n.lanes|=1),t)}var p1=ln.ReactCurrentOwner,at=!1;function et(t,e,n,r){e.child=t===null?Ym(e,null,n,r):Wr(e,t.child,n,r)}function ff(t,e,n,r,s){n=n.render;var i=e.ref;return Or(e,s),r=uh(t,e,n,r,i,s),n=ch(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(de&&n&&Xc(e),e.flags|=1,et(t,e,r,s),e.child)}function pf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!wh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,_g(t,e,i,r,s)):(t=Co(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(o,r)&&t.ref===e.ref)return on(t,e,s)}return e.flags|=1,t=In(i,r),t.ref=e.ref,t.return=e,e.child=t}function _g(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ni(i,r)&&t.ref===e.ref)if(at=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(at=!0);else return e.lanes=t.lanes,on(t,e,s)}return ju(t,e,n,r,s)}function wg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Rr,dt),dt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(Rr,dt),dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(Rr,dt),dt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,le(Rr,dt),dt|=r;return et(t,e,s,n),e.child}function Eg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ju(t,e,n,r,s){var i=ut(n)?er:Xe.current;return i=qr(e,i),Or(e,s),n=uh(t,e,n,r,i,s),r=ch(),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,on(t,e,s)):(de&&r&&Xc(e),e.flags|=1,et(t,e,n,s),e.child)}function mf(t,e,n,r,s){if(ut(n)){var i=!0;Qo(e)}else i=!1;if(Or(e,s),e.stateNode===null)Io(t,e),Qm(e,n,r),Lu(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,g=n.contextType;typeof g=="object"&&g!==null?g=bt(g):(g=ut(n)?er:Xe.current,g=qr(e,g));var y=n.getDerivedStateFromProps,l=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function";l||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==g)&&of(e,o,r,g),hn=!1;var h=e.memoizedState;o.state=h,Zo(e,r,o,s),c=e.memoizedState,a!==r||h!==c||lt.current||hn?(typeof y=="function"&&(Vu(e,n,y,r),c=e.memoizedState),(a=hn||sf(e,n,a,r,h,c,g))?(l||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=g,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Wm(t,e),a=e.memoizedProps,g=e.type===e.elementType?a:Ct(e.type,a),o.props=g,l=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=bt(c):(c=ut(n)?er:Xe.current,c=qr(e,c));var m=n.getDerivedStateFromProps;(y=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==l||h!==c)&&of(e,o,r,c),hn=!1,h=e.memoizedState,o.state=h,Zo(e,r,o,s);var p=e.memoizedState;a!==l||h!==p||lt.current||hn?(typeof m=="function"&&(Vu(e,n,m,r),p=e.memoizedState),(g=hn||sf(e,n,g,r,h,p,c)||!1)?(y||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=c,r=g):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Fu(t,e,n,r,i,s)}function Fu(t,e,n,r,s,i){Eg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Zd(e,n,!1),on(t,e,i);r=e.stateNode,p1.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wr(e,t.child,null,i),e.child=Wr(e,null,a,i)):et(t,e,a,i),e.memoizedState=r.state,s&&Zd(e,n,!0),e.child}function Sg(t){var e=t.stateNode;e.pendingContext?Jd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jd(t,e.context,!1),ih(t,e.containerInfo)}function gf(t,e,n,r,s){return Hr(),Zc(s),e.flags|=256,et(t,e,n,r),e.child}var zu={dehydrated:null,treeContext:null,retryLane:0};function Uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Tg(t,e,n){var r=e.pendingProps,s=pe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),le(pe,s&1),t===null)return Du(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Oa(o,r,0,null),t=Xn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Uu(n),e.memoizedState=zu,t):fh(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return m1(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=In(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=In(a,i):(i=Xn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Uu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=zu,r}return i=t.child,t=i.sibling,r=In(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fh(t,e){return e=Oa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ro(t,e,n,r){return r!==null&&Zc(r),Wr(e,t.child,null,n),t=fh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m1(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Vl(Error($(422))),ro(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Oa({mode:"visible",children:r.children},s,0,null),i=Xn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wr(e,t.child,null,o),e.child.memoizedState=Uu(o),e.memoizedState=zu,i);if(!(e.mode&1))return ro(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Vl(i,r,void 0),ro(t,e,o,r)}if(a=(o&t.childLanes)!==0,at||a){if(r=Ne,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sn(t,s),$t(r,t,s,-1))}return _h(),r=Vl(Error($(421))),ro(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=C1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ft=En(s.nextSibling),pt=e,de=!0,xt=null,t!==null&&(_t[wt++]=Jt,_t[wt++]=Zt,_t[wt++]=tr,Jt=t.id,Zt=t.overflow,tr=e),e=fh(e,r.children),e.flags|=4096,e)}function yf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ou(t.return,e,n)}function Ll(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(et(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yf(t,n,e);else if(t.tag===19)yf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(pe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ea(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ll(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ea(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ll(e,!0,n,null,i);break;case"together":Ll(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Io(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function on(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function g1(t,e,n){switch(e.tag){case 3:Sg(e),Hr();break;case 5:Xm(e);break;case 1:ut(e.type)&&Qo(e);break;case 4:ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;le(Xo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?Tg(t,e,n):(le(pe,pe.current&1),t=on(t,e,n),t!==null?t.sibling:null);le(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,wg(t,e,n)}return on(t,e,n)}var Ig,Bu,Ag,kg;Ig=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bu=function(){};Ag=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Hn(qt.current);var i=null;switch(n){case"input":s=hu(t,s),r=hu(t,r),i=[];break;case"select":s=ge({},s,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":s=pu(t,s),r=pu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wo)}gu(n,r);var o;n=null;for(g in s)if(!r.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var a=s[g];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Gs.hasOwnProperty(g)?i||(i=[]):(i=i||[]).push(g,null));for(g in r){var c=r[g];if(a=s!=null?s[g]:void 0,r.hasOwnProperty(g)&&c!==a&&(c!=null||a!=null))if(g==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(g,n)),n=c;else g==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(g,c)):g==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(g,""+c):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Gs.hasOwnProperty(g)?(c!=null&&g==="onScroll"&&ue("scroll",t),i||a===c||(i=[])):(i=i||[]).push(g,c))}n&&(i=i||[]).push("style",n);var g=i;(e.updateQueue=g)&&(e.flags|=4)}};kg=function(t,e,n,r){n!==r&&(e.flags|=4)};function ws(t,e){if(!de)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function y1(t,e,n){var r=e.pendingProps;switch(Jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return ut(e.type)&&Ko(),qe(e),null;case 3:return r=e.stateNode,Kr(),he(lt),he(Xe),ah(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(to(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xt!==null&&(Xu(xt),xt=null))),Bu(t,e),qe(e),null;case 5:oh(e);var s=Hn(ai.current);if(n=e.type,t!==null&&e.stateNode!=null)Ag(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return qe(e),null}if(t=Hn(qt.current),to(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Mt]=e,r[ii]=i,t=(e.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(s=0;s<Cs.length;s++)ue(Cs[s],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Id(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":kd(r,i),ue("invalid",r)}gu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&eo(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&eo(r.textContent,a,t),s=["children",""+a]):Gs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":Wi(r),Ad(r,i,!0);break;case"textarea":Wi(r),Cd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wo)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=em(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mt]=e,t[ii]=r,Ig(t,e,!1,!1),e.stateNode=t;e:{switch(o=yu(n,r),n){case"dialog":ue("cancel",t),ue("close",t),s=r;break;case"iframe":case"object":case"embed":ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<Cs.length;s++)ue(Cs[s],t);s=r;break;case"source":ue("error",t),s=r;break;case"img":case"image":case"link":ue("error",t),ue("load",t),s=r;break;case"details":ue("toggle",t),s=r;break;case"input":Id(t,r),s=hu(t,r),ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ge({},r,{value:void 0}),ue("invalid",t);break;case"textarea":kd(t,r),s=pu(t,r),ue("invalid",t);break;default:s=r}gu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?rm(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tm(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ys(t,c):typeof c=="number"&&Ys(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gs.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",t):c!=null&&Lc(t,i,c,o))}switch(n){case"input":Wi(t),Ad(t,r,!1);break;case"textarea":Wi(t),Cd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Pr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)kg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Hn(ai.current),Hn(qt.current),to(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mt]=e,(i=r.nodeValue!==n)&&(t=pt,t!==null))switch(t.tag){case 3:eo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=e,e.stateNode=r}return qe(e),null;case 13:if(he(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(de&&ft!==null&&e.mode&1&&!(e.flags&128))qm(),Hr(),e.flags|=98560,i=!1;else if(i=to(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Mt]=e}else Hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),i=!1}else xt!==null&&(Xu(xt),xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Re===0&&(Re=3):_h())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return Kr(),Bu(t,e),t===null&&ri(e.stateNode.containerInfo),qe(e),null;case 10:return nh(e.type._context),qe(e),null;case 17:return ut(e.type)&&Ko(),qe(e),null;case 19:if(he(pe),i=e.memoizedState,i===null)return qe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ws(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ea(t),o!==null){for(e.flags|=128,ws(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(pe,pe.current&1|2),e.child}t=t.sibling}i.tail!==null&&we()>Gr&&(e.flags|=128,r=!0,ws(i,!1),e.lanes=4194304)}else{if(!r)if(t=ea(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ws(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!de)return qe(e),null}else 2*we()-i.renderingStartTime>Gr&&n!==1073741824&&(e.flags|=128,r=!0,ws(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=we(),e.sibling=null,n=pe.current,le(pe,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return vh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dt&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function v1(t,e){switch(Jc(e),e.tag){case 1:return ut(e.type)&&Ko(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kr(),he(lt),he(Xe),ah(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oh(e),null;case 13:if(he(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(pe),null;case 4:return Kr(),null;case 10:return nh(e.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var so=!1,Ke=!1,_1=typeof WeakSet=="function"?WeakSet:Set,M=null;function Cr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function qu(t,e,n){try{n()}catch(r){ye(t,e,r)}}var vf=!1;function w1(t,e){if(ku=Bo,t=Pm(),Yc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,g=0,y=0,l=t,h=null;t:for(;;){for(var m;l!==n||s!==0&&l.nodeType!==3||(a=o+s),l!==i||r!==0&&l.nodeType!==3||(c=o+r),l.nodeType===3&&(o+=l.nodeValue.length),(m=l.firstChild)!==null;)h=l,l=m;for(;;){if(l===t)break t;if(h===n&&++g===s&&(a=o),h===i&&++y===r&&(c=o),(m=l.nextSibling)!==null)break;l=h,h=l.parentNode}l=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cu={focusedElem:t,selectionRange:n},Bo=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var f=p.memoizedProps,_=p.memoizedState,u=e.stateNode,d=u.getSnapshotBeforeUpdate(e.elementType===e.type?f:Ct(e.type,f),_);u.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(E){ye(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return p=vf,vf=!1,p}function js(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qu(e,n,i)}s=s.next}while(s!==r)}}function Na(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cg(t){var e=t.alternate;e!==null&&(t.alternate=null,Cg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mt],delete e[ii],delete e[Pu],delete e[n1],delete e[r1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rg(t){return t.tag===5||t.tag===3||t.tag===4}function _f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wo));else if(r!==4&&(t=t.child,t!==null))for(Wu(t,e,n),t=t.sibling;t!==null;)Wu(t,e,n),t=t.sibling}function Ku(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ku(t,e,n),t=t.sibling;t!==null;)Ku(t,e,n),t=t.sibling}var Ve=null,Rt=!1;function un(t,e,n){for(n=n.child;n!==null;)xg(t,e,n),n=n.sibling}function xg(t,e,n){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Ia,n)}catch{}switch(n.tag){case 5:Ke||Cr(n,e);case 6:var r=Ve,s=Rt;Ve=null,un(t,e,n),Ve=r,Rt=s,Ve!==null&&(Rt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Rt?(t=Ve,n=n.stateNode,t.nodeType===8?xl(t.parentNode,n):t.nodeType===1&&xl(t,n),ei(t)):xl(Ve,n.stateNode));break;case 4:r=Ve,s=Rt,Ve=n.stateNode.containerInfo,Rt=!0,un(t,e,n),Ve=r,Rt=s;break;case 0:case 11:case 14:case 15:if(!Ke&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qu(n,e,o),s=s.next}while(s!==r)}un(t,e,n);break;case 1:if(!Ke&&(Cr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,e,a)}un(t,e,n);break;case 21:un(t,e,n);break;case 22:n.mode&1?(Ke=(r=Ke)||n.memoizedState!==null,un(t,e,n),Ke=r):un(t,e,n);break;default:un(t,e,n)}}function wf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _1),e.forEach(function(r){var s=R1.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Rt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Rt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Rt=!0;break e}a=a.return}if(Ve===null)throw Error($(160));xg(i,o,s),Ve=null,Rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(g){ye(s,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pg(e,t),e=e.sibling}function Pg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kt(e,t),Vt(t),r&4){try{js(3,t,t.return),Na(3,t)}catch(f){ye(t,t.return,f)}try{js(5,t,t.return)}catch(f){ye(t,t.return,f)}}break;case 1:kt(e,t),Vt(t),r&512&&n!==null&&Cr(n,n.return);break;case 5:if(kt(e,t),Vt(t),r&512&&n!==null&&Cr(n,n.return),t.flags&32){var s=t.stateNode;try{Ys(s,"")}catch(f){ye(t,t.return,f)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Jp(s,i),yu(a,o);var g=yu(a,i);for(o=0;o<c.length;o+=2){var y=c[o],l=c[o+1];y==="style"?rm(s,l):y==="dangerouslySetInnerHTML"?tm(s,l):y==="children"?Ys(s,l):Lc(s,y,l,g)}switch(a){case"input":du(s,i);break;case"textarea":Zp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Pr(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Pr(s,!!i.multiple,i.defaultValue,!0):Pr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ii]=i}catch(f){ye(t,t.return,f)}}break;case 6:if(kt(e,t),Vt(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(f){ye(t,t.return,f)}}break;case 3:if(kt(e,t),Vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ei(e.containerInfo)}catch(f){ye(t,t.return,f)}break;case 4:kt(e,t),Vt(t);break;case 13:kt(e,t),Vt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gh=we())),r&4&&wf(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(Ke=(g=Ke)||y,kt(e,t),Ke=g):kt(e,t),Vt(t),r&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!y&&t.mode&1)for(M=t,y=t.child;y!==null;){for(l=M=y;M!==null;){switch(h=M,m=h.child,h.tag){case 0:case 11:case 14:case 15:js(4,h,h.return);break;case 1:Cr(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(f){ye(r,n,f)}}break;case 5:Cr(h,h.return);break;case 22:if(h.memoizedState!==null){Sf(l);continue}}m!==null?(m.return=h,M=m):Sf(l)}y=y.sibling}e:for(y=null,l=t;;){if(l.tag===5){if(y===null){y=l;try{s=l.stateNode,g?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=l.stateNode,c=l.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=nm("display",o))}catch(f){ye(t,t.return,f)}}}else if(l.tag===6){if(y===null)try{l.stateNode.nodeValue=g?"":l.memoizedProps}catch(f){ye(t,t.return,f)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===t)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;y===l&&(y=null),l=l.return}y===l&&(y=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:kt(e,t),Vt(t),r&4&&wf(t);break;case 21:break;default:kt(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rg(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ys(s,""),r.flags&=-33);var i=_f(t);Ku(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_f(t);Wu(t,a,o);break;default:throw Error($(161))}}catch(c){ye(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E1(t,e,n){M=t,$g(t)}function $g(t,e,n){for(var r=(t.mode&1)!==0;M!==null;){var s=M,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||so;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ke;a=so;var g=Ke;if(so=o,(Ke=c)&&!g)for(M=s;M!==null;)o=M,c=o.child,o.tag===22&&o.memoizedState!==null?Tf(s):c!==null?(c.return=o,M=c):Tf(s);for(;i!==null;)M=i,$g(i),i=i.sibling;M=s,so=a,Ke=g}Ef(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,M=i):Ef(t)}}function Ef(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ke||Na(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ke)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ct(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rf(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rf(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var y=g.memoizedState;if(y!==null){var l=y.dehydrated;l!==null&&ei(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ke||e.flags&512&&Hu(e)}catch(h){ye(e,e.return,h)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Sf(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Tf(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Na(4,e)}catch(c){ye(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ye(e,s,c)}}var i=e.return;try{Hu(e)}catch(c){ye(e,i,c)}break;case 5:var o=e.return;try{Hu(e)}catch(c){ye(e,o,c)}}}catch(c){ye(e,e.return,c)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var S1=Math.ceil,ra=ln.ReactCurrentDispatcher,ph=ln.ReactCurrentOwner,Tt=ln.ReactCurrentBatchConfig,re=0,Ne=null,Ie=null,je=0,dt=0,Rr=On(0),Re=0,hi=null,rr=0,Da=0,mh=0,Fs=null,ot=null,gh=0,Gr=1/0,Yt=null,sa=!1,Qu=null,Tn=null,io=!1,mn=null,ia=0,zs=0,Gu=null,Ao=-1,ko=0;function rt(){return re&6?we():Ao!==-1?Ao:Ao=we()}function bn(t){return t.mode&1?re&2&&je!==0?je&-je:i1.transition!==null?(ko===0&&(ko=mm()),ko):(t=oe,t!==0||(t=window.event,t=t===void 0?16:Sm(t.type)),t):1}function $t(t,e,n,r){if(50<zs)throw zs=0,Gu=null,Error($(185));ki(t,n,r),(!(re&2)||t!==Ne)&&(t===Ne&&(!(re&2)&&(Da|=n),Re===4&&fn(t,je)),ct(t,r),n===1&&re===0&&!(e.mode&1)&&(Gr=we()+500,xa&&Vn()))}function ct(t,e){var n=t.callbackNode;i_(t,e);var r=Uo(t,t===Ne?je:0);if(r===0)n!==null&&Pd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pd(n),e===1)t.tag===0?s1(bf.bind(null,t)):zm(bf.bind(null,t)),e1(function(){!(re&6)&&Vn()}),n=null;else{switch(gm(r)){case 1:n=Uc;break;case 4:n=fm;break;case 16:n=zo;break;case 536870912:n=pm;break;default:n=zo}n=Fg(n,Ng.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ng(t,e){if(Ao=-1,ko=0,re&6)throw Error($(327));var n=t.callbackNode;if(Vr()&&t.callbackNode!==n)return null;var r=Uo(t,t===Ne?je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oa(t,r);else{e=r;var s=re;re|=2;var i=Og();(Ne!==t||je!==e)&&(Yt=null,Gr=we()+500,Yn(t,e));do try{I1();break}catch(a){Dg(t,a)}while(1);th(),ra.current=i,re=s,Ie!==null?e=0:(Ne=null,je=0,e=Re)}if(e!==0){if(e===2&&(s=Su(t),s!==0&&(r=s,e=Yu(t,s))),e===1)throw n=hi,Yn(t,0),fn(t,r),ct(t,we()),n;if(e===6)fn(t,r);else{if(s=t.current.alternate,!(r&30)&&!T1(s)&&(e=oa(t,r),e===2&&(i=Su(t),i!==0&&(r=i,e=Yu(t,i))),e===1))throw n=hi,Yn(t,0),fn(t,r),ct(t,we()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:Fn(t,ot,Yt);break;case 3:if(fn(t,r),(r&130023424)===r&&(e=gh+500-we(),10<e)){if(Uo(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xu(Fn.bind(null,t,ot,Yt),e);break}Fn(t,ot,Yt);break;case 4:if(fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Pt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S1(r/1960))-r,10<r){t.timeoutHandle=xu(Fn.bind(null,t,ot,Yt),r);break}Fn(t,ot,Yt);break;case 5:Fn(t,ot,Yt);break;default:throw Error($(329))}}}return ct(t,we()),t.callbackNode===n?Ng.bind(null,t):null}function Yu(t,e){var n=Fs;return t.current.memoizedState.isDehydrated&&(Yn(t,e).flags|=256),t=oa(t,e),t!==2&&(e=ot,ot=n,e!==null&&Xu(e)),t}function Xu(t){ot===null?ot=t:ot.push.apply(ot,t)}function T1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fn(t,e){for(e&=~mh,e&=~Da,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pt(e),r=1<<n;t[n]=-1,e&=~r}}function bf(t){if(re&6)throw Error($(327));Vr();var e=Uo(t,0);if(!(e&1))return ct(t,we()),null;var n=oa(t,e);if(t.tag!==0&&n===2){var r=Su(t);r!==0&&(e=r,n=Yu(t,r))}if(n===1)throw n=hi,Yn(t,0),fn(t,e),ct(t,we()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fn(t,ot,Yt),ct(t,we()),null}function yh(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Gr=we()+500,xa&&Vn())}}function sr(t){mn!==null&&mn.tag===0&&!(re&6)&&Vr();var e=re;re|=1;var n=Tt.transition,r=oe;try{if(Tt.transition=null,oe=1,t)return t()}finally{oe=r,Tt.transition=n,re=e,!(re&6)&&Vn()}}function vh(){dt=Rr.current,he(Rr)}function Yn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Z_(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(Jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ko();break;case 3:Kr(),he(lt),he(Xe),ah();break;case 5:oh(r);break;case 4:Kr();break;case 13:he(pe);break;case 19:he(pe);break;case 10:nh(r.type._context);break;case 22:case 23:vh()}n=n.return}if(Ne=t,Ie=t=In(t.current,null),je=dt=e,Re=0,hi=null,mh=Da=rr=0,ot=Fs=null,qn!==null){for(e=0;e<qn.length;e++)if(n=qn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}qn=null}return t}function Dg(t,e){do{var n=Ie;try{if(th(),To.current=na,ta){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ta=!1}if(nr=0,$e=ke=me=null,Ms=!1,li=0,ph.current=null,n===null||n.return===null){Re=1,hi=e,Ie=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=je,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var g=c,y=a,l=y.tag;if(!(y.mode&1)&&(l===0||l===11||l===15)){var h=y.alternate;h?(y.updateQueue=h.updateQueue,y.memoizedState=h.memoizedState,y.lanes=h.lanes):(y.updateQueue=null,y.memoizedState=null)}var m=hf(o);if(m!==null){m.flags&=-257,df(m,o,a,i,e),m.mode&1&&cf(i,g,e),e=m,c=g;var p=e.updateQueue;if(p===null){var f=new Set;f.add(c),e.updateQueue=f}else p.add(c);break e}else{if(!(e&1)){cf(i,g,e),_h();break e}c=Error($(426))}}else if(de&&a.mode&1){var _=hf(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),df(_,o,a,i,e),Zc(Qr(c,a));break e}}i=c=Qr(c,a),Re!==4&&(Re=2),Fs===null?Fs=[i]:Fs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var u=yg(i,c,e);nf(i,u);break e;case 1:a=c;var d=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof d.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Tn===null||!Tn.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var E=vg(i,a,e);nf(i,E);break e}}i=i.return}while(i!==null)}Lg(n)}catch(S){e=S,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(1)}function Og(){var t=ra.current;return ra.current=na,t===null?na:t}function _h(){(Re===0||Re===3||Re===2)&&(Re=4),Ne===null||!(rr&268435455)&&!(Da&268435455)||fn(Ne,je)}function oa(t,e){var n=re;re|=2;var r=Og();(Ne!==t||je!==e)&&(Yt=null,Yn(t,e));do try{b1();break}catch(s){Dg(t,s)}while(1);if(th(),re=n,ra.current=r,Ie!==null)throw Error($(261));return Ne=null,je=0,Re}function b1(){for(;Ie!==null;)Vg(Ie)}function I1(){for(;Ie!==null&&!Y0();)Vg(Ie)}function Vg(t){var e=jg(t.alternate,t,dt);t.memoizedProps=t.pendingProps,e===null?Lg(t):Ie=e,ph.current=null}function Lg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v1(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,Ie=null;return}}else if(n=y1(n,e,dt),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Re===0&&(Re=5)}function Fn(t,e,n){var r=oe,s=Tt.transition;try{Tt.transition=null,oe=1,A1(t,e,n,r)}finally{Tt.transition=s,oe=r}return null}function A1(t,e,n,r){do Vr();while(mn!==null);if(re&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(o_(t,i),t===Ne&&(Ie=Ne=null,je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||io||(io=!0,Fg(zo,function(){return Vr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Tt.transition,Tt.transition=null;var o=oe;oe=1;var a=re;re|=4,ph.current=null,w1(t,n),Pg(n,t),W_(Cu),Bo=!!ku,Cu=ku=null,t.current=n,E1(n),X0(),re=a,oe=o,Tt.transition=i}else t.current=n;if(io&&(io=!1,mn=t,ia=s),i=t.pendingLanes,i===0&&(Tn=null),e_(n.stateNode),ct(t,we()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sa)throw sa=!1,t=Qu,Qu=null,t;return ia&1&&t.tag!==0&&Vr(),i=t.pendingLanes,i&1?t===Gu?zs++:(zs=0,Gu=t):zs=0,Vn(),null}function Vr(){if(mn!==null){var t=gm(ia),e=Tt.transition,n=oe;try{if(Tt.transition=null,oe=16>t?16:t,mn===null)var r=!1;else{if(t=mn,mn=null,ia=0,re&6)throw Error($(331));var s=re;for(re|=4,M=t.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var g=a[c];for(M=g;M!==null;){var y=M;switch(y.tag){case 0:case 11:case 15:js(8,y,i)}var l=y.child;if(l!==null)l.return=y,M=l;else for(;M!==null;){y=M;var h=y.sibling,m=y.return;if(Cg(y),y===g){M=null;break}if(h!==null){h.return=m,M=h;break}M=m}}}var p=i.alternate;if(p!==null){var f=p.child;if(f!==null){p.child=null;do{var _=f.sibling;f.sibling=null,f=_}while(f!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:js(9,i,i.return)}var u=i.sibling;if(u!==null){u.return=i.return,M=u;break e}M=i.return}}var d=t.current;for(M=d;M!==null;){o=M;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,M=v;else e:for(o=d;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Na(9,a)}}catch(S){ye(a,a.return,S)}if(a===o){M=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,M=E;break e}M=a.return}}if(re=s,Vn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Ia,t)}catch{}r=!0}return r}finally{oe=n,Tt.transition=e}}return!1}function If(t,e,n){e=Qr(n,e),e=yg(t,e,1),t=Sn(t,e,1),e=rt(),t!==null&&(ki(t,1,e),ct(t,e))}function ye(t,e,n){if(t.tag===3)If(t,t,n);else for(;e!==null;){if(e.tag===3){If(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tn===null||!Tn.has(r))){t=Qr(n,t),t=vg(e,t,1),e=Sn(e,t,1),t=rt(),e!==null&&(ki(e,1,t),ct(e,t));break}}e=e.return}}function k1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rt(),t.pingedLanes|=t.suspendedLanes&n,Ne===t&&(je&n)===n&&(Re===4||Re===3&&(je&130023424)===je&&500>we()-gh?Yn(t,0):mh|=n),ct(t,e)}function Mg(t,e){e===0&&(t.mode&1?(e=Gi,Gi<<=1,!(Gi&130023424)&&(Gi=4194304)):e=1);var n=rt();t=sn(t,e),t!==null&&(ki(t,e,n),ct(t,n))}function C1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mg(t,n)}function R1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Mg(t,n)}var jg;jg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||lt.current)at=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return at=!1,g1(t,e,n);at=!!(t.flags&131072)}else at=!1,de&&e.flags&1048576&&Um(e,Yo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Io(t,e),t=e.pendingProps;var s=qr(e,Xe.current);Or(e,n),s=uh(null,e,r,t,s,n);var i=ch();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ut(r)?(i=!0,Qo(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sh(e),s.updater=Pa,e.stateNode=s,s._reactInternals=e,Lu(e,r,t,n),e=Fu(null,e,r,!0,i,n)):(e.tag=0,de&&i&&Xc(e),et(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Io(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=P1(r),t=Ct(r,t),s){case 0:e=ju(null,e,r,t,n);break e;case 1:e=mf(null,e,r,t,n);break e;case 11:e=ff(null,e,r,t,n);break e;case 14:e=pf(null,e,r,Ct(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ct(r,s),ju(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ct(r,s),mf(t,e,r,s,n);case 3:e:{if(Sg(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Wm(t,e),Zo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Qr(Error($(423)),e),e=gf(t,e,r,n,s);break e}else if(r!==s){s=Qr(Error($(424)),e),e=gf(t,e,r,n,s);break e}else for(ft=En(e.stateNode.containerInfo.firstChild),pt=e,de=!0,xt=null,n=Ym(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===s){e=on(t,e,n);break e}et(t,e,r,n)}e=e.child}return e;case 5:return Xm(e),t===null&&Du(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ru(r,s)?o=null:i!==null&&Ru(r,i)&&(e.flags|=32),Eg(t,e),et(t,e,o,n),e.child;case 6:return t===null&&Du(e),null;case 13:return Tg(t,e,n);case 4:return ih(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wr(e,null,r,n):et(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ct(r,s),ff(t,e,r,s,n);case 7:return et(t,e,e.pendingProps,n),e.child;case 8:return et(t,e,e.pendingProps.children,n),e.child;case 12:return et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,le(Xo,r._currentValue),r._currentValue=o,i!==null)if(Nt(i.value,o)){if(i.children===s.children&&!lt.current){e=on(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=tn(-1,n&-n),c.tag=2;var g=i.updateQueue;if(g!==null){g=g.shared;var y=g.pending;y===null?c.next=c:(c.next=y.next,y.next=c),g.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ou(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ou(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}et(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Or(e,n),s=bt(s),r=r(s),e.flags|=1,et(t,e,r,n),e.child;case 14:return r=e.type,s=Ct(r,e.pendingProps),s=Ct(r.type,s),pf(t,e,r,s,n);case 15:return _g(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ct(r,s),Io(t,e),e.tag=1,ut(r)?(t=!0,Qo(e)):t=!1,Or(e,n),Qm(e,r,s),Lu(e,r,s,n),Fu(null,e,r,!0,t,n);case 19:return bg(t,e,n);case 22:return wg(t,e,n)}throw Error($(156,e.tag))};function Fg(t,e){return dm(t,e)}function x1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,r){return new x1(t,e,n,r)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function P1(t){if(typeof t=="function")return wh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jc)return 11;if(t===Fc)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Co(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")wh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _r:return Xn(n.children,s,i,e);case Mc:o=8,s|=8;break;case au:return t=St(12,n,e,s|2),t.elementType=au,t.lanes=i,t;case lu:return t=St(13,n,e,s),t.elementType=lu,t.lanes=i,t;case uu:return t=St(19,n,e,s),t.elementType=uu,t.lanes=i,t;case Gp:return Oa(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Kp:o=10;break e;case Qp:o=9;break e;case jc:o=11;break e;case Fc:o=14;break e;case cn:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=St(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xn(t,e,n,r){return t=St(7,t,r,e),t.lanes=n,t}function Oa(t,e,n,r){return t=St(22,t,r,e),t.elementType=Gp,t.lanes=n,t.stateNode={isHidden:!1},t}function Ml(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function jl(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eh(t,e,n,r,s,i,o,a,c){return t=new $1(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=St(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sh(i),t}function N1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zg(t){if(!t)return xn;t=t._reactInternals;e:{if(cr(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ut(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(ut(n))return Fm(t,n,e)}return e}function Ug(t,e,n,r,s,i,o,a,c){return t=Eh(n,r,!0,t,s,i,o,a,c),t.context=zg(null),n=t.current,r=rt(),s=bn(n),i=tn(r,s),i.callback=e??null,Sn(n,i,s),t.current.lanes=s,ki(t,s,r),ct(t,r),t}function Va(t,e,n,r){var s=e.current,i=rt(),o=bn(s);return n=zg(n),e.context===null?e.context=n:e.pendingContext=n,e=tn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sn(s,e,o),t!==null&&($t(t,s,o,i),So(t,s,o)),o}function aa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Af(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sh(t,e){Af(t,e),(t=t.alternate)&&Af(t,e)}function D1(){return null}var Bg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Th(t){this._internalRoot=t}La.prototype.render=Th.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));Va(t,e,null,null)};La.prototype.unmount=Th.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sr(function(){Va(null,t,null,null)}),e[rn]=null}};function La(t){this._internalRoot=t}La.prototype.unstable_scheduleHydration=function(t){if(t){var e=_m();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dn.length&&e!==0&&e<dn[n].priority;n++);dn.splice(n,0,t),n===0&&Em(t)}};function bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ma(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kf(){}function O1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var g=aa(o);i.call(g)}}var o=Ug(e,r,t,0,null,!1,!1,"",kf);return t._reactRootContainer=o,t[rn]=o.current,ri(t.nodeType===8?t.parentNode:t),sr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var g=aa(c);a.call(g)}}var c=Eh(t,0,!1,null,null,!1,!1,"",kf);return t._reactRootContainer=c,t[rn]=c.current,ri(t.nodeType===8?t.parentNode:t),sr(function(){Va(e,c,n,r)}),c}function ja(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=aa(o);a.call(c)}}Va(e,o,t,s)}else o=O1(n,e,t,s,r);return aa(o)}ym=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ks(e.pendingLanes);n!==0&&(Bc(e,n|1),ct(e,we()),!(re&6)&&(Gr=we()+500,Vn()))}break;case 13:sr(function(){var r=sn(t,1);if(r!==null){var s=rt();$t(r,t,1,s)}}),Sh(t,1)}};qc=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=rt();$t(e,t,134217728,n)}Sh(t,134217728)}};vm=function(t){if(t.tag===13){var e=bn(t),n=sn(t,e);if(n!==null){var r=rt();$t(n,t,e,r)}Sh(t,e)}};_m=function(){return oe};wm=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};_u=function(t,e,n){switch(e){case"input":if(du(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ra(r);if(!s)throw Error($(90));Xp(r),du(r,s)}}}break;case"textarea":Zp(t,n);break;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}};om=yh;am=sr;var V1={usingClientEntryPoint:!1,Events:[Ri,Tr,Ra,sm,im,yh]},Es={findFiberByHostInstance:Bn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},L1={bundleType:Es.bundleType,version:Es.version,rendererPackageName:Es.rendererPackageName,rendererConfig:Es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cm(t),t===null?null:t.stateNode},findFiberByHostInstance:Es.findFiberByHostInstance||D1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Ia=oo.inject(L1),Bt=oo}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V1;yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bh(e))throw Error($(200));return N1(t,e,null,n)};yt.createRoot=function(t,e){if(!bh(t))throw Error($(299));var n=!1,r="",s=Bg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Eh(t,1,!1,null,null,n,!1,r,s),t[rn]=e.current,ri(t.nodeType===8?t.parentNode:t),new Th(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=cm(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return sr(t)};yt.hydrate=function(t,e,n){if(!Ma(e))throw Error($(200));return ja(null,t,e,!0,n)};yt.hydrateRoot=function(t,e,n){if(!bh(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Bg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ug(e,null,t,1,n??null,s,!1,i,o),t[rn]=e.current,ri(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new La(e)};yt.render=function(t,e,n){if(!Ma(e))throw Error($(200));return ja(null,t,e,!1,n)};yt.unmountComponentAtNode=function(t){if(!Ma(t))throw Error($(40));return t._reactRootContainer?(sr(function(){ja(null,null,t,!1,function(){t._reactRootContainer=null,t[rn]=null})}),!0):!1};yt.unstable_batchedUpdates=yh;yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ma(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return ja(t,e,n,!1,r)};yt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=yt})(D0);var Cf=su;ru.createRoot=Cf.createRoot,ru.hydrateRoot=Cf.hydrateRoot;var X={},M1={get exports(){return X},set exports(t){X=t}},j1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F1=j1,z1=F1;function qg(){}function Hg(){}Hg.resetWarningCache=qg;var U1=function(){function t(r,s,i,o,a,c){if(c!==z1){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Hg,resetWarningCache:qg};return n.PropTypes=n,n};M1.exports=U1();function B1(t){return Object.prototype.toString.call(t)==="[object String]"}function q1(t){return!isNaN(t)}function H1(t){return Object.prototype.toString.call(t)==="[object Object]"}function Je(...t){return t.reduce((e,n)=>{if(!n)return e;const r=B1(n),s=q1(n),i=H1(n);if((r||s)&&e.push(n),i){const[o,a]=Object.entries(n)[0];e=e.concat(a?o:[])}return e},[]).join(" ")}function Ju(t,e){let n=null;return(...r)=>{if(!n)return n=setTimeout(()=>{n=null},e),t(...r)}}function W1(t){return e=>{e.keyCode===27&&t(e)}}function K1(t,e=0){return{role:"button",tabIndex:e,onKeyDown:W1(t),onClick:t}}function Wg(t,e=50){const n=document.querySelector(t);window.scrollTo({top:n.offsetTop-e,behavior:"smooth"})}const hr=zp.forwardRef(({variant:t,className:e,block:n,rounded:r,children:s,...i},o)=>{const c=Je("btn",{[{green:"btn--green",dark:"btn--dark",blue:"btn--blue",red:"btn--red"}[t]]:t},{"btn--block":n},{[e]:e},{"rounded-pill":r});return C("button",{className:c,...i,ref:o,children:s})});hr.propTypes={block:X.bool,className:X.string,variant:X.oneOf(["green","dark","blue","red"]),rounded:X.bool,children:X.node.isRequired};function Kg({className:t,children:e,...n}){const r=Je("navbar",{[t]:t});return C("nav",{...n,className:r,children:C("div",{className:"container flex flex-ai-c h-100 ",children:e})})}function Qg({className:t,children:e,...n}){const r=Je("navbar__logo",{[t]:t});return C("a",{className:r,...n,children:e})}function Gg({children:t,...e}){return J(hr,{...e,className:"btn navbar__toggler d-lg-none",type:"button",children:[C("span",{className:"navbar__icon"}),t]})}function Yg({className:t,visible:e,children:n,...r}){const s=Je("navbar__nav",{[t]:t},{visible:e});return C("ul",{...r,className:s,children:n})}function Ro({className:t,children:e,...n}){const r=Je("navbar__item",{[t]:t});return C("li",{...n,className:r,children:e})}function xo({className:t,children:e,...n}){const r=Je("navbar__link",{[t]:t});return C("a",{...n,className:r,children:e})}function la(t,e,n=window){const r=U.useRef({eventName:t,handler:e,element:n});U.useLayoutEffect(()=>{const{eventName:s,handler:i,element:o}=r.current;return o.addEventListener(s,i),()=>{o.removeEventListener(s,i)}},[t,e,n])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Q1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Jg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,g=c?t[s+2]:0,y=i>>2,l=(i&3)<<4|a>>4;let h=(a&15)<<2|g>>6,m=g&63;c||(m=64,o||(h=64)),r.push(n[y],n[l],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Q1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const g=s<t.length?n[t.charAt(s)]:64;++s;const l=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||g==null||l==null)throw new G1;const h=i<<2|a>>4;if(r.push(h),g!==64){const m=a<<4&240|g>>2;if(r.push(m),l!==64){const p=g<<6&192|l;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y1=function(t){const e=Xg(t);return Jg.encodeByteArray(e,!0)},ua=function(t){return Y1(t).replace(/\./g,"")},X1=function(t){try{return Jg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=()=>J1().__FIREBASE_DEFAULTS__,ew=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X1(t[1]);return e&&JSON.parse(e)},Ih=()=>{try{return Z1()||ew()||tw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},nw=t=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rw=t=>{const e=nw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zg=()=>{var t;return(t=Ih())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ua(JSON.stringify(n)),ua(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ow(){var t;const e=(t=Ih())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aw(){return!ow()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ey(){try{return typeof indexedDB=="object"}catch{return!1}}function lw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="FirebaseError";class os extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uw,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ty.prototype.create)}}class ty{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?cw(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new os(s,a,r)}}function cw(t,e){return t.replace(hw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hw=/\{\$([^}]+)}/g;function Zu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Rf(i)&&Rf(o)){if(!Zu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Rf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mw(e))try{this.getOrInitializeService({instanceIdentifier:zn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zn){return this.instances.has(e)}getOptions(e=zn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zn){return this.component?this.component.multipleInstances?e:zn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pw(t){return t===zn?void 0:t}function mw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const yw={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},vw=te.INFO,_w={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},ww=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_w[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ny{constructor(e){this.name=e,this._logLevel=vw,this._logHandler=ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const Ew=(t,e)=>e.some(n=>t instanceof n);let xf,Pf;function Sw(){return xf||(xf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tw(){return Pf||(Pf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ry=new WeakMap,ec=new WeakMap,sy=new WeakMap,Fl=new WeakMap,Ah=new WeakMap;function bw(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(An(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ry.set(n,t)}).catch(()=>{}),Ah.set(e,t),e}function Iw(t){if(ec.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ec.set(t,e)}let tc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ec.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Aw(t){tc=t(tc)}function kw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zl(this),e,...n);return sy.set(r,e.sort?e.sort():[e]),An(r)}:Tw().includes(t)?function(...e){return t.apply(zl(this),e),An(ry.get(this))}:function(...e){return An(t.apply(zl(this),e))}}function Cw(t){return typeof t=="function"?kw(t):(t instanceof IDBTransaction&&Iw(t),Ew(t,Sw())?new Proxy(t,tc):t)}function An(t){if(t instanceof IDBRequest)return bw(t);if(Fl.has(t))return Fl.get(t);const e=Cw(t);return e!==t&&(Fl.set(t,e),Ah.set(e,t)),e}const zl=t=>Ah.get(t);function Rw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=An(o);return r&&o.addEventListener("upgradeneeded",c=>{r(An(o.result),c.oldVersion,c.newVersion,An(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),a}const xw=["get","getKey","getAll","getAllKeys","count"],Pw=["put","add","delete","clear"],Ul=new Map;function $f(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ul.get(e))return Ul.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Pw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||xw.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let g=c.store;return r&&(g=g.index(a.shift())),(await Promise.all([g[n](...a),s&&c.done]))[0]};return Ul.set(e,i),i}Aw(t=>({...t,get:(e,n,r)=>$f(e,n)||t.get(e,n,r),has:(e,n)=>!!$f(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Nw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Nw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nc="@firebase/app",Nf="0.9.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new ny("@firebase/app"),Dw="@firebase/app-compat",Ow="@firebase/analytics-compat",Vw="@firebase/analytics",Lw="@firebase/app-check-compat",Mw="@firebase/app-check",jw="@firebase/auth",Fw="@firebase/auth-compat",zw="@firebase/database",Uw="@firebase/database-compat",Bw="@firebase/functions",qw="@firebase/functions-compat",Hw="@firebase/installations",Ww="@firebase/installations-compat",Kw="@firebase/messaging",Qw="@firebase/messaging-compat",Gw="@firebase/performance",Yw="@firebase/performance-compat",Xw="@firebase/remote-config",Jw="@firebase/remote-config-compat",Zw="@firebase/storage",eE="@firebase/storage-compat",tE="@firebase/firestore",nE="@firebase/firestore-compat",rE="firebase",sE="10.7.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc="[DEFAULT]",iE={[nc]:"fire-core",[Dw]:"fire-core-compat",[Vw]:"fire-analytics",[Ow]:"fire-analytics-compat",[Mw]:"fire-app-check",[Lw]:"fire-app-check-compat",[jw]:"fire-auth",[Fw]:"fire-auth-compat",[zw]:"fire-rtdb",[Uw]:"fire-rtdb-compat",[Bw]:"fire-fn",[qw]:"fire-fn-compat",[Hw]:"fire-iid",[Ww]:"fire-iid-compat",[Kw]:"fire-fcm",[Qw]:"fire-fcm-compat",[Gw]:"fire-perf",[Yw]:"fire-perf-compat",[Xw]:"fire-rc",[Jw]:"fire-rc-compat",[Zw]:"fire-gcs",[eE]:"fire-gcs-compat",[tE]:"fire-fst",[nE]:"fire-fst-compat","fire-js":"fire-js",[rE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Map,sc=new Map;function oE(t,e){try{t.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function da(t){const e=t.name;if(sc.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;sc.set(e,t);for(const n of ha.values())oE(n,t);return!0}function aE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},kn=new ty("app","Firebase",lE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=sE;function iy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw kn.create("bad-app-name",{appName:String(s)});if(n||(n=Zg()),!n)throw kn.create("no-options");const i=ha.get(s);if(i){if(Zu(n,i.options)&&Zu(r,i.config))return i;throw kn.create("duplicate-app",{appName:s})}const o=new gw(s);for(const c of sc.values())o.addComponent(c);const a=new uE(n,r,o);return ha.set(s,a),a}function hE(t=rc){const e=ha.get(t);if(!e&&t===rc&&Zg())return iy();if(!e)throw kn.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let s=(r=iE[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(a.join(" "));return}da(new di(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="firebase-heartbeat-database",fE=1,fi="firebase-heartbeat-store";let Bl=null;function oy(){return Bl||(Bl=Rw(dE,fE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fi)}catch(n){console.warn(n)}}}}).catch(t=>{throw kn.create("idb-open",{originalErrorMessage:t.message})})),Bl}async function pE(t){try{return await(await oy()).transaction(fi).objectStore(fi).get(ay(t))}catch(e){if(e instanceof os)ir.warn(e.message);else{const n=kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Df(t,e){try{const r=(await oy()).transaction(fi,"readwrite");await r.objectStore(fi).put(e,ay(t)),await r.done}catch(n){if(n instanceof os)ir.warn(n.message);else{const r=kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(r.message)}}}function ay(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=1024,gE=30*24*60*60*1e3;class yE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _E(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Of();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=gE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Of(),{heartbeatsToSend:r,unsentEntries:s}=vE(this._heartbeatsCache.heartbeats),i=ua(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Of(){return new Date().toISOString().substring(0,10)}function vE(t,e=mE){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Vf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Vf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _E{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ey()?lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Df(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Df(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Vf(t){return ua(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){da(new di("platform-logger",e=>new $w(e),"PRIVATE")),da(new di("heartbeat",e=>new yE(e),"PRIVATE")),Lr(nc,Nf,t),Lr(nc,Nf,"esm2017"),Lr("fire-js","")}wE("");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,kh=kh||{},W=EE||self;function Fa(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Pi(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SE(t){return Object.prototype.hasOwnProperty.call(t,ql)&&t[ql]||(t[ql]=++TE)}var ql="closure_uid_"+(1e9*Math.random()>>>0),TE=0;function bE(t,e,n){return t.call.apply(t.bind,arguments)}function IE(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ge(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ge=bE:Ge=IE,Ge.apply(null,arguments)}function ao(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Oe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Ln(){this.s=this.s,this.o=this.o}var AE=0;Ln.prototype.s=!1;Ln.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),AE!=0)&&SE(this)};Ln.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ly=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ch(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Lf(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Fa(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Ye(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var kE=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};W.addEventListener("test",n,e),W.removeEventListener("test",n,e)}catch{}return t}();function pi(t){return/^[\s\xa0]*$/.test(t)}function za(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function jt(t){return za().indexOf(t)!=-1}function Rh(t){return Rh[" "](t),t}Rh[" "]=function(){};function CE(t,e){var n=w2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var RE=jt("Opera"),Yr=jt("Trident")||jt("MSIE"),uy=jt("Edge"),ic=uy||Yr,cy=jt("Gecko")&&!(za().toLowerCase().indexOf("webkit")!=-1&&!jt("Edge"))&&!(jt("Trident")||jt("MSIE"))&&!jt("Edge"),xE=za().toLowerCase().indexOf("webkit")!=-1&&!jt("Edge");function hy(){var t=W.document;return t?t.documentMode:void 0}var oc;e:{var Hl="",Wl=function(){var t=za();if(cy)return/rv:([^\);]+)(\)|;)/.exec(t);if(uy)return/Edge\/([\d\.]+)/.exec(t);if(Yr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xE)return/WebKit\/(\S+)/.exec(t);if(RE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wl&&(Hl=Wl?Wl[1]:""),Yr){var Kl=hy();if(Kl!=null&&Kl>parseFloat(Hl)){oc=String(Kl);break e}}oc=Hl}var ac;if(W.document&&Yr){var Mf=hy();ac=Mf||parseInt(oc,10)||void 0}else ac=void 0;var PE=ac;function mi(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cy){e:{try{Rh(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:$E[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mi.$.h.call(this)}}Oe(mi,Ye);var $E={2:"touch",3:"pen",4:"mouse"};mi.prototype.h=function(){mi.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $i="closure_listenable_"+(1e6*Math.random()|0),NE=0;function DE(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++NE,this.fa=this.ia=!1}function Ua(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xh(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function OE(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function dy(t){const e={};for(const n in t)e[n]=t[n];return e}const jf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fy(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<jf.length;i++)n=jf[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ba(t){this.src=t,this.g={},this.h=0}Ba.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=uc(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new DE(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function lc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=ly(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Ua(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function uc(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Ph="closure_lm_"+(1e6*Math.random()|0),Ql={};function py(t,e,n,r,s){if(r&&r.once)return gy(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)py(t,e[i],n,r,s);return null}return n=Dh(n),t&&t[$i]?t.O(e,n,Pi(r)?!!r.capture:!!r,s):my(t,e,n,!1,r,s)}function my(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Pi(s)?!!s.capture:!!s,a=Nh(t);if(a||(t[Ph]=a=new Ba(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=VE(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kE||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(vy(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function VE(){function t(n){return e.call(t.src,t.listener,n)}const e=LE;return t}function gy(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)gy(t,e[i],n,r,s);return null}return n=Dh(n),t&&t[$i]?t.P(e,n,Pi(r)?!!r.capture:!!r,s):my(t,e,n,!0,r,s)}function yy(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)yy(t,e[i],n,r,s);else r=Pi(r)?!!r.capture:!!r,n=Dh(n),t&&t[$i]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=uc(i,n,r,s),-1<n&&(Ua(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Nh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=uc(e,n,r,s)),(n=-1<t?e[t]:null)&&$h(n))}function $h(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[$i])lc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vy(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nh(e))?(lc(n,t),n.h==0&&(n.src=null,e[Ph]=null)):Ua(t)}}}function vy(t){return t in Ql?Ql[t]:Ql[t]="on"+t}function LE(t,e){if(t.fa)t=!0;else{e=new mi(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$h(t),t=n.call(r,e)}return t}function Nh(t){return t=t[Ph],t instanceof Ba?t:null}var Gl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dh(t){return typeof t=="function"?t:(t[Gl]||(t[Gl]=function(e){return t.handleEvent(e)}),t[Gl])}function De(){Ln.call(this),this.i=new Ba(this),this.S=this,this.J=null}Oe(De,Ln);De.prototype[$i]=!0;De.prototype.removeEventListener=function(t,e,n,r){yy(this,t,e,n,r)};function Fe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ye(e,t);else if(e instanceof Ye)e.target=e.target||t;else{var s=e;e=new Ye(r,t),fy(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=lo(o,r,!0,e)&&s}if(o=e.g=t,s=lo(o,r,!0,e)&&s,s=lo(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=lo(o,r,!1,e)&&s}De.prototype.N=function(){if(De.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ua(n[r]);delete t.g[e],t.h--}}this.J=null};De.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};De.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function lo(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&lc(t.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Oh=W.JSON.stringify;class ME{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function jE(){var t=Vh;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class FE{constructor(){this.h=this.g=null}add(e,n){const r=_y.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var _y=new ME(()=>new zE,t=>t.reset());class zE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function UE(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function BE(t){W.setTimeout(()=>{throw t},0)}let gi,yi=!1,Vh=new FE,wy=()=>{const t=W.Promise.resolve(void 0);gi=()=>{t.then(qE)}};var qE=()=>{for(var t;t=jE();){try{t.h.call(t.g)}catch(n){BE(n)}var e=_y;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yi=!1};function qa(t,e){De.call(this),this.h=t||1,this.g=e||W,this.j=Ge(this.qb,this),this.l=Date.now()}Oe(qa,De);O=qa.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fe(this,"tick"),this.ga&&(Lh(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){qa.$.N.call(this),Lh(this),delete this.g};function Mh(t,e,n){if(typeof t=="function")n&&(t=Ge(t,n));else if(t&&typeof t.handleEvent=="function")t=Ge(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function Ey(t){t.g=Mh(()=>{t.g=null,t.i&&(t.i=!1,Ey(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class HE extends Ln{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ey(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(t){Ln.call(this),this.h=t,this.g={}}Oe(vi,Ln);var Ff=[];function Sy(t,e,n,r){Array.isArray(n)||(n&&(Ff[0]=n.toString()),n=Ff);for(var s=0;s<n.length;s++){var i=py(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Ty(t){xh(t.g,function(e,n){this.g.hasOwnProperty(n)&&$h(e)},t),t.g={}}vi.prototype.N=function(){vi.$.N.call(this),Ty(this)};vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ha(){this.g=!0}Ha.prototype.Ea=function(){this.g=!1};function WE(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var g=a[c].split("=");if(1<g.length){var y=g[0];g=g[1];var l=y.split("_");o=2<=l.length&&l[1]=="type"?o+(y+"="+g+"&"):o+(y+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function KE(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function xr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GE(t,n)+(r?" "+r:"")})}function QE(t,e){t.info(function(){return"TIMEOUT: "+e})}Ha.prototype.info=function(){};function GE(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Oh(n)}catch{return e}}var dr={},zf=null;function Wa(){return zf=zf||new De}dr.Ta="serverreachability";function by(t){Ye.call(this,dr.Ta,t)}Oe(by,Ye);function _i(t){const e=Wa();Fe(e,new by(e))}dr.STAT_EVENT="statevent";function Iy(t,e){Ye.call(this,dr.STAT_EVENT,t),this.stat=e}Oe(Iy,Ye);function nt(t){const e=Wa();Fe(e,new Iy(e,t))}dr.Ua="timingevent";function Ay(t,e){Ye.call(this,dr.Ua,t),this.size=e}Oe(Ay,Ye);function Ni(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}var Ka={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ky={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jh(){}jh.prototype.h=null;function Uf(t){return t.h||(t.h=t.i())}function Cy(){}var Di={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fh(){Ye.call(this,"d")}Oe(Fh,Ye);function zh(){Ye.call(this,"c")}Oe(zh,Ye);var cc;function Qa(){}Oe(Qa,jh);Qa.prototype.g=function(){return new XMLHttpRequest};Qa.prototype.i=function(){return{}};cc=new Qa;function Oi(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new vi(this),this.P=YE,t=ic?125:void 0,this.V=new qa(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ry}function Ry(){this.i=null,this.g="",this.h=!1}var YE=45e3,xy={},hc={};O=Oi.prototype;O.setTimeout=function(t){this.P=t};function dc(t,e,n){t.L=1,t.A=Ya(an(e)),t.u=n,t.S=!0,Py(t,null)}function Py(t,e){t.G=Date.now(),Vi(t),t.B=an(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),jy(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Ry,t.g=ov(t.l,n?e:null,!t.u),0<t.O&&(t.M=new HE(Ge(t.Pa,t,t.g),t.O)),Sy(t.U,t.g,"readystatechange",t.nb),e=t.I?dy(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),_i(),WE(t.j,t.v,t.B,t.m,t.W,t.u)}O.nb=function(t){t=t.target;const e=this.M;e&&zt(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const y=zt(this.g);var e=this.g.Ia();const l=this.g.da();if(!(3>y)&&(y!=3||ic||this.g&&(this.h.h||this.g.ja()||Wf(this.g)))){this.J||y!=4||e==7||(e==8||0>=l?_i(3):_i(2)),Ga(this);var n=this.g.da();this.ca=n;t:if($y(this)){var r=Wf(this.g);t="";var s=r.length,i=zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),Us(this);var o="";break t}this.h.i=new W.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,KE(this.j,this.v,this.B,this.m,this.W,y,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pi(a)){var g=a;break t}}g=null}if(n=g)xr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fc(this,n);else{this.i=!1,this.s=3,nt(12),Wn(this),Us(this);break e}}this.S?(Ny(this,y,o),ic&&this.i&&y==3&&(Sy(this.U,this.V,"tick",this.mb),this.V.start())):(xr(this.j,this.m,o,null),fc(this,o)),y==4&&Wn(this),this.i&&!this.J&&(y==4?nv(this.l,this):(this.i=!1,Vi(this)))}else y2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Wn(this),Us(this)}}}catch{}finally{}};function $y(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Ny(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=XE(t,n),s==hc){e==4&&(t.s=4,nt(14),r=!1),xr(t.j,t.m,null,"[Incomplete Response]");break}else if(s==xy){t.s=4,nt(15),xr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xr(t.j,t.m,s,null),fc(t,s);$y(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,nt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kh(e),e.M=!0,nt(11))):(xr(t.j,t.m,n,"[Invalid Chunked Response]"),Wn(t),Us(t))}O.mb=function(){if(this.g){var t=zt(this.g),e=this.g.ja();this.o<e.length&&(Ga(this),Ny(this,t,e),this.i&&t!=4&&Vi(this))}};function XE(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?hc:(n=Number(e.substring(n,r)),isNaN(n)?xy:(r+=1,r+n>e.length?hc:(e=e.slice(r,r+n),t.o=r+n,e)))}O.cancel=function(){this.J=!0,Wn(this)};function Vi(t){t.Y=Date.now()+t.P,Dy(t,t.P)}function Dy(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ni(Ge(t.lb,t),e)}function Ga(t){t.C&&(W.clearTimeout(t.C),t.C=null)}O.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(QE(this.j,this.B),this.L!=2&&(_i(),nt(17)),Wn(this),this.s=2,Us(this)):Dy(this,this.Y-t)};function Us(t){t.l.H==0||t.J||nv(t.l,t)}function Wn(t){Ga(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lh(t.V),Ty(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function fc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||pc(n.i,t))){if(!t.K&&pc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ma(n),el(n);else break e;Wh(n),nt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ni(Ge(n.ib,n),6e3));if(1>=Uy(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Kn(n,11)}else if((t.K||n.g==t)&&ma(n),!pi(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let g=s[e];if(n.V=g[0],g=g[1],n.H==2)if(g[0]=="c"){n.K=g[1],n.pa=g[2];const y=g[3];y!=null&&(n.ra=y,n.l.info("VER="+n.ra));const l=g[4];l!=null&&(n.Ga=l,n.l.info("SVER="+n.Ga));const h=g[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const p=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;i.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Uh(i,i.h),i.h=null))}if(r.F){const f=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,ce(r.I,r.F,f))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=iv(r,r.J?r.pa:null,r.Y),o.K){By(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Ga(a),Vi(a)),r.g=o}else ev(r);0<n.j.length&&tl(n)}else g[0]!="stop"&&g[0]!="close"||Kn(n,7);else n.H==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Kn(n,7):Hh(n):g[0]!="noop"&&n.h&&n.h.Aa(g),n.A=0)}}_i(4)}catch{}}function JE(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Fa(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ZE(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Fa(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Oy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Fa(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZE(t),r=JE(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Vy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Jn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jn){this.h=t.h,fa(this,t.j),this.s=t.s,this.g=t.g,pa(this,t.m),this.l=t.l;var e=t.i,n=new wi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bf(this,n),this.o=t.o}else t&&(e=String(t).match(Vy))?(this.h=!1,fa(this,e[1]||"",!0),this.s=Rs(e[2]||""),this.g=Rs(e[3]||"",!0),pa(this,e[4]),this.l=Rs(e[5]||"",!0),Bf(this,e[6]||"",!0),this.o=Rs(e[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}Jn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xs(e,qf,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xs(e,qf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xs(n,n.charAt(0)=="/"?r2:n2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xs(n,i2)),t.join("")};function an(t){return new Jn(t)}function fa(t,e,n){t.j=n?Rs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bf(t,e,n){e instanceof wi?(t.i=e,o2(t.i,t.h)):(n||(e=xs(e,s2)),t.i=new wi(e,t.h))}function ce(t,e,n){t.i.set(e,n)}function Ya(t){return ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Rs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,t2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function t2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var qf=/[#\/\?@]/g,n2=/[#\?:]/g,r2=/[#\?]/g,s2=/[#\?@]/g,i2=/#/g;function wi(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mn(t){t.g||(t.g=new Map,t.h=0,t.i&&e2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=wi.prototype;O.add=function(t,e){Mn(this),this.i=null,t=as(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Ly(t,e){Mn(t),e=as(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function My(t,e){return Mn(t),e=as(t,e),t.g.has(e)}O.forEach=function(t,e){Mn(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};O.ta=function(){Mn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};O.Z=function(t){Mn(this);let e=[];if(typeof t=="string")My(this,t)&&(e=e.concat(this.g.get(as(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Mn(this),this.i=null,t=as(this,t),My(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jy(t,e,n){Ly(t,e),0<n.length&&(t.i=null,t.g.set(as(t,e),Ch(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function as(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function o2(t,e){e&&!t.j&&(Mn(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Ly(this,r),jy(this,s,n))},t)),t.j=e}var a2=class{constructor(t,e){this.g=t,this.map=e}};function Fy(t){this.l=t||l2,W.PerformanceNavigationTiming?(t=W.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var l2=10;function zy(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Uy(t){return t.h?1:t.g?t.g.size:0}function pc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Uh(t,e){t.g?t.g.add(e):t.h=e}function By(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Fy.prototype.cancel=function(){if(this.i=qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function qy(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ch(t.i)}var u2=class{stringify(t){return W.JSON.stringify(t,void 0)}parse(t){return W.JSON.parse(t,void 0)}};function c2(){this.g=new u2}function h2(t,e,n){const r=n||"";try{Oy(t,function(s,i){let o=s;Pi(s)&&(o=Oh(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function d2(t,e){const n=new Ha;if(W.Image){const r=new Image;r.onload=ao(uo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ao(uo,n,r,"TestLoadImage: error",!1,e),r.onabort=ao(uo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ao(uo,n,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function uo(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Xa(t){this.l=t.ec||null,this.j=t.ob||!1}Oe(Xa,jh);Xa.prototype.g=function(){return new Ja(this.l,this.j)};Xa.prototype.i=function(t){return function(){return t}}({});function Ja(t,e){De.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Bh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Oe(Ja,De);var Bh=0;O=Ja.prototype;O.open=function(t,e){if(this.readyState!=Bh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ei(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Li(this)),this.readyState=Bh};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hy(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Hy(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Li(this):Ei(this),this.readyState==3&&Hy(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,Li(this))};O.Ya=function(t){this.g&&(this.response=t,Li(this))};O.ka=function(){this.g&&Li(this)};function Li(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ei(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ei(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var f2=W.JSON.parse;function _e(t){De.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wy,this.L=this.M=!1}Oe(_e,De);var Wy="",p2=/^https?$/i,m2=["POST","PUT"];O=_e.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cc.g(),this.C=this.u?Uf(this.u):Uf(cc),this.g.onreadystatechange=Ge(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Hf(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=W.FormData&&t instanceof W.FormData,!(0<=ly(m2,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gy(this),0<this.B&&((this.L=g2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ge(this.ua,this)):this.A=Mh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Hf(this,i)}};function g2(t){return Yr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof kh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fe(this,"timeout"),this.abort(8))};function Hf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Ky(t),Za(t)}function Ky(t){t.F||(t.F=!0,Fe(t,"complete"),Fe(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Fe(this,"complete"),Fe(this,"abort"),Za(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Za(this,!0)),_e.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?Qy(this):this.kb())};O.kb=function(){Qy(this)};function Qy(t){if(t.h&&typeof kh<"u"&&(!t.C[1]||zt(t)!=4||t.da()!=2)){if(t.v&&zt(t)==4)Mh(t.La,0,t);else if(Fe(t,"readystatechange"),zt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Vy)[1]||null;!s&&W.self&&W.self.location&&(s=W.self.location.protocol.slice(0,-1)),r=!p2.test(s?s.toLowerCase():"")}n=r}if(n)Fe(t,"complete"),Fe(t,"success");else{t.m=6;try{var i=2<zt(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",Ky(t)}}finally{Za(t)}}}}function Za(t,e){if(t.g){Gy(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Fe(t,"ready");try{n.onreadystatechange=r}catch{}}}function Gy(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function zt(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<zt(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),f2(e)}};function Wf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Wy:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function y2(t){const e={};t=(t.g&&2<=zt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(pi(t[r]))continue;var n=UE(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}OE(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Yy(t){let e="";return xh(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function qh(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yy(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ce(t,e,n))}function Ss(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xy(t){this.Ga=0,this.j=[],this.l=new Ha,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ss("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ss("baseRetryDelayMs",5e3,t),this.hb=Ss("retryDelaySeedMs",1e4,t),this.eb=Ss("forwardChannelMaxRetries",2,t),this.xa=Ss("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Fy(t&&t.concurrentRequestLimit),this.Ja=new c2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=Xy.prototype;O.ra=8;O.H=1;function Hh(t){if(Jy(t),t.H==3){var e=t.W++,n=an(t.I);if(ce(n,"SID",t.K),ce(n,"RID",e),ce(n,"TYPE","terminate"),Mi(t,n),e=new Oi(t,t.l,e),e.L=2,e.A=Ya(an(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&W.Image&&(new Image().src=e.A,n=!0),n||(e.g=ov(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Vi(e)}sv(t)}function el(t){t.g&&(Kh(t),t.g.cancel(),t.g=null)}function Jy(t){el(t),t.u&&(W.clearTimeout(t.u),t.u=null),ma(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&W.clearTimeout(t.m),t.m=null)}function tl(t){if(!zy(t.i)&&!t.m){t.m=!0;var e=t.Na;gi||wy(),yi||(gi(),yi=!0),Vh.add(e,t),t.C=0}}function v2(t,e){return Uy(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ni(Ge(t.Na,t,e),rv(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Oi(this,this.l,t);let i=this.s;if(this.U&&(i?(i=dy(i),fy(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Zy(this,s,e),n=an(this.I),ce(n,"RID",t),ce(n,"CVER",22),this.F&&ce(n,"X-HTTP-Session-Id",this.F),Mi(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(Yy(i)))+"&"+e:this.o&&qh(n,this.o,i)),Uh(this.i,s),this.bb&&ce(n,"TYPE","init"),this.P?(ce(n,"$req",e),ce(n,"SID","null"),s.aa=!0,dc(s,n,null)):dc(s,n,e),this.H=2}}else this.H==3&&(t?Kf(this,t):this.j.length==0||zy(this.i)||Kf(this))};function Kf(t,e){var n;e?n=e.m:n=t.W++;const r=an(t.I);ce(r,"SID",t.K),ce(r,"RID",n),ce(r,"AID",t.V),Mi(t,r),t.o&&t.s&&qh(r,t.o,t.s),n=new Oi(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Zy(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Uh(t.i,n),dc(n,r,e)}function Mi(t,e){t.na&&xh(t.na,function(n,r){ce(e,r,n)}),t.h&&Oy({},function(n,r){ce(e,r,n)})}function Zy(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ge(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let g=s[c].g;const y=s[c].map;if(g-=i,0>g)i=Math.max(0,s[c].g-100),a=!1;else try{h2(y,o,"req"+g+"_")}catch{r&&r(y)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ev(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;gi||wy(),yi||(gi(),yi=!0),Vh.add(e,t),t.A=0}}function Wh(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ni(Ge(t.Ma,t),rv(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,tv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ni(Ge(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,nt(10),el(this),tv(this))};function Kh(t){t.B!=null&&(W.clearTimeout(t.B),t.B=null)}function tv(t){t.g=new Oi(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=an(t.wa);ce(e,"RID","rpc"),ce(e,"SID",t.K),ce(e,"AID",t.V),ce(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ce(e,"TO",t.qa),ce(e,"TYPE","xmlhttp"),Mi(t,e),t.o&&t.s&&qh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ya(an(e)),n.u=null,n.S=!0,Py(n,t)}O.ib=function(){this.v!=null&&(this.v=null,el(this),Wh(this),nt(19))};function ma(t){t.v!=null&&(W.clearTimeout(t.v),t.v=null)}function nv(t,e){var n=null;if(t.g==e){ma(t),Kh(t),t.g=null;var r=2}else if(pc(t.i,e))n=e.F,By(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Wa(),Fe(r,new Ay(r,n)),tl(t)}else ev(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&v2(t,e)||r==2&&Wh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Kn(t,5);break;case 4:Kn(t,10);break;case 3:Kn(t,6);break;default:Kn(t,2)}}}function rv(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Kn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ge(t.pb,t);n||(n=new Jn("//www.google.com/images/cleardot.gif"),W.location&&W.location.protocol=="http"||fa(n,"https"),Ya(n)),d2(n.toString(),r)}else nt(2);t.H=0,t.h&&t.h.za(e),sv(t),Jy(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),nt(2)):(this.l.info("Failed to ping google.com"),nt(1))};function sv(t){if(t.H=0,t.ma=[],t.h){const e=qy(t.i);(e.length!=0||t.j.length!=0)&&(Lf(t.ma,e),Lf(t.ma,t.j),t.i.i.length=0,Ch(t.j),t.j.length=0),t.h.ya()}}function iv(t,e,n){var r=n instanceof Jn?an(n):new Jn(n);if(r.g!="")e&&(r.g=e+"."+r.g),pa(r,r.m);else{var s=W.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Jn(null);r&&fa(i,r),e&&(i.g=e),s&&pa(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&ce(r,n,e),ce(r,"VER",t.ra),Mi(t,r),r}function ov(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new _e(new Xa({ob:n})):new _e(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function av(){}O=av.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function ga(){if(Yr&&!(10<=Number(PE)))throw Error("Environmental error: no available transport.")}ga.prototype.g=function(t,e){return new gt(t,e)};function gt(t,e){De.call(this),this.g=new Xy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!pi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ls(this)}Oe(gt,De);gt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iv(t,null,t.Y),tl(t)};gt.prototype.close=function(){Hh(this.g)};gt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Oh(t),t=n);e.j.push(new a2(e.fb++,t)),e.H==3&&tl(e)};gt.prototype.N=function(){this.g.h=null,delete this.j,Hh(this.g),delete this.g,gt.$.N.call(this)};function lv(t){Fh.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Oe(lv,Fh);function uv(){zh.call(this),this.status=1}Oe(uv,zh);function ls(t){this.g=t}Oe(ls,av);ls.prototype.Ba=function(){Fe(this.g,"a")};ls.prototype.Aa=function(t){Fe(this.g,new lv(t))};ls.prototype.za=function(t){Fe(this.g,new uv)};ls.prototype.ya=function(){Fe(this.g,"b")};function _2(){this.blockSize=-1}function Dt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Oe(Dt,_2);Dt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Yl(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Dt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Yl(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Yl(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Yl(this,r),s=0;break}}this.h=s,this.i+=e};Dt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ae(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var w2={};function Qh(t){return-128<=t&&128>t?CE(t,function(e){return new ae([e|0],0>e?-1:0)}):new ae([t|0],0>t?-1:0)}function Ut(t){if(isNaN(t)||!isFinite(t))return Mr;if(0>t)return Me(Ut(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=mc;return new ae(e,0)}function cv(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Me(cv(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ut(Math.pow(e,8)),r=Mr,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Ut(Math.pow(e,i)),r=r.R(i).add(Ut(o))):(r=r.R(n),r=r.add(Ut(o)))}return r}var mc=4294967296,Mr=Qh(0),gc=Qh(1),Qf=Qh(16777216);O=ae.prototype;O.ea=function(){if(Et(this))return-Me(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:mc+r)*e,e*=mc}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(en(this))return"0";if(Et(this))return"-"+Me(this).toString(t);for(var e=Ut(Math.pow(t,6)),n=this,r="";;){var s=va(n,e).g;n=ya(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,en(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function en(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Et(t){return t.h==-1}O.X=function(t){return t=ya(this,t),Et(t)?-1:en(t)?0:1};function Me(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ae(n,~t.h).add(gc)}O.abs=function(){return Et(this)?Me(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ae(n,n[n.length-1]&-2147483648?-1:0)};function ya(t,e){return t.add(Me(e))}O.R=function(t){if(en(this)||en(t))return Mr;if(Et(this))return Et(t)?Me(this).R(Me(t)):Me(Me(this).R(t));if(Et(t))return Me(this.R(Me(t)));if(0>this.X(Qf)&&0>t.X(Qf))return Ut(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,co(n,2*r+2*s),n[2*r+2*s+1]+=i*c,co(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,co(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,co(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ae(n,0)};function co(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ts(t,e){this.g=t,this.h=e}function va(t,e){if(en(e))throw Error("division by zero");if(en(t))return new Ts(Mr,Mr);if(Et(t))return e=va(Me(t),e),new Ts(Me(e.g),Me(e.h));if(Et(e))return e=va(t,Me(e)),new Ts(Me(e.g),e.h);if(30<t.g.length){if(Et(t)||Et(e))throw Error("slowDivide_ only works with positive integers.");for(var n=gc,r=e;0>=r.X(t);)n=Gf(n),r=Gf(r);var s=pr(n,1),i=pr(r,1);for(r=pr(r,2),n=pr(n,2);!en(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=pr(r,1),n=pr(n,1)}return e=ya(t,s.R(e)),new Ts(s,e)}for(s=Mr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ut(n),o=i.R(e);Et(o)||0<o.X(t);)n-=r,i=Ut(n),o=i.R(e);en(i)&&(i=gc),s=s.add(i),t=ya(t,o)}return new Ts(s,t)}O.gb=function(t){return va(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ae(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ae(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ae(n,this.h^t.h)};function Gf(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ae(n,t.h)}function pr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ae(s,t.h)}ga.prototype.createWebChannel=ga.prototype.g;gt.prototype.send=gt.prototype.u;gt.prototype.open=gt.prototype.m;gt.prototype.close=gt.prototype.close;Ka.NO_ERROR=0;Ka.TIMEOUT=8;Ka.HTTP_ERROR=6;ky.COMPLETE="complete";Cy.EventType=Di;Di.OPEN="a";Di.CLOSE="b";Di.ERROR="c";Di.MESSAGE="d";De.prototype.listen=De.prototype.O;_e.prototype.listenOnce=_e.prototype.P;_e.prototype.getLastError=_e.prototype.Sa;_e.prototype.getLastErrorCode=_e.prototype.Ia;_e.prototype.getStatus=_e.prototype.da;_e.prototype.getResponseJson=_e.prototype.Wa;_e.prototype.getResponseText=_e.prototype.ja;_e.prototype.send=_e.prototype.ha;_e.prototype.setWithCredentials=_e.prototype.Oa;Dt.prototype.digest=Dt.prototype.l;Dt.prototype.reset=Dt.prototype.reset;Dt.prototype.update=Dt.prototype.j;ae.prototype.add=ae.prototype.add;ae.prototype.multiply=ae.prototype.R;ae.prototype.modulo=ae.prototype.gb;ae.prototype.compare=ae.prototype.X;ae.prototype.toNumber=ae.prototype.ea;ae.prototype.toString=ae.prototype.toString;ae.prototype.getBits=ae.prototype.D;ae.fromNumber=Ut;ae.fromString=cv;var E2=function(){return new ga},S2=function(){return Wa()},Xl=Ka,T2=ky,b2=dr,Yf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ho=Cy,I2=_e,A2=Dt,jr=ae;const Xf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us="10.7.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new ny("@firebase/firestore");function bs(){return or.logLevel}function V(t,...e){if(or.logLevel<=te.DEBUG){const n=e.map(Gh);or.debug(`Firestore (${us}): ${t}`,...n)}}function Wt(t,...e){if(or.logLevel<=te.ERROR){const n=e.map(Gh);or.error(`Firestore (${us}): ${t}`,...n)}}function Xr(t,...e){if(or.logLevel<=te.WARN){const n=e.map(Gh);or.warn(`Firestore (${us}): ${t}`,...n)}}function Gh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${us}) INTERNAL ASSERTION FAILED: `+t;throw Wt(e),new Error(e)}function Ae(t,e){t||Y()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends os{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}}class C2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class R2{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new hv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new We(e)}}class x2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class P2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new x2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new $2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=D2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function Jr(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Q(e)}static min(){return new Q(new ht(0,0))}static max(){return new Q(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ve extends Si{construct(e,n,r){return new ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new F(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ve(n)}static emptyPath(){return new ve([])}}const V2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends Si{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return V2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new F(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new F(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new F(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new F(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.path=e}static fromPath(e){return new H(ve.fromString(e))}static fromName(e){return new H(ve.fromString(e).popFirst(5))}static empty(){return new H(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new ve(e.slice()))}}function L2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Q.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Pn(s,H.empty(),e)}function M2(t){return new Pn(t.readTime,t.key,-1)}class Pn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pn(Q.min(),H.empty(),-1)}static max(){return new Pn(Q.max(),H.empty(),-1)}}function j2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=H.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==F2)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(s=>s?P.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new P((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const g=c;n(e[g]).next(y=>{o[g]=y,++a,a===i&&r(o)},y=>s(y))}})}static doWhile(e,n){return new P((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Cn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Bs(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Jh(r.target.error);this.V.reject(new Bs(e,s))}}static open(e,n,r,s){try{return new Xh(n,e.transaction(s,r))}catch(i){throw new Bs(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new B2(n)}}class Qn{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Qn.S(ca())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),Un(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ey())return!1;if(Qn.C())return!0;const e=ca(),n=Qn.S(e),r=0<n&&n<10,s=Qn.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Bs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new F(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new F(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Bs(e,o))},s.onupgradeneeded=i=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Xh.open(this.db,e,i?"readonly":"readwrite",r),c=s(a).next(g=>(a.g(),g)).catch(g=>(a.abort(g),P.reject(g))).toPromise();return c.catch(()=>{}),await a.m,c}catch(a){const c=a,g=c.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",c.message,"Retrying:",g),this.close(),!g)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class U2{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Un(this.k.delete())}}class Bs extends F{constructor(e,n){super(D.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ji(t){return t.name==="IndexedDbTransactionError"}class B2{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Un(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),Un(this.store.add(e))}get(e){return Un(this.store.get(e)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),Un(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),Un(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new P((o,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new P((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){V("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new P((r,s)=>{n.onerror=i=>{const o=Jh(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new P((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const c=new U2(a),g=n(a.primaryKey,a.value,c);if(g instanceof P){const y=g.catch(l=>(c.done(),P.reject(l)));r.push(y)}c.isDone?s():c.$===null?a.continue():a.continue(c.$)}}).next(()=>P.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Un(t){return new P((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=Jh(r.target.error);n(s)}})}let Jf=!1;function Jh(t){const e=Qn.S(ca());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Jf||(Jf=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Zh._e=-1;function nl(t){return t==null}function yc(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e,n){this.comparator=e,this.root=n||Le.EMPTY}insert(e,n){return new Ee(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new Ee(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fo(this.root,e,this.comparator,!0)}}class fo{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Le.RED,this.left=s??Le.EMPTY,this.right=i??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Le(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Le.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Le(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new Ee(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ep(this.data.getIterator())}getIteratorFrom(e){return new ep(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class ep{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new gn([])}unionWith(e){let n=new ze(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new dv("Invalid base64 string: "+i):i}}(e);return new Ze(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ze(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $n(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=H2.exec(t);if(Ae(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ar(t){return typeof t=="string"?Ze.fromBase64String(t):Ze.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function td(t){const e=t.mapValue.fields.__previous_value__;return ed(e)?td(e):e}function Ti(t){const e=$n(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,s,i,o,a,c,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=g}}class bi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ed(t)?4:K2(t)?9007199254740991:10:Y()}function Kt(t,e){if(t===e)return!0;const n=lr(t);if(n!==lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ti(t).isEqual(Ti(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=$n(s.timestampValue),a=$n(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ar(s.bytesValue).isEqual(ar(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return be(s.geoPointValue.latitude)===be(i.geoPointValue.latitude)&&be(s.geoPointValue.longitude)===be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return be(s.integerValue)===be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=be(s.doubleValue),a=be(i.doubleValue);return o===a?yc(o)===yc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Jr(t.arrayValue.values||[],e.arrayValue.values||[],Kt);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Zf(o)!==Zf(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Kt(o[c],a[c])))return!1;return!0}(t,e);default:return Y()}}function Ii(t,e){return(t.values||[]).find(n=>Kt(n,e))!==void 0}function Zr(t,e){if(t===e)return 0;const n=lr(t),r=lr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=be(i.integerValue||i.doubleValue),c=be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return tp(t.timestampValue,e.timestampValue);case 4:return tp(Ti(t),Ti(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ar(i),c=ar(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let g=0;g<a.length&&g<c.length;g++){const y=ie(a[g],c[g]);if(y!==0)return y}return ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ie(be(i.latitude),be(o.latitude));return a!==0?a:ie(be(i.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let g=0;g<a.length&&g<c.length;++g){const y=Zr(a[g],c[g]);if(y)return y}return ie(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===po.mapValue&&o===po.mapValue)return 0;if(i===po.mapValue)return 1;if(o===po.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),g=o.fields||{},y=Object.keys(g);c.sort(),y.sort();for(let l=0;l<c.length&&l<y.length;++l){const h=ie(c[l],y[l]);if(h!==0)return h;const m=Zr(a[c[l]],g[y[l]]);if(m!==0)return m}return ie(c.length,y.length)}(t.mapValue,e.mapValue);default:throw Y()}}function tp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=$n(t),r=$n(e),s=ie(n.seconds,r.seconds);return s!==0?s:ie(n.nanos,r.nanos)}function es(t){return vc(t)}function vc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$n(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ar(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return H.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=vc(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${vc(n.fields[o])}`;return s+"}"}(t.mapValue):Y()}function _c(t){return!!t&&"integerValue"in t}function nd(t){return!!t&&"arrayValue"in t}function np(t){return!!t&&"nullValue"in t}function rp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jl(t){return!!t&&"mapValue"in t}function qs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qs(n)}setAll(e){let n=tt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=qs(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Jl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Jl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){rl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ft(qs(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qe(e,0,Q.min(),Q.min(),Q.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,s){return new Qe(e,1,n,Q.min(),r,s,0)}static newNoDocument(e,n){return new Qe(e,2,n,Q.min(),Q.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new Qe(e,3,n,Q.min(),Q.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,n){this.position=e,this.inclusive=n}}function sp(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=H.comparator(H.fromName(o.referenceValue),n.key):r=Zr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ip(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{}class Ce extends fv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y2(e,n,r):n==="array-contains"?new Z2(e,r):n==="in"?new eS(e,r):n==="not-in"?new tS(e,r):n==="array-contains-any"?new nS(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X2(e,r):new J2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zr(n,this.value)):n!==null&&lr(this.value)===lr(n)&&this.matchesComparison(Zr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qt extends fv{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Qt(e,n)}matches(e){return pv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function pv(t){return t.op==="and"}function mv(t){return G2(t)&&pv(t)}function G2(t){for(const e of t.filters)if(e instanceof Qt)return!1;return!0}function wc(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+es(t.value);if(mv(t))return t.filters.map(e=>wc(e)).join(",");{const e=t.filters.map(n=>wc(n)).join(",");return`${t.op}(${e})`}}function gv(t,e){return t instanceof Ce?function(r,s){return s instanceof Ce&&r.op===s.op&&r.field.isEqual(s.field)&&Kt(r.value,s.value)}(t,e):t instanceof Qt?function(r,s){return s instanceof Qt&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&gv(o,s.filters[a]),!0):!1}(t,e):void Y()}function yv(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${es(n.value)}`}(t):t instanceof Qt?function(n){return n.op.toString()+" {"+n.getFilters().map(yv).join(" ,")+"}"}(t):"Filter"}class Y2 extends Ce{constructor(e,n,r){super(e,n,r),this.key=H.fromName(r.referenceValue)}matches(e){const n=H.comparator(e.key,this.key);return this.matchesComparison(n)}}class X2 extends Ce{constructor(e,n){super(e,"in",n),this.keys=vv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class J2 extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=vv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>H.fromName(r.referenceValue))}class Z2 extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nd(n)&&Ii(n.arrayValue,this.value)}}class eS extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ii(this.value.arrayValue,n)}}class tS extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ii(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ii(this.value.arrayValue,n)}}class nS extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ii(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function op(t,e=null,n=[],r=[],s=null,i=null,o=null){return new rS(t,e,n,r,s,i,o)}function rd(t){const e=se(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),nl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>es(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>es(r)).join(",")),e.ce=n}return e.ce}function sd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ip(t.startAt,e.startAt)&&ip(t.endAt,e.endAt)}function Ec(t){return H.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function sS(t,e,n,r,s,i,o,a){return new sl(t,e,n,r,s,i,o,a)}function _v(t){return new sl(t)}function ap(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iS(t){return t.collectionGroup!==null}function Hs(t){const e=se(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ze(tt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(g=>{g.isInequality()&&(a=a.add(g.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new wa(i,r))}),n.has(tt.keyField().canonicalString())||e.le.push(new wa(tt.keyField(),r))}return e.le}function Ht(t){const e=se(t);return e.he||(e.he=oS(e,Hs(t))),e.he}function oS(t,e){if(t.limitType==="F")return op(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wa(s.field,i)});const n=t.endAt?new _a(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _a(t.startAt.position,t.startAt.inclusive):null;return op(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sc(t,e,n){return new sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function il(t,e){return sd(Ht(t),Ht(e))&&t.limitType===e.limitType}function wv(t){return`${rd(Ht(t))}|lt:${t.limitType}`}function mr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>yv(s)).join(", ")}]`),nl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>es(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>es(s)).join(",")),`Target(${r})`}(Ht(t))}; limitType=${t.limitType})`}function ol(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):H.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Hs(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const g=sp(o,a,c);return o.inclusive?g<=0:g<0}(r.startAt,Hs(r),s)||r.endAt&&!function(o,a,c){const g=sp(o,a,c);return o.inclusive?g>=0:g>0}(r.endAt,Hs(r),s))}(t,e)}function aS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ev(t){return(e,n)=>{let r=!1;for(const s of Hs(t)){const i=lS(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function lS(t,e,n){const r=t.field.isKeyField()?H.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),g=a.data.field(i);return c!==null&&g!==null?Zr(c,g):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return q2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new Ee(H.comparator);function Nn(){return uS}const Sv=new Ee(H.comparator);function Ps(...t){let e=Sv;for(const n of t)e=e.insert(n.key,n);return e}function cS(t){let e=Sv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gn(){return Ws()}function Tv(){return Ws()}function Ws(){return new cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const hS=new ze(H.comparator);function ne(...t){let e=hS;for(const n of t)e=e.add(n);return e}const dS=new ze(ie);function fS(){return dS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function mS(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this._=void 0}}function gS(t,e,n){return t instanceof Tc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ed(i)&&(i=td(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ea?bv(t,e):t instanceof Sa?Iv(t,e):function(s,i){const o=vS(s,i),a=lp(o)+lp(s.Ie);return _c(o)&&_c(s.Ie)?mS(a):pS(s.serializer,a)}(t,e)}function yS(t,e,n){return t instanceof Ea?bv(t,e):t instanceof Sa?Iv(t,e):n}function vS(t,e){return t instanceof bc?function(r){return _c(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Tc extends al{}class Ea extends al{constructor(e){super(),this.elements=e}}function bv(t,e){const n=Av(e);for(const r of t.elements)n.some(s=>Kt(s,r))||n.push(r);return{arrayValue:{values:n}}}class Sa extends al{constructor(e){super(),this.elements=e}}function Iv(t,e){let n=Av(e);for(const r of t.elements)n=n.filter(s=>!Kt(s,r));return{arrayValue:{values:n}}}class bc extends al{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lp(t){return be(t.integerValue||t.doubleValue)}function Av(t){return nd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _S(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ea&&s instanceof Ea||r instanceof Sa&&s instanceof Sa?Jr(r.elements,s.elements,Kt):r instanceof bc&&s instanceof bc?Kt(r.Ie,s.Ie):r instanceof Tc&&s instanceof Tc}(t.transform,e.transform)}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Po(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class id{}function kv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ES(t.key,Zn.none()):new od(t.key,t.data,Zn.none());{const n=t.data,r=Ft.empty();let s=new ze(tt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ll(t.key,r,new gn(s.toArray()),Zn.none())}}function wS(t,e,n){t instanceof od?function(s,i,o){const a=s.value.clone(),c=cp(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ll?function(s,i,o){if(!Po(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=cp(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Cv(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ks(t,e,n,r){return t instanceof od?function(i,o,a,c){if(!Po(i.precondition,o))return a;const g=i.value.clone(),y=hp(i.fieldTransforms,c,o);return g.setAll(y),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(t,e,n,r):t instanceof ll?function(i,o,a,c){if(!Po(i.precondition,o))return a;const g=hp(i.fieldTransforms,c,o),y=o.data;return y.setAll(Cv(i)),y.setAll(g),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):function(i,o,a){return Po(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function up(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jr(r,s,(i,o)=>_S(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends id{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ll extends id{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Cv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cp(t,e,n){const r=new Map;Ae(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,yS(o,a,n[s]))}return r}function hp(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,gS(i,o,e))}return r}class ES extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&wS(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ks(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ks(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Tv();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=kv(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Jr(this.mutations,e.mutations,(n,r)=>up(n,r))&&Jr(this.baseMutations,e.baseMutations,(n,r)=>up(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,ee;function Rv(t){if(t===void 0)return Wt("GRPC error has no .code"),D.UNKNOWN;switch(t){case Te.OK:return D.OK;case Te.CANCELLED:return D.CANCELLED;case Te.UNKNOWN:return D.UNKNOWN;case Te.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Te.INTERNAL:return D.INTERNAL;case Te.UNAVAILABLE:return D.UNAVAILABLE;case Te.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Te.NOT_FOUND:return D.NOT_FOUND;case Te.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Te.ABORTED:return D.ABORTED;case Te.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Te.DATA_LOSS:return D.DATA_LOSS;default:return Y()}}(ee=Te||(Te={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new jr([4294967295,4294967295],0);function dp(t){const e=IS().encode(t),n=new A2;return n.update(e),new Uint8Array(n.digest())}function fp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new jr([n,r],0),new jr([s,i],0)]}class ad{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $s(`Invalid padding: ${n}`);if(r<0)throw new $s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $s(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $s(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=jr.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(jr.fromNumber(r)));return s.compare(AS)===1&&(s=new jr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=dp(e),[r,s]=fp(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new ad(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=dp(e),[r,s]=fp(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $s extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fi.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ul(Q.min(),s,new Ee(ie),Nn(),ne())}}class Fi{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fi(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class xv{constructor(e,n){this.targetId=e,this.fe=n}}class Pv{constructor(e,n,r=Ze.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class pp{constructor(){this.ge=0,this.pe=gp(),this.ye=Ze.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Y()}}),new Fi(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=gp()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ae(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class kS{constructor(e){this.Le=e,this.ke=new Map,this.qe=Nn(),this.Qe=mp(),this.Ke=new Ee(ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Ec(i))if(r===0){const o=new H(i.path);this.We(n,o,Qe.newNoDocument(o,Q.min()))}else Ae(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);const g=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ar(r).toUint8Array()}catch(c){if(c instanceof dv)return Xr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new ad(o,s,i)}catch(c){return Xr(c instanceof $s?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Ec(a.target)){const c=new H(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,Qe.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=ne();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const g=this.Ye(c);return!g||g.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new ul(e,n,this.Ke,this.qe,r);return this.qe=Nn(),this.Qe=mp(),this.Ke=new Ee(ie),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new pp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new ze(ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new pp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function mp(){return new Ee(H.comparator)}function gp(){return new Ee(H.comparator)}const CS=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),RS=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xS=(()=>({and:"AND",or:"OR"}))();class PS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ic(t,e){return t.useProto3Json||nl(e)?e:{value:e}}function $S(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fr(t){return Ae(!!t),Q.fromTimestamp(function(n){const r=$n(n);return new ht(r.seconds,r.nanos)}(t))}function DS(t,e){return Ac(t,e).canonicalString()}function Ac(t,e){const n=function(s){return new ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $v(t){const e=ve.fromString(t);return Ae(Lv(e)),e}function Zl(t,e){const n=$v(e);if(n.get(1)!==t.databaseId.projectId)throw new F(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(Dv(n))}function Nv(t,e){return DS(t.databaseId,e)}function OS(t){const e=$v(t);return e.length===4?ve.emptyPath():Dv(e)}function yp(t){return new ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Dv(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(g,y){return g.useProto3Json?(Ae(y===void 0||typeof y=="string"),Ze.fromBase64String(y||"")):(Ae(y===void 0||y instanceof Uint8Array),Ze.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(g){const y=g.code===void 0?D.UNKNOWN:Rv(g.code);return new F(y,g.message||"")}(o);n=new Pv(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Zl(t,r.document.name),i=Fr(r.document.updateTime),o=r.document.createTime?Fr(r.document.createTime):Q.min(),a=new Ft({mapValue:{fields:r.document.fields}}),c=Qe.newFoundDocument(s,i,o,a),g=r.targetIds||[],y=r.removedTargetIds||[];n=new $o(g,y,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Zl(t,r.document),i=r.readTime?Fr(r.readTime):Q.min(),o=Qe.newNoDocument(s,i),a=r.removedTargetIds||[];n=new $o([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Zl(t,r.document),i=r.removedTargetIds||[];n=new $o([],i,s,null)}else{if(!("filter"in e))return Y();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new bS(s,i),a=r.targetId;n=new xv(a,o)}}return n}function LS(t,e){return{documents:[Nv(t,e.path)]}}function MS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Nv(t,s);const i=function(g){if(g.length!==0)return Vv(Qt.create(g,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(g){if(g.length!==0)return g.map(y=>function(h){return{field:gr(h.field),direction:zS(h.dir)}}(y))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ic(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ut:n,parent:s}}function jS(t){let e=OS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ae(r===1);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let i=[];n.where&&(i=function(l){const h=Ov(l);return h instanceof Qt&&mv(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(l){return l.map(h=>function(p){return new wa(yr(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(l){let h;return h=typeof l=="object"?l.value:l,nl(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(l){const h=!!l.before,m=l.values||[];return new _a(m,h)}(n.startAt));let g=null;return n.endAt&&(g=function(l){const h=!l.before,m=l.values||[];return new _a(m,h)}(n.endAt)),sS(e,s,o,i,a,"F",c,g)}function FS(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ov(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yr(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yr(n.unaryFilter.field);return Ce.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yr(n.unaryFilter.field);return Ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yr(n.unaryFilter.field);return Ce.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(yr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qt.create(n.compositeFilter.filters.map(r=>Ov(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function zS(t){return CS[t]}function US(t){return RS[t]}function BS(t){return xS[t]}function gr(t){return{fieldPath:t.canonicalString()}}function yr(t){return tt.fromServerFormat(t.fieldPath)}function Vv(t){return t instanceof Ce?function(n){if(n.op==="=="){if(rp(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NAN"}};if(np(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rp(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NOT_NAN"}};if(np(n.value))return{unaryFilter:{field:gr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(n.field),op:US(n.op),value:n.value}}}(t):t instanceof Qt?function(n){const r=n.getFilters().map(s=>Vv(s));return r.length===1?r[0]:{compositeFilter:{op:BS(n.op),filters:r}}}(t):Y()}function Lv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r,s,i=Q.min(),o=Q.min(),a=Ze.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new yn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.ct=e}}function HS(t){const e=jS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this._n=new KS}addToCollectionParentIndex(e,n){return this._n.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Pn.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Pn.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class KS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ze(ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ze(ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ts(0)}static Bn(){return new ts(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.changes=new cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ks(r.mutation,s,gn.empty(),ht.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const s=Gn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ps();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Nn();const o=Ws(),a=function(){return Ws()}();return n.forEach((c,g)=>{const y=r.get(g.key);s.has(g.key)&&(y===void 0||y.mutation instanceof ll)?i=i.insert(g.key,g):y!==void 0?(o.set(g.key,y.mutation.getFieldMask()),Ks(y.mutation,g,y.mutation.getFieldMask(),ht.now())):o.set(g.key,gn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((g,y)=>o.set(g,y)),n.forEach((g,y)=>{var l;return a.set(g,new GS(y,(l=o.get(g))!==null&&l!==void 0?l:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ws();let s=new Ee((o,a)=>o-a),i=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const g=n.get(c);if(g===null)return;let y=r.get(c)||gn.empty();y=a.applyToLocalView(g,y),r.set(c,y);const l=(s.get(a.batchId)||ne()).add(c);s=s.insert(a.batchId,l)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),g=c.key,y=c.value,l=Tv();y.forEach(h=>{if(!i.has(h)){const m=kv(n.get(h),r.get(h));m!==null&&l.set(h,m),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,g,l))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):P.resolve(Gn());let a=-1,c=i;return o.next(g=>P.forEach(g,(y,l)=>(a<l.largestBatchId&&(a=l.largestBatchId),i.get(y)?P.resolve():this.remoteDocumentCache.getEntry(e,y).next(h=>{c=c.insert(y,h)}))).next(()=>this.populateOverlays(e,g,i)).next(()=>this.computeViews(e,c,g,ne())).next(y=>({batchId:a,changes:cS(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new H(n)).next(r=>{let s=Ps();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ps();return this.indexManager.getCollectionParents(e,i).next(a=>P.forEach(a,c=>{const g=function(l,h){return new sl(h,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,g,r,s).next(y=>{y.forEach((l,h)=>{o=o.insert(l,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,g)=>{const y=g.getKey();o.get(y)===null&&(o=o.insert(y,Qe.newInvalidDocument(y)))});let a=Ps();return o.forEach((c,g)=>{const y=i.get(c);y!==void 0&&Ks(y.mutation,g,gn.empty(),ht.now()),ol(n,g)&&(a=a.insert(c,g))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return P.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Fr(s.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:HS(s.bundledQuery),readTime:Fr(s.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.overlays=new Ee(H.comparator),this.hr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gn();return P.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const s=Gn(),i=n.length+1,o=new H(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,g=c.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return P.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ee((g,y)=>g-y);const o=this.overlays.getIterator();for(;o.hasNext();){const g=o.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let y=i.get(g.largestBatchId);y===null&&(y=Gn(),i=i.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const a=Gn(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((g,y)=>a.set(g,y)),!(a.size()>=s)););return P.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new TS(n,r));let i=this.hr.get(n);i===void 0&&(i=ne(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this.Pr=new ze(Pe.Ir),this.Tr=new ze(Pe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Pe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Pe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new H(new ve([])),r=new Pe(n,e),s=new Pe(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new H(new ve([])),r=new Pe(n,e),s=new Pe(n,e+1);let i=ne();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pe{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return H.comparator(e.key,n.key)||ie(e.pr,n.pr)}static Er(e,n){return ie(e.pr,n.pr)||H.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ze(Pe.Ir)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SS(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Pe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return P.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pe(n,0),s=new Pe(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),P.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(ie);return n.forEach(s=>{const i=new Pe(s,0),o=new Pe(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),P.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;H.isDocumentKey(i)||(i=i.child(""));const o=new Pe(new H(i),0);let a=new ze(ie);return this.wr.forEachWhile(c=>{const g=c.key.path;return!!r.isPrefixOf(g)&&(g.length===s&&(a=a.add(c.pr)),!0)},o),P.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ae(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return P.forEach(n.mutations,s=>{const i=new Pe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Pe(n,0),s=this.wr.firstAfterOrEqual(r);return P.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.vr=e,this.docs=function(){return new Ee(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(e,n){let r=Nn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Qe.newInvalidDocument(s))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Nn();const o=n.path,a=new H(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:g,value:{document:y}}=c.getNext();if(!o.isPrefixOf(g.path))break;g.path.length>o.length+1||j2(M2(y),r)<=0||(s.has(y.key)||ol(n,y))&&(i=i.insert(y.key,y.mutableCopy()))}return P.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Y()}Fr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tT(this)}getSize(e){return P.resolve(this.size)}}class tT extends QS{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.persistence=e,this.Mr=new cs(n=>rd(n),sd),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ld,this.targetCount=0,this.Br=ts.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),P.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ts(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.qn(n),P.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),P.waitFor(i).next(()=>s)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),P.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Zh(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new nT(this),this.indexManager=new WS,this.remoteDocumentCache=function(s){return new eT(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new qS(n),this.$r=new XS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new ZS(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const s=new sT(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return P.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class sT extends z2{constructor(e){super(),this.currentSequenceNumber=e}}class ud{constructor(e){this.persistence=e,this.zr=new ld,this.jr=null}static Hr(e){return new ud(e)}get Jr(){if(this.jr)return this.jr;throw Y()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),P.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Jr,r=>{const s=H.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,Q.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return P.or([()=>P.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=ne(),s=ne();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new cd(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return aw()?8:Qn.v(ca())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new iT;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(bs()<=te.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",mr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),P.resolve()):(bs()<=te.DEBUG&&V("QueryEngine","Query:",mr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(bs()<=te.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",mr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ht(n))):P.resolve())}ji(e,n){if(ap(n))return P.resolve(null);let r=Ht(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Sc(n,null,"F"),r=Ht(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ne(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const g=this.Zi(n,a);return this.Xi(n,g,o,c.readTime)?this.ji(e,Sc(n,null,"F")):this.es(e,g,n,c)}))})))}Hi(e,n,r,s){return ap(n)||s.isEqual(Q.min())?P.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?P.resolve(null):(bs()<=te.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mr(n)),this.es(e,o,n,L2(s,-1)).next(a=>a))})}Zi(e,n){let r=new ze(Ev(e));return n.forEach((s,i)=>{ol(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return bs()<=te.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",mr(n)),this.zi.getDocumentsMatchingQuery(e,n,Pn.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new Ee(ie),this.rs=new cs(i=>rd(i),sd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YS(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function lT(t,e,n,r){return new aT(t,e,n,r)}async function Mv(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=ne();for(const g of s){o.push(g.batchId);for(const y of g.mutations)c=c.add(y.key)}for(const g of i){a.push(g.batchId);for(const y of g.mutations)c=c.add(y.key)}return n.localDocuments.getDocuments(r,c).next(g=>({us:g,removedBatchIds:o,addedBatchIds:a}))})})}function jv(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function uT(t,e){const n=se(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((y,l)=>{const h=s.get(l);if(!h)return;a.push(n.Qr.removeMatchingKeys(i,y.removedDocuments,l).next(()=>n.Qr.addMatchingKeys(i,y.addedDocuments,l)));let m=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(l)!==null?m=m.withResumeToken(Ze.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):y.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(y.resumeToken,r)),s=s.insert(l,m),function(f,_,u){return f.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size>0}(h,m,y)&&a.push(n.Qr.updateTargetData(i,m))});let c=Nn(),g=ne();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,y))}),a.push(cT(i,o,e.documentUpdates).next(y=>{c=y.cs,g=y.ls})),!r.isEqual(Q.min())){const y=n.Qr.getLastRemoteSnapshotVersion(i).next(l=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(y)}return P.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,g)).next(()=>c)}).then(i=>(n.ns=s,i))}function cT(t,e,n){let r=ne(),s=ne();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Nn();return n.forEach((a,c)=>{const g=i.get(a);c.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!g.isValidDocument()||c.version.compareTo(g.version)>0||c.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",g.version," Watch version:",c.version)}),{cs:o,ls:s}})}function hT(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,P.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new yn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function kc(t,e,n){const r=se(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ji(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function vp(t,e,n){const r=se(t);let s=Q.min(),i=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,g,y){const l=se(c),h=l.rs.get(y);return h!==void 0?P.resolve(l.ns.get(h)):l.Qr.getTargetData(g,y)}(r,o,Ht(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:Q.min(),n?i:ne())).next(a=>(dT(r,aS(e),a),{documents:a,hs:i})))}function dT(t,e,n){let r=t.ss.get(e)||Q.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class _p{constructor(){this.activeTargetIds=fS()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fT{constructor(){this.no=new _p,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new _p,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo=null;function eu(){return mo===null?mo=function(){return 268435456+Math.round(2147483648*Math.random())}():mo++,"0x"+mo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class yT extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=eu(),c=this.bo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const g={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(g,i,o),this.Co(n,c,g,s).then(y=>(V("RestConnection",`Received RPC '${n}' ${a}: `,y),y),y=>{throw Xr("RestConnection",`RPC '${n}' ${a} failed with error: `,y,"url: ",c,"request:",s),y})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+us}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=mT[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=eu();return new Promise((o,a)=>{const c=new I2;c.setWithCredentials(!0),c.listenOnce(T2.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xl.NO_ERROR:const y=c.getResponseJson();V(He,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(y)),o(y);break;case Xl.TIMEOUT:V(He,`RPC '${e}' ${i} timed out`),a(new F(D.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:const l=c.getStatus();if(V(He,`RPC '${e}' ${i} failed with status:`,l,"response text:",c.getResponseText()),l>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const p=function(_){const u=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(u)>=0?u:D.UNKNOWN}(m.status);a(new F(p,m.message))}else a(new F(D.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new F(D.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{V(He,`RPC '${e}' ${i} completed.`)}});const g=JSON.stringify(s);V(He,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",g,r,15)})}Fo(e,n,r){const s=eu(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=E2(),a=S2(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(c.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const y=i.join("");V(He,`Creating RPC '${e}' stream ${s}: ${y}`,c);const l=o.createWebChannel(y,c);let h=!1,m=!1;const p=new gT({lo:_=>{m?V(He,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(h||(V(He,`Opening RPC '${e}' stream ${s} transport.`),l.open(),h=!0),V(He,`RPC '${e}' stream ${s} sending:`,_),l.send(_))},ho:()=>l.close()}),f=(_,u,d)=>{_.listen(u,v=>{try{d(v)}catch(E){setTimeout(()=>{throw E},0)}})};return f(l,ho.EventType.OPEN,()=>{m||V(He,`RPC '${e}' stream ${s} transport opened.`)}),f(l,ho.EventType.CLOSE,()=>{m||(m=!0,V(He,`RPC '${e}' stream ${s} transport closed`),p.Vo())}),f(l,ho.EventType.ERROR,_=>{m||(m=!0,Xr(He,`RPC '${e}' stream ${s} transport errored:`,_),p.Vo(new F(D.UNAVAILABLE,"The operation could not be completed")))}),f(l,ho.EventType.MESSAGE,_=>{var u;if(!m){const d=_.data[0];Ae(!!d);const v=d,E=v.error||((u=v[0])===null||u===void 0?void 0:u.error);if(E){V(He,`RPC '${e}' stream ${s} received error:`,E);const S=E.status;let A=function(T){const b=Te[T];if(b!==void 0)return Rv(b)}(S),I=E.message;A===void 0&&(A=D.INTERNAL,I="Unknown error status: "+S+" with message "+E.message),m=!0,p.Vo(new F(A,I)),l.close()}else V(He,`RPC '${e}' stream ${s} received:`,d),p.mo(d)}}),f(a,b2.STAT_EVENT,_=>{_.stat===Yf.PROXY?V(He,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Yf.NOPROXY&&V(He,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function tu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){return new PS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),s=Math.max(0,n-r);s>0&&V("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,s,i,o,a,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new zv(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Wt(n.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new F(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _T extends vT{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=VS(this.serializer,e),r=function(i){if(!("targetChange"in i))return Q.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?Fr(o.readTime):Q.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=yp(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Ec(c)?{documents:LS(i,c)}:{query:MS(i,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=NS(i,o.resumeToken);const g=Ic(i,o.expectedCount);g!==null&&(a.expectedCount=g)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=$S(i,o.snapshotVersion.toTimestamp());const g=Ic(i,o.expectedCount);g!==null&&(a.expectedCount=g)}return a}(this.serializer,e);const r=FS(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=yp(this.serializer),n.removeTarget=e,this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new F(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Ac(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(D.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Ac(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(D.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class ET{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Wt(n),this.g_=!1):V("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ui(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(c){const g=se(c);g.v_.add(4),await zi(g),g.x_.set("Unknown"),g.v_.delete(4),await cl(g)}(this))})}),this.x_=new ET(r,s)}}async function cl(t){if(Ui(t))for(const e of t.F_)await e(!0)}async function zi(t){for(const e of t.F_)await e(!1)}function Uv(t,e){const n=se(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),fd(n)?dd(n):hs(n).Jo()&&hd(n,e))}function Bv(t,e){const n=se(t),r=hs(n);n.C_.delete(e),r.Jo()&&qv(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ui(n)&&n.x_.set("Unknown"))}function hd(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Q.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hs(t).c_(e)}function qv(t,e){t.O_.Oe(e),hs(t).l_(e)}function dd(t){t.O_=new kS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),hs(t).start(),t.x_.p_()}function fd(t){return Ui(t)&&!hs(t).Ho()&&t.C_.size>0}function Ui(t){return se(t).v_.size===0}function Hv(t){t.O_=void 0}async function TT(t){t.C_.forEach((e,n)=>{hd(t,e)})}async function bT(t,e){Hv(t),fd(t)?(t.x_.S_(e),dd(t)):t.x_.set("Unknown")}async function IT(t,e,n){if(t.x_.set("Online"),e instanceof Pv&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ep(t,r)}else if(e instanceof $o?t.O_.$e(e):e instanceof xv?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Q.min()))try{const r=await jv(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((c,g)=>{if(c.resumeToken.approximateByteSize()>0){const y=i.C_.get(g);y&&i.C_.set(g,y.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,g)=>{const y=i.C_.get(c);if(!y)return;i.C_.set(c,y.withResumeToken(Ze.EMPTY_BYTE_STRING,y.snapshotVersion)),qv(i,c);const l=new yn(y.target,c,g,y.sequenceNumber);hd(i,l)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await Ep(t,r)}}async function Ep(t,e,n){if(!ji(e))throw e;t.v_.add(1),await zi(t),t.x_.set("Offline"),n||(n=()=>jv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await cl(t)})}async function Sp(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=Ui(n);n.v_.add(3),await zi(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await cl(n)}async function AT(t,e){const n=se(t);e?(n.v_.delete(2),await cl(n)):e||(n.v_.add(2),await zi(n),n.x_.set("Unknown"))}function hs(t){return t.N_||(t.N_=function(n,r,s){const i=se(n);return i.R_(),new _T(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:TT.bind(null,t),To:bT.bind(null,t),u_:IT.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),fd(t)?dd(t):t.x_.set("Unknown")):(await t.N_.stop(),Hv(t))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new pd(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wv(t,e){if(Wt("AsyncQueue",`${e}: ${t}`),ji(t))return new F(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||H.comparator(n.key,r.key):(n,r)=>H.comparator(n.key,r.key),this.keyedMap=Ps(),this.sortedSet=new Ee(this.comparator)}static emptySet(e){return new zr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.L_=new Ee(H.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Y():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ns{constructor(e,n,r,s,i,o,a,c,g){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=g}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ns(e,n,zr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.q_=void 0,this.Q_=[]}}class CT{constructor(){this.queries=new cs(e=>wv(e),il),this.onlineState="Unknown",this.K_=new Set}}async function RT(t,e){const n=se(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new kT),s)try{i.q_=await n.onListen(r)}catch(o){const a=Wv(o,`Initialization of query '${mr(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.Q_.push(e),e.U_(n.onlineState),i.q_&&e.W_(i.q_)&&md(n)}async function xT(t,e){const n=se(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),s=i.Q_.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function PT(t,e){const n=se(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.W_(s)&&(r=!0);o.q_=s}}r&&md(n)}function $T(t,e,n){const r=se(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function md(t){t.K_.forEach(e=>{e.next()})}class NT{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.key=e}}class Qv{constructor(e){this.key=e}}class DT{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=Ev(e),this.ca=new zr(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new Tp,s=n?n.ca:this.ca;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,l)=>{const h=s.get(y),m=ol(this.query,l)?l:null,p=!!h&&this.mutatedKeys.has(h.key),f=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;h&&m?h.data.isEqual(m.data)?p!==f&&(r.track({type:3,doc:m}),_=!0):this.Ia(h,m)||(r.track({type:2,doc:m}),_=!0,(c&&this.ua(m,c)>0||g&&this.ua(m,g)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),_=!0):h&&!m&&(r.track({type:1,doc:h}),_=!0,(c||g)&&(a=!0)),_&&(m?(o=o.add(m),i=f?i.add(y):i.delete(y)):(o=o.delete(y),i=i.delete(y)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const y=this.query.limitType==="F"?o.last():o.first();o=o.delete(y.key),i=i.delete(y.key),r.track({type:1,doc:y})}return{ca:o,Pa:r,Xi:a,mutatedKeys:i}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((y,l)=>function(m,p){const f=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return f(m)-f(p)}(y.type,l.type)||this.ua(y.doc,l.doc)),this.Ta(r),s=s!=null&&s;const a=n&&!s?this.Ea():[],c=this.aa.size===0&&this.current&&!s?1:0,g=c!==this._a;return this._a=c,o.length!==0||g?{snapshot:new ns(this.query,e.ca,i,o,e.mutatedKeys,c===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Tp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ne(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Qv(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Kv(r))}),n}Ra(e){this.oa=e.hs,this.aa=ne();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ns.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class OT{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class VT{constructor(e){this.key=e,this.ma=!1}}class LT{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new cs(a=>wv(a),il),this.pa=new Map,this.ya=new Set,this.wa=new Ee(H.comparator),this.Sa=new Map,this.ba=new ld,this.Da={},this.Ca=new Map,this.va=ts.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function MT(t,e){const n=HT(t);let r,s;const i=n.ga.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Va();else{const o=await hT(n.localStore,Ht(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await jT(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Uv(n.remoteStore,o)}return s}async function jT(t,e,n,r,s){t.Ma=(l,h,m)=>async function(f,_,u,d){let v=_.view.ha(u);v.Xi&&(v=await vp(f.localStore,_.query,!1).then(({documents:I})=>_.view.ha(I,v)));const E=d&&d.targetChanges.get(_.targetId),S=d&&d.targetMismatches.get(_.targetId)!=null,A=_.view.applyChanges(v,f.isPrimaryClient,E,S);return Ip(f,_.targetId,A.da),A.snapshot}(t,l,h,m);const i=await vp(t.localStore,e,!0),o=new DT(e,i.hs),a=o.ha(i.documents),c=Fi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),g=o.applyChanges(a,t.isPrimaryClient,c);Ip(t,n,g.da);const y=new OT(e,n,o);return t.ga.set(e,y),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),g.snapshot}async function FT(t,e){const n=se(t),r=n.ga.get(e),s=n.pa.get(r.targetId);if(s.length>1)return n.pa.set(r.targetId,s.filter(i=>!il(i,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await kc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Bv(n.remoteStore,r.targetId),Cc(n,r.targetId)}).catch(Yh)):(Cc(n,r.targetId),await kc(n.localStore,r.targetId,!0))}async function Gv(t,e){const n=se(t);try{const r=await uT(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Sa.get(i);o&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.ma=!0:s.modifiedDocuments.size>0?Ae(o.ma):s.removedDocuments.size>0&&(Ae(o.ma),o.ma=!1))}),await Xv(n,r,e)}catch(r){await Yh(r)}}function bp(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ga.forEach((i,o)=>{const a=o.view.U_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=se(o);c.onlineState=a;let g=!1;c.queries.forEach((y,l)=>{for(const h of l.Q_)h.U_(a)&&(g=!0)}),g&&md(c)}(r.eventManager,e),s.length&&r.fa.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zT(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Sa.get(e),i=s&&s.key;if(i){let o=new Ee(H.comparator);o=o.insert(i,Qe.newNoDocument(i,Q.min()));const a=ne().add(i),c=new ul(Q.min(),new Map,new Ee(ie),o,a);await Gv(r,c),r.wa=r.wa.remove(i),r.Sa.delete(e),gd(r)}else await kc(r.localStore,e,!1).then(()=>Cc(r,e,n)).catch(Yh)}function Cc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||Yv(t,r)})}function Yv(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Bv(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),gd(t))}function Ip(t,e,n){for(const r of n)r instanceof Kv?(t.ba.addReference(r.key,e),UT(t,r)):r instanceof Qv?(V("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Yv(t,r.key)):Y()}function UT(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(V("SyncEngine","New document in limbo: "+n),t.ya.add(r),gd(t))}function gd(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new H(ve.fromString(e)),r=t.va.next();t.Sa.set(r,new VT(n)),t.wa=t.wa.insert(n,r),Uv(t.remoteStore,new yn(Ht(_v(n.path)),r,"TargetPurposeLimboResolution",Zh._e))}}async function Xv(t,e,n){const r=se(t),s=[],i=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(g=>{if((g||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,g!=null&&g.fromCache?"not-current":"current"),g){s.push(g);const y=cd.Ki(c.targetId,g);i.push(y)}}))}),await Promise.all(o),r.fa.u_(s),await async function(c,g){const y=se(c);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>P.forEach(g,h=>P.forEach(h.qi,m=>y.persistence.referenceDelegate.addReference(l,h.targetId,m)).next(()=>P.forEach(h.Qi,m=>y.persistence.referenceDelegate.removeReference(l,h.targetId,m)))))}catch(l){if(!ji(l))throw l;V("LocalStore","Failed to update sequence numbers: "+l)}for(const l of g){const h=l.targetId;if(!l.fromCache){const m=y.ns.get(h),p=m.snapshotVersion,f=m.withLastLimboFreeSnapshotVersion(p);y.ns=y.ns.insert(h,f)}}}(r.localStore,i))}async function BT(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await Mv(n.localStore,e);n.currentUser=e,function(i,o){i.Ca.forEach(a=>{a.forEach(c=>{c.reject(new F(D.CANCELLED,o))})}),i.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xv(n,r.us)}}function qT(t,e){const n=se(t),r=n.Sa.get(e);if(r&&r.ma)return ne().add(r.key);{let s=ne();const i=n.pa.get(e);if(!i)return s;for(const o of i){const a=n.ga.get(o);s=s.unionWith(a.view.la)}return s}}function HT(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zT.bind(null,e),e.fa.u_=PT.bind(null,e.eventManager),e.fa.xa=$T.bind(null,e.eventManager),e}class Ap{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lT(this.persistence,new oT,e.initialUser,this.serializer)}createPersistence(e){return new rT(ud.Hr,this.serializer)}createSharedClientState(e){return new fT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class WT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bp(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BT.bind(null,this.syncEngine),await AT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CT}()}createDatastore(e){const n=Fv(e.databaseInfo.databaseId),r=function(i){return new yT(i)}(e.databaseInfo);return function(i,o,a,c){return new wT(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new ST(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bp(this.syncEngine,n,0),function(){return wp.D()?new wp:new pT}())}createSyncEngine(e,n){return function(s,i,o,a,c,g,y){const l=new LT(s,i,o,a,c,g);return y&&(l.Fa=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=se(r);V("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await zi(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=We.UNAUTHENTICATED,this.clientId=O2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{V("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(V("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nu(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Mv(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await YT(t);V("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Sp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Sp(e.remoteStore,s)),t._onlineComponents=e}function GT(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function YT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await nu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!GT(n))throw n;Xr("Error using user provided cache. Falling back to memory cache: "+n),await nu(t,new Ap)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await nu(t,new Ap);return t._offlineComponents}async function XT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await kp(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await kp(t,new WT))),t._onlineComponents}async function JT(t){const e=await XT(t),n=e.eventManager;return n.onListen=MT.bind(null,e.syncEngine),n.onUnlisten=FT.bind(null,e.syncEngine),n}function ZT(t,e,n={}){const r=new Cn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,g){const y=new KT({next:h=>{o.enqueueAndForget(()=>xT(i,l)),h.fromCache&&c.source==="server"?g.reject(new F(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(h)},error:h=>g.reject(h)}),l=new NT(a,y,{includeMetadataChanges:!0,Z_:!0});return RT(i,l)}(await JT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t,e,n){if(!n)throw new F(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function t4(t,e,n,r){if(e===!0&&r===!0)throw new F(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rp(t){if(H.isDocumentKey(t))throw new F(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function n4(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Rc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=n4(t);throw new F(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}t4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k2;switch(r.type){case"firstParty":return new P2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Cp.get(n);r&&(V("ComponentProvider","Removing Datastore"),Cp.delete(n),r.terminate())}(this),Promise.resolve()}}function r4(t,e,n,r={}){var s;const i=(t=Rc(t,yd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=We.MOCK_USER;else{a=iw(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new F(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new We(g)}t._authCredentials=new C2(new hv(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hl(this.firestore,e,this._query)}}class ds{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ds(this.firestore,e,this._key)}}class Ur extends hl{constructor(e,n,r){super(e,n,_v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ds(this.firestore,null,new H(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function s4(t,e,...n){if(t=dw(t),e4("collection","path",e),t instanceof yd){const r=ve.fromString(e,...n);return Rp(r),new Ur(t,null,r)}{if(!(t instanceof ds||t instanceof Ur))throw new F(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ve.fromString(e,...n));return Rp(r),new Ur(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new zv(this,"async_queue_retry"),this._u=()=>{const n=tu();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=tu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=tu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Cn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ji(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wt("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const s=pd.createAndSchedule(this,e,n,r,i=>this.lu(i));return this.nu.push(s),s}au(){this.ru&&Y()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Zv extends yd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new i4}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||e0(this),this._firestoreClient.terminate()}}function o4(t,e){const n=typeof t=="object"?t:hE(),r=typeof t=="string"?t:e||"(default)",s=aE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=rw("firestore");i&&r4(s,...i)}return s}function a4(t){return t._firestoreClient||e0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function e0(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,g,y){return new W2(a,c,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Jv(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new QT(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(Ze.fromBase64String(e))}catch(n){throw new F(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ta(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}const u4=new RegExp("[~\\*/\\[\\]]");function c4(t,e,n){if(e.search(u4)>=0)throw Pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t0(...e.split("."))._internalPath}catch{throw Pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pp(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new F(D.INVALID_ARGUMENT,a+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ds(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h4 extends n0{data(){return super.data()}}function r0(t,e){return typeof e=="string"?c4(t,e):e instanceof t0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f4{convertValue(e,n="none"){switch(lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new l4(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=td(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ti(e));default:return null}}convertTimestamp(e){const n=$n(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ve.fromString(e);Ae(Lv(r));const s=new bi(r.get(1),r.get(3)),i=new H(r.popFirst(5));return s.isEqual(n)||Wt(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p4 extends n0{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new No(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class No extends p4{data(e={}){return super.data(e)}}class m4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new go(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new No(this._firestore,this._userDataWriter,r.key,r,new go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new No(s._firestore,s._userDataWriter,a.doc.key,a.doc,new go(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new No(s._firestore,s._userDataWriter,a.doc.key,a.doc,new go(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,y=-1;return a.type!==0&&(g=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),y=o.indexOf(a.doc.key)),{type:g4(a.type),doc:c,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function g4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}class y4 extends f4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ds(this.firestore,null,n)}}function v4(t){t=Rc(t,hl);const e=Rc(t.firestore,Zv),n=a4(e),r=new y4(e);return d4(t._query),ZT(n,t._query).then(s=>new m4(e,r,t,s))}(function(e,n=!0){(function(s){us=s})(cE),da(new di("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Zv(new R2(r.getProvider("auth-internal")),new N2(r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new F(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bi(g.options.projectId,y)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Lr(Xf,"4.4.1",e),Lr(Xf,"4.4.1","esm2017")})();var _4="firebase",w4="10.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(_4,w4,"app");const E4=iy({apiKey:"AIzaSyBAiNp52CXMmUbML-RP5P-1tHI_yb14kJk",authDomain:"portfolio-ca022.firebaseapp.com",projectId:"portfolio-ca022",storageBucket:"portfolio-ca022.appspot.com",messagingSenderId:"68100171968",appId:"1:68100171968:web:212b8c2892247d378ee525",measurementId:"G-TBZGMGRTLG"}),S4=o4(E4),T4={heading:"Hola, mi nombre es Yaotzin",subHeading:"Frontend web developer",mainDescription:"Bienvenido a mi portafolio. Soy un aspirante a desarrollador Frontend con afinidad por crear experiencias agradables para los usuarios. A travs de proyectos prcticos, he desarrollado habilidades en HTML, CSS, JS, as como en algunos frameworks de CSS como Bootstrap, Materialize y en frameworks de JavaScript como React. Este portafolio es una muestra que comparte mi viaje y aspiraciones en el desarrollo Frontend.",image:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/illustration.png?alt=media&token=eae60d13-e6c7-4a42-9457-a77c0156acc8",lazyImage:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/illustration-lazy.png?alt=media&token=3cc9245b-56c6-40c1-947b-f07b7b4b780e"},b4={title:"Habilidades",data:["HTML","CSS","JavaScript (JS)","TypeScript (TS)","React","Node.js","Express","Pug","Bootstrap","Materialize","Styled-components","Sass","MongoDB","Firebase","MySQL","Sequelize","Mongoose","Parcel","Webpack","Gulp","Figma","Photoshop","Git","GitHub","Vitest","Docker"]},I4=[{label:"Enlace a mi Github",path:"https://github.com/IAOsan",title:"Github"},{label:"Enlace a mi Linkedin",path:"https://www.linkedin.com/in/yaotzin-sanabria-7a43332a9",title:"Linkedin"}],A4=[{thumbnail:{lg:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/bienes-raices-layout.png?alt=media&token=ca3383e9-8109-4db7-a66b-1653ce18dba9",lazy:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/bienes-raices-layout-lazy.png?alt=media&token=d04fbd7a-6161-4d81-87d2-20cf1ca97513"},title:"bienes races layout",stack:["pug","materialize","sass"],codeLink:"https://github.com/IAOsan/bienes-raices-layout/",demoLink:"https://iaosan.github.io/bienes-raices-layout/"},{thumbnail:{lg:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/fiverr.png?alt=media&token=3bd2afb3-4fe6-47d5-b53c-736d7cf539ec",lazy:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/fiverr-lazy.png?alt=media&token=221e367d-7154-4f4f-8b41-71a633513892"},title:"fiverr layout",stack:["pug","bootstrap","sass","javascript"],codeLink:"https://github.com/IAOsan/frv-layout/",demoLink:"https://iaosan.github.io/frv-layout/"},{thumbnail:{lg:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/spa.png?alt=media&token=243eb1c2-48f7-4c6f-8c1c-02407113cbd0",lazy:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/spa-lazy.png?alt=media&token=5c212811-3d96-4623-8b67-cef6aa9ab601"},title:"spa multipgina",stack:["pug","bootstrap","sass"],codeLink:"https://github.com/IAOsan/carolina-spa-layout/",demoLink:"https://iaosan.github.io/carolina-spa-layout/"},{thumbnail:{lg:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/color-generator.png?alt=media&token=fd6da8d4-d3f5-4047-acb4-cde02c982acd",lazy:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/color-generator-lazy.png?alt=media&token=27ce93d5-bad2-4d4c-b729-a785f4f1bfd6"},title:"color generator",stack:["vite ","react","sass"],codeLink:"https://github.com/IAOsan/colors-generator/",demoLink:"https://iaosan.github.io/colors-generator/"},{thumbnail:{lg:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/weather-app.png?alt=media&token=12813902-abb5-4a7c-b522-7c6cb3149f59",lazy:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/weather-app-lazy.png?alt=media&token=267b3167-44f7-4245-8cef-eba9514aa696"},title:"weather app",stack:["vite","react","sass"],codeLink:"https://github.com/IAOsan/weather-app/",demoLink:"https://iaosan.github.io/weather-app/"},{thumbnail:{lg:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/todo-app.png?alt=media&token=255c8140-617f-42ca-92a8-2839298ccfc8",lazy:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/todo-app-lazy.png?alt=media&token=702d93a9-f95c-47fc-96ce-b3458478400c"},title:"todo app",stack:["vite","react","sass"],codeLink:"https://github.com/IAOsan/todo-app/",demoLink:"https://iaosan.github.io/todo-app/"},{thumbnail:{lg:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/markdown-editor.png?alt=media&token=33771432-8581-4377-9144-1098148ce646",lazy:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/markdown-editor-lazy.png?alt=media&token=29436a3d-c3b7-4d57-b6f5-3084e8e19cd7"},title:"markdown editor",stack:["html","typescript","css"],codeLink:"https://github.com/IAOsan/markdown-editor/",demoLink:"https://iaosan.github.io/markdown-editor/"},{thumbnail:{lg:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/drawing-app.png?alt=media&token=1cda945a-73a3-4f29-b0f0-c45c172d94a8",lazy:"https://firebasestorage.googleapis.com/v0/b/portfolio-ca022.appspot.com/o/drawing-app-lazy.png?alt=media&token=7f96dfd5-c471-4b4a-b892-c9cdafe6813b"},title:"drawing app",stack:["html","typescript","css"],codeLink:"https://github.com/IAOsan/drawing-app/",demoLink:"https://iaosan.github.io/drawing-app/"}],k4=[{path:"#home",label:"Inicio"},{path:"#projects",label:"Proyectos"},{path:"#contact",label:"Contacto"}],C4="Gracias por visitar mi portafolio, si ests interesado en discutir oportunidades de colaboracin o compartir experiencias de aprendizaje, no dudes en ponerte en contacto. Puedes enviarme un correo electrnico llenando el formulario o encontrarme en GitHub o Linkedin",R4={about:T4,skills:b4,social:I4,projects:A4,sections:k4,contactDescription:C4},x4={about:{heading:"",subHeading:"",mainDescription:"",image:""},skills:{title:"",data:[]},social:[],projects:[],sections:[],contactDescription:""},s0=U.createContext();function fs(){const t=U.useContext(s0);if(!t)throw new Error('"AppContext" should be used within AppContextProvider');return t}function P4({children:t}){const[e,n]=U.useState(x4),[r,s]=U.useState(!1);return U.useEffect(()=>{(async()=>{try{const o=(await v4(s4(S4,"/data"))).docs.map(a=>a.data())[0];n(o),s()}catch{n(R4)}finally{s(!0)}})()},[]),C(s0.Provider,{value:{...e,shouldRenderApp:r},children:t})}const i0=t=>U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:110,height:43,fill:"none",...t},U.createElement("path",{fill:"#283739",d:"M51.92 29h-3.937v-4.68L44 14.555h4.028l1.89 6.098 1.755-6.098h4.005l-3.758 9.72zm9.868-11.227h3.757V29H61.72v-1.215Q61.292 29 59.74 29h-.405q-2.992 0-2.992-2.79v-5.648q0-2.79 2.992-2.79h.405q1.732 0 2.047 1.44zm-1.058 8.415h.383q.607 0 .607-.675V21.26q0-.675-.608-.675h-.382q-.562 0-.562.495v4.613q0 .495.562.494m9.687-8.415h2.857q1.71 0 2.453.72t.742 2.07v5.647q0 1.35-.742 2.07-.743.72-2.453.72h-2.857q-1.71 0-2.453-.72t-.742-2.07v-5.648q0-1.35.742-2.07.743-.72 2.453-.72m2.295 8.077v-4.928q0-.495-.563-.495h-.607q-.563 0-.563.495v4.928q0 .495.563.495h.607q.563 0 .563-.495m10.99-.158v-2.047q0-.495-.563-.495h-2.16q-1.665 0-2.362-.72-.675-.742-.675-2.115v-2.97q0-2.79 3.285-2.79h3.082q3.285 0 3.285 2.79v1.733h-3.937v-1.215q0-.495-.563-.495h-.652q-.563 0-.563.495V20q0 .495.563.495h2.115q1.665 0 2.362.697.72.698.72 2.048v2.97q0 2.79-3.285 2.79h-3.06q-3.307 0-3.307-2.79v-1.733h3.937v1.215q0 .495.563.495h.652q.563 0 .563-.495m10.737-7.92h3.757V29h-3.825v-1.215Q93.944 29 92.391 29h-.405q-2.992 0-2.992-2.79v-5.648q0-2.79 2.992-2.79h.405q1.733 0 2.048 1.44zm-1.058 8.416h.383q.607 0 .607-.675V21.26q0-.675-.607-.675h-.383q-.562 0-.562.495v4.613q0 .495.562.494m12.409-8.415h.405q2.993 0 2.993 2.79V29h-3.825v-7.92q0-.495-.563-.495h-.382q-.608 0-.608.675V29h-3.825V17.773h3.758v1.44q.315-1.44 2.047-1.44M7.441 8.04c-.625.128-.863.206-1.308.429-.973.48-1.793 1.527-2.059 2.633-.066.277-.07.804-.07 10.937v10.645l.094.332c.351 1.257 1.21 2.238 2.39 2.722.274.11.38.14.817.227.437.086 24.89.086 25.37 0 .743-.133 1.337-.418 1.927-.922.566-.48 1.05-1.262 1.261-2.027l.094-.332V11.356l-.094-.333c-.43-1.546-1.656-2.68-3.187-2.949-.266-.05-2.153-.054-12.735-.054-6.832.003-12.457.011-12.5.02m5.145 6.07c.14.042.355.144.484.23.149.098 1.375 1.297 3.418 3.348 2.778 2.789 3.2 3.226 3.293 3.425a2.03 2.03 0 0 1 0 1.813c-.093.199-.515.637-3.312 3.441-1.766 1.766-3.29 3.266-3.39 3.332-.618.399-1.524.418-2.118.047a2.04 2.04 0 0 1-.941-1.308 1.6 1.6 0 0 1 .003-.852c.141-.598-.113-.316 4.286-4.73.445-.45.808-.825.808-.837 0-.011-.91-.93-2.02-2.042-2.644-2.649-2.784-2.793-2.91-3.055-.124-.258-.226-.656-.226-.899 0-.671.394-1.351 1.004-1.73.422-.266 1.11-.344 1.62-.184m15.68 11.913c.5.09.843.278 1.191.657.25.265.398.547.48.906.079.32.079.539.004.852a2 2 0 0 1-1.074 1.37c-.449.227-.328.22-3.906.22h-3.3l-.274-.09c-1.34-.45-1.848-2.016-1.012-3.118.324-.425.71-.668 1.246-.78.305-.063 6.293-.075 6.645-.017"})),$4=t=>U.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},U.createElement("path",{d:"M32 0C14.32 0 0 14.32 0 32C0 46.16 9.16 58.12 21.88 62.36C23.48 62.64 24.08 61.68 24.08 60.84C24.08 60.08 24.04 57.56 24.04 54.88C16 56.36 13.92 52.92 13.28 51.12C12.92 50.2 11.36 47.36 10 46.6C8.88 46 7.28 44.52 9.96 44.48C12.48 44.44 14.28 46.8 14.88 47.76C17.76 52.6 22.36 51.24 24.2 50.4C24.48 48.32 25.32 46.92 26.24 46.12C19.12 45.32 11.68 42.56 11.68 30.32C11.68 26.84 12.92 23.96 14.96 21.72C14.64 20.92 13.52 17.64 15.28 13.24C15.28 13.24 17.96 12.4 24.08 16.52C26.64 15.8 29.36 15.44 32.08 15.44C34.8 15.44 37.52 15.8 40.08 16.52C46.2 12.36 48.88 13.24 48.88 13.24C50.64 17.64 49.52 20.92 49.2 21.72C51.24 23.96 52.48 26.8 52.48 30.32C52.48 42.6 45 45.32 37.88 46.12C39.04 47.12 40.04 49.04 40.04 52.04C40.04 56.32 40 59.76 40 60.84C40 61.68 40.6 62.68 42.2 62.36C48.5536 60.217 54.0747 56.1347 57.9856 50.6881C61.8965 45.2415 64.0001 38.7052 64 32C64 14.32 49.68 0 32 0Z",fill:"currentColor"})),N4=t=>U.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},U.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M64 12.4608C61.5999 13.5073 59.0583 14.1931 56.4576 14.496C59.188 12.8954 61.2407 10.3535 62.2304 7.3472C59.6481 8.8544 56.8298 9.91464 53.8944 10.4832C52.6569 9.18877 51.1692 8.15935 49.5217 7.45744C47.8742 6.75553 46.1012 6.39577 44.3104 6.4C37.0592 6.4 31.1808 12.1856 31.1808 19.328C31.1808 20.3392 31.296 21.3248 31.52 22.272C26.3184 22.0251 21.2254 20.6967 16.5659 18.3716C11.9063 16.0465 7.78254 12.7758 4.4576 8.768C3.29147 10.7341 2.67685 12.9781 2.6784 15.264C2.68186 17.4015 3.21791 19.5045 4.2381 21.3829C5.2583 23.2613 6.73048 24.8558 8.5216 26.0224C6.43924 25.9586 4.40122 25.405 2.5728 24.4064V24.5664C2.5728 30.8288 7.0976 36.0544 13.1008 37.2416C11.1668 37.7578 9.14181 37.8344 7.1744 37.4656C8.8448 42.5984 13.6928 46.336 19.44 46.4416C14.768 50.0432 9.03184 51.9905 3.1328 51.9776C2.08581 51.9767 1.03977 51.9147 0 51.792C6.02341 55.5962 13.0039 57.6105 20.128 57.6C44.2784 57.6 57.4848 37.904 57.4848 20.8256C57.4848 20.2656 57.472 19.7056 57.4464 19.152C60.012 17.331 62.2315 15.0629 64 12.4608Z",fill:"currentColor"})),D4=t=>U.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},U.createElement("path",{d:"M2.6665 5.33331H9.33317L49.3332 58.6666H42.6665L2.6665 5.33331ZM14.6665 5.33331H21.3332L61.3332 58.6666H54.6665L14.6665 5.33331ZM7.99984 5.33331H21.3332V10.6666H7.99984V5.33331ZM42.6665 53.3333H55.9998V58.6666H42.6665V53.3333ZM49.3332 5.33331H58.6665L13.3332 58.6666H3.99984L49.3332 5.33331Z",fill:"currentColor"})),O4=t=>U.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},U.createElement("g",{clipPath:"url(#clip0_2658_1296)"},U.createElement("path",{d:"M0 4.584C0 2.052 2.104 0 4.7 0H59.3C61.896 0 64 2.052 64 4.584V59.416C64 61.948 61.896 64 59.3 64H4.7C2.104 64 0 61.948 0 59.416V4.584ZM19.772 53.576V24.676H10.168V53.576H19.772ZM14.972 20.728C18.32 20.728 20.404 18.512 20.404 15.736C20.344 12.9 18.324 10.744 15.036 10.744C11.748 10.744 9.6 12.904 9.6 15.736C9.6 18.512 11.684 20.728 14.908 20.728H14.972ZM34.604 53.576V37.436C34.604 36.572 34.668 35.708 34.924 35.092C35.616 33.368 37.196 31.58 39.852 31.58C43.328 31.58 44.716 34.228 44.716 38.116V53.576H54.32V37C54.32 28.12 49.584 23.992 43.264 23.992C38.168 23.992 35.884 26.792 34.604 28.764V28.864H34.54L34.604 28.764V24.676H25.004C25.124 27.388 25.004 53.576 25.004 53.576H34.604Z",fill:"currentColor"})),U.createElement("defs",null,U.createElement("clipPath",{id:"clip0_2658_1296"},U.createElement("rect",{width:64,height:64,fill:"white"})))),V4=t=>U.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},U.createElement("path",{d:"M6.54419 42.828C7.2943 43.5779 8.31154 43.9992 9.37219 43.9992C10.4328 43.9992 11.4501 43.5779 12.2002 42.828L32.0002 23.028L51.8002 42.828C52.5546 43.5566 53.565 43.9598 54.6138 43.9507C55.6626 43.9416 56.6658 43.5209 57.4075 42.7793C58.1491 42.0377 58.5698 41.0344 58.5789 39.9856C58.588 38.9368 58.1848 37.9264 57.4562 37.172L34.8282 14.544C34.0781 13.7941 33.0608 13.3729 32.0002 13.3729C30.9395 13.3729 29.9223 13.7941 29.1722 14.544L6.54419 37.172C5.79431 37.9221 5.37305 38.9394 5.37305 40C5.37305 41.0607 5.79431 42.0779 6.54419 42.828Z",fill:"currentColor"})),L4=t=>U.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},U.createElement("g",{clipPath:"url(#clip0_2658_1304)"},U.createElement("path",{d:"M64 6.4L57.6 0L32 25.6L6.4 0L0 6.4L25.6 32L0 57.6L6.4 64L32 38.4L57.6 64L64 57.6L38.4 32L64 6.4Z",fill:"currentColor"})),U.createElement("defs",null,U.createElement("clipPath",{id:"clip0_2658_1304"},U.createElement("rect",{width:64,height:64,fill:"white"})))),M4=t=>U.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},U.createElement("path",{d:"M58.6668 37.3333H53.3335V19.3013L32.1922 38.2347L10.6668 19.2427V50.6667H37.3335V56H8.00016C7.29292 56 6.61464 55.7191 6.11454 55.219C5.61445 54.7189 5.3335 54.0406 5.3335 53.3333V10.6667C5.3335 9.95942 5.61445 9.28115 6.11454 8.78105C6.61464 8.28095 7.29292 8 8.00016 8H56.0002C56.7074 8 57.3857 8.28095 57.8858 8.78105C58.3859 9.28115 58.6668 9.95942 58.6668 10.6667V37.3333ZM12.0295 13.3333L32.1628 31.0987L52.0055 13.3333H12.0295ZM50.6668 58.6667L41.2375 49.24L45.0108 45.4667L50.6668 51.1253L60.0935 41.696L63.8668 45.4667L50.6668 58.6667Z",fill:"currentColor"})),j4=t=>U.createElement("svg",{width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},U.createElement("path",{d:"M58.6668 37.3333H53.3335V19.3013L32.1922 38.2347L10.6668 19.2427V50.6667H40.0002V56H8.00016C7.29292 56 6.61464 55.719 6.11454 55.219C5.61445 54.7189 5.3335 54.0406 5.3335 53.3333V10.6667C5.3335 9.95942 5.61445 9.28115 6.11454 8.78105C6.61464 8.28095 7.29292 8 8.00016 8H56.0002C56.7074 8 57.3857 8.28095 57.8858 8.78105C58.3859 9.28115 58.6668 9.95942 58.6668 10.6667V37.3333ZM12.0295 13.3333L32.1628 31.0987L52.0055 13.3333H12.0295ZM57.1042 50.6667L62.7602 56.3227L58.9895 60.096L53.3335 54.4347L47.6775 60.0907L43.9042 56.32L49.5655 50.6667L43.9095 45.0107L47.6802 41.2373L53.3335 46.8987L58.9895 41.2427L62.7628 45.0133L57.1042 50.6667Z",fill:"currentColor"})),F4=200;function z4(){la("scroll",Ju(c,F4));const{sections:t}=fs(),[e,n]=U.useState("#home"),[r,s]=U.useState(!1),i=U.useRef(null),o=U.useRef([]),a=U.useRef([]);function c(y){if(!o.current.length){const h=Array.from(document.querySelectorAll("section"));o.current=h,a.current=h.map(m=>m.getBoundingClientRect().top+250)}for(let h=0;h<o.current.length;h++)window.innerHeight+window.scrollY>=a.current[h]&&n(`#${o.current[h].id}`);if(i.current){const h=window.scrollY>i.current.offsetHeight;i.current.classList.toggle("sticky",h)}}function g(y){y.preventDefault(),Wg(y.target.hash),s(!1)}return C("header",{className:"header bg-color-light-500",ref:i,children:J(Kg,{children:[J(Qg,{href:"/",children:[C(i0,{"aria-hidden":"true"}),C("span",{className:"sr-only",children:"Logo de mi portafolio, enlace a inicio"})]}),C(Yg,{id:"mainNav",className:"rounded",visible:r,children:t.map(y=>C(Ro,{children:C(xo,{onClick:g,href:y.path,className:e===y.path?"rounded active":"rounded",children:y.label})},y.path))}),C(Gg,{"aria-controls":"mainNav","aria-label":`${r?"Cerrar":"Abrir"} la navegacin`,"aria-expanded":r,className:"ml-auto",onClick:()=>s(y=>!y),children:C("span",{className:"sr-only",children:`${r?"Cerrar":"Abrir"} la navegacin`})})]})})}function Bi({size:t,inline:e,responsive:n,className:r,children:s}){const o=Je("icon",{[{md:"icon--md",xl:"icon--xl","2xl":"icon--2xl","3xl":"icon--3xl"}[t]]:t},{"icon--inline":e},{"icon--responsive":n},{[r]:r});return C("div",{className:o,children:s})}Bi.propTypes={size:X.oneOf(["md","2xl","3xl"]),inline:X.bool,responsive:X.bool,className:X.string,children:X.node.isRequired};function vd({size:t}){const{social:e}=fs(),r=Je("social-list",{[{sm:"social-list--sm"}[t]]:t}),s={Github:$4,Linkedin:O4,Twitter:N4,X:D4};return C("ul",{className:r,children:e.map(i=>{const o=s[i.title];return C("li",{className:"social-list__item d-inline-block mr-24 mr-lg-16",children:J("a",{href:i.path,className:"social-list__link d-block","aria-label":i.label,title:i.title,target:"_blank",rel:"noreferrer",children:[C(Bi,{responsive:!0,children:C(o,{"aria-hidden":"true"})}),C("span",{className:"sr-only",children:i.label})]})},i.path)})})}vd.propTypes={size:X.oneOf(["sm"])};function U4(){return C("footer",{className:"footer",children:J("div",{className:"container flex flex-ai-c",children:[C("p",{className:"font-heading mr-32",children:"YaoSan"}),C(vd,{size:"sm"}),J("p",{className:"ml-auto",children:[new Date().getFullYear()," | Made with "]})]})})}function dl({fallback:t,src:e,alt:n,className:r,...s}){const i=U.useRef();return U.useEffect(()=>{function o([c],g){if(!c.isIntersecting)return;const y=new Image,l=c.target;y.src=e,y.onload=()=>{l.src=e,l.classList.remove("lazy-img"),g.unobserve(l)}}const a=new IntersectionObserver(o,{root:null,threshold:0,rootMargin:"100px"});return a.observe(i.current),()=>{a.disconnect()}},[e]),C("img",{className:Je("lazy-img",{[r]:r}),...s,src:t,alt:n,ref:i,loading:"lazy"})}dl.defaultProps={alt:""};dl.propTypes={fallback:X.string.isRequired,src:X.string.isRequired,alt:X.string,className:X.string};function B4(){const{about:t,skills:e}=fs(),{heading:n,subHeading:r,mainDescription:s,image:i,lazyImage:o}=t;return C("section",{id:"home",className:"about",children:J("div",{className:"container",children:[J("div",{className:"row mb-64",children:[J("div",{className:"col-md-7 about__body",children:[C("h1",{className:"display-4 text-center text-md-left m-0 mb-16",children:n}),C("h2",{className:"h3 text-center text-md-left mb-28",children:r}),C("p",{className:"mb-32 text-justify",children:s}),J("div",{className:"flex flex-ai-c",children:[C(hr,{onClick:()=>Wg("#contact"),variant:"green",type:"button",rounded:!0,className:"mr-44",children:"Contctame"}),C(vd,{})]})]}),C("div",{className:"col-md-5 about__image flex-md flex-column flex-jc-c",children:C(dl,{src:i,fallback:o,className:"fluid-img"})})]}),C("div",{className:"row",children:C("div",{className:"col-12",children:J("div",{className:"skills",children:[C("h3",{className:"h3 mb-32",children:e.title}),e.data.map(a=>C("small",{className:"d-inline-block bg-color-light-600 color-light-900 rounded px-20 py-8 mr-16 mb-16",children:a},a))]})})})]})})}function o0({thumbnail:t,title:e,stack:n,codeLink:r,demoLink:s}){return J("article",{className:"project-card rounded",children:[C("div",{className:"project-card__thumbnail bg-color-light-700",children:C(dl,{src:t.lg,fallback:t.lazy})}),J("div",{className:"project-card__body bg-color-light-500",children:[C("h3",{className:"h5 mb-4",children:e.toUpperCase()}),C("p",{className:"mb-32 color-light-800",children:n.join(" ").toUpperCase()}),J("div",{className:"flex flex-ai-c",children:[C("a",{href:r,className:"btn btn--dark btn--block text-center mr-32 project-card__btn",target:"_blank",rel:"noreferrer","aria-label":`Enlace al cdigo del proyecto "${e}"`,children:"Cdigo"}),C("a",{href:s,className:"btn btn--blue btn--block text-center project-card__btn",target:"_blank",rel:"noreferrer","aria-label":`Enlace a la demostracin en vivo del proyecto "${e}"`,children:"Demo"})]})]})]})}o0.propTypes={thumbnail:X.shape({lg:X.string.isRequired,lazy:X.string.isRequired}).isRequired,title:X.string.isRequired,stack:X.arrayOf(X.string).isRequired,codeLink:X.string.isRequired,demoLink:X.string.isRequired};function q4(){const{projects:t}=fs();return C("section",{id:"projects",className:"projects bg-color-light-600",children:J("div",{className:"container",children:[C("h2",{className:"display-4 mb-60",children:"Proyectos"}),C("div",{className:"row",children:t.map(e=>C("div",{className:"col-md-6",children:C(o0,{...e})},e.title))})]})})}function a0({className:t,children:e,...n}){return C("form",{className:Je("form",{[t]:t}),...n,children:e})}function Do({className:t,children:e}){const n=Je("form__group",{[t]:t});return C("div",{className:n,children:e})}function Oo({className:t,children:e,...n}){return C("label",{className:Je("form__label",{[t]:t}),...n,children:e})}function Vo({type:t,error:e,className:n,textarea:r,...s}){const i=t==="textarea",o=Je({form__control:!i},{"form__control form__control--textarea":i},{[n]:n},{invalid:e});return i?C("textarea",{className:o,...s}):C("input",{className:o,type:t,...s})}function Lo({variant:t,className:e,message:n}){return n?C("small",{className:Je("form__feedback",{[{invalid:"form__feedback color-red-700 d-block"}[t]]:t},{[e]:e}),children:n}):null}a0.propTypes={className:X.string,children:X.node.isRequired};Do.propTypes={className:X.string,children:X.node.isRequired};Vo.propTypes={type:X.oneOf(["text","textarea","email","password"]).isRequired,error:X.string,className:X.string};Oo.propTypes={children:X.node.isRequired};Lo.propTypes={variant:X.oneOf(["invalid"]).isRequired,className:X.string,message:X.string};function H4({isOpen:t,onClose:e,children:n}){la("keydown",r),U.useEffect(()=>{document.body.style.overflow=t?"hidden":"auto"},[t]);function r(s){s.key==="Escape"&&e()}return t?J("div",{children:[J("div",{className:"modal rounded bg-color-light-500",children:[C(hr,{onClick:e,className:"btn modal__close",type:"button",children:C(Bi,{inline:!0,children:C(L4,{})})}),n]}),C("div",{...K1(e),className:"overlay"})]}):null}function l0({isOpen:t,isSuccessful:e,onOpen:n}){return C(H4,{isOpen:t,onClose:n,children:J("div",{className:"submit-status text-center",children:[C("div",{className:Je("submit-status__icon-box rounded-circle mx-auto mb-28",{"bg-color-green-100":e},{"bg-color-red-100":!e}),children:C(Bi,{className:Je("submit-status__icon",{"color-green-400":e},{"color-red-500":!e}),children:e?C(M4,{}):C(j4,{})})}),C("h3",{className:"h3",children:e?"Gracias!, tu mensaje ha sido enviado":"Lo siento, no fue posible enviar tu mensaje"}),C("p",{className:"h5",children:e?"Me pondre en contacto pronto":"Por favor, intentalo mas tarde"})]})})}l0.propTypes={isOpen:X.bool.isRequired,isSuccessful:X.bool.isRequired,onOpen:X.func.isRequired};var xc={},W4={get exports(){return xc},set exports(t){xc=t}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>{return n={7629:(s,i,o)=>{const a=o(375),c=o(8571),g=o(9474),y=o(1687),l=o(8652),h=o(8160),m=o(3292),p=o(6354),f=o(8901),_=o(9708),u=o(6914),d=o(2294),v=o(6133),E=o(1152),S=o(8863),A=o(2036),I={Base:class{constructor(w){this.type=w,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new d.Ids,this._preferences=null,this._refs=new v.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return a(typeof _.describe=="function","Manifest functionality disabled"),_.describe(this)}allow(){for(var w=arguments.length,T=new Array(w),b=0;b<w;b++)T[b]=arguments[b];return h.verifyFlat(T,"allow"),this._values(T,"_valids")}alter(w){a(w&&typeof w=="object"&&!Array.isArray(w),"Invalid targets argument"),a(!this._inRuleset(),"Cannot set alterations inside a ruleset");const T=this.clone();T.$_terms.alterations=T.$_terms.alterations||[];for(const b in w){const k=w[b];a(typeof k=="function","Alteration adjuster for",b,"must be a function"),T.$_terms.alterations.push({target:b,adjuster:k})}return T.$_temp.ruleset=!1,T}artifact(w){return a(w!==void 0,"Artifact cannot be undefined"),a(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",w)}cast(w){return a(w===!1||typeof w=="string","Invalid to value"),a(w===!1||this._definition.cast[w],"Type",this.type,"does not support casting to",w),this.$_setFlag("cast",w===!1?void 0:w)}default(w,T){return this._default("default",w,T)}description(w){return a(w&&typeof w=="string","Description must be a non-empty string"),this.$_setFlag("description",w)}empty(w){const T=this.clone();return w!==void 0&&(w=T.$_compile(w,{override:!1})),T.$_setFlag("empty",w,{clone:!1})}error(w){return a(w,"Missing error"),a(w instanceof Error||typeof w=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",w)}example(w){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a(w!==void 0,"Missing example"),h.assertOptions(T,["override"]),this._inner("examples",w,{single:!0,override:T.override})}external(w,T){return typeof w=="object"&&(a(!T,"Cannot combine options with description"),T=w.description,w=w.method),a(typeof w=="function","Method must be a function"),a(T===void 0||T&&typeof T=="string","Description must be a non-empty string"),this._inner("externals",{method:w,description:T},{single:!0})}failover(w,T){return this._default("failover",w,T)}forbidden(){return this.presence("forbidden")}id(w){return w?(a(typeof w=="string","id must be a non-empty string"),a(/^[^\.]+$/.test(w),"id cannot contain period character"),this.$_setFlag("id",w)):this.$_setFlag("id",void 0)}invalid(){for(var w=arguments.length,T=new Array(w),b=0;b<w;b++)T[b]=arguments[b];return this._values(T,"_invalids")}label(w){return a(w&&typeof w=="string","Label name must be a non-empty string"),this.$_setFlag("label",w)}meta(w){return a(w!==void 0,"Meta cannot be undefined"),this._inner("metas",w,{single:!0})}note(){for(var w=arguments.length,T=new Array(w),b=0;b<w;b++)T[b]=arguments[b];a(T.length,"Missing notes");for(const k of T)a(k&&typeof k=="string","Notes must be non-empty strings");return this._inner("notes",T)}only(){let w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return a(typeof w=="boolean","Invalid mode:",w),this.$_setFlag("only",w)}optional(){return this.presence("optional")}prefs(w){a(w,"Missing preferences"),a(w.context===void 0,"Cannot override context"),a(w.externals===void 0,"Cannot override externals"),a(w.warnings===void 0,"Cannot override warnings"),a(w.debug===void 0,"Cannot override debug"),h.checkPreferences(w);const T=this.clone();return T._preferences=h.preferences(T._preferences,w),T}presence(w){return a(["optional","required","forbidden"].includes(w),"Unknown presence mode",w),this.$_setFlag("presence",w)}raw(){let w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",w?"raw":void 0)}result(w){return a(["raw","strip"].includes(w),"Unknown result mode",w),this.$_setFlag("result",w)}required(){return this.presence("required")}strict(w){const T=this.clone(),b=w!==void 0&&!w;return T._preferences=h.preferences(T._preferences,{convert:b}),T}strip(){let w=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("result",w?"strip":void 0)}tag(){for(var w=arguments.length,T=new Array(w),b=0;b<w;b++)T[b]=arguments[b];a(T.length,"Missing tags");for(const k of T)a(k&&typeof k=="string","Tags must be non-empty strings");return this._inner("tags",T)}unit(w){return a(w&&typeof w=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",w)}valid(){for(var w=arguments.length,T=new Array(w),b=0;b<w;b++)T[b]=arguments[b];h.verifyFlat(T,"valid");const k=this.allow(...T);return k.$_setFlag("only",!!k._valids,{clone:!1}),k}when(w,T){const b=this.clone();b.$_terms.whens||(b.$_terms.whens=[]);const k=m.when(b,w,T);if(!["any","link"].includes(b.type)){const R=k.is?[k]:k.switch;for(const x of R)a(!x.then||x.then.type==="any"||x.then.type===b.type,"Cannot combine",b.type,"with",x.then&&x.then.type),a(!x.otherwise||x.otherwise.type==="any"||x.otherwise.type===b.type,"Cannot combine",b.type,"with",x.otherwise&&x.otherwise.type)}return b.$_terms.whens.push(k),b.$_mutateRebuild()}cache(w){a(!this._inRuleset(),"Cannot set caching inside a ruleset"),a(!this._cache,"Cannot override schema cache"),a(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");const T=this.clone();return T._cache=w||l.provider.provision(),T.$_temp.ruleset=!1,T}clone(){const w=Object.create(Object.getPrototypeOf(this));return this._assign(w)}concat(w){a(h.isSchema(w),"Invalid schema object"),a(this.type==="any"||w.type==="any"||w.type===this.type,"Cannot merge type",this.type,"with another type:",w.type),a(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),a(!w._inRuleset(),"Cannot concatenate a schema with open ruleset");let T=this.clone();if(this.type==="any"&&w.type!=="any"){const b=w.clone();for(const k of Object.keys(T))k!=="type"&&(b[k]=T[k]);T=b}T._ids.concat(w._ids),T._refs.register(w,v.toSibling),T._preferences=T._preferences?h.preferences(T._preferences,w._preferences):w._preferences,T._valids=A.merge(T._valids,w._valids,w._invalids),T._invalids=A.merge(T._invalids,w._invalids,w._valids);for(const b of w._singleRules.keys())T._singleRules.has(b)&&(T._rules=T._rules.filter(k=>k.keep||k.name!==b),T._singleRules.delete(b));for(const b of w._rules)w._definition.rules[b.method].multi||T._singleRules.set(b.name,b),T._rules.push(b);if(T._flags.empty&&w._flags.empty){T._flags.empty=T._flags.empty.concat(w._flags.empty);const b=Object.assign({},w._flags);delete b.empty,y(T._flags,b)}else if(w._flags.empty){T._flags.empty=w._flags.empty;const b=Object.assign({},w._flags);delete b.empty,y(T._flags,b)}else y(T._flags,w._flags);for(const b in w.$_terms){const k=w.$_terms[b];k?T.$_terms[b]?T.$_terms[b]=T.$_terms[b].concat(k):T.$_terms[b]=k.slice():T.$_terms[b]||(T.$_terms[b]=k)}return this.$_root._tracer&&this.$_root._tracer._combine(T,[this,w]),T.$_mutateRebuild()}extend(w){return a(!w.base,"Cannot extend type with another base"),f.type(this,w)}extract(w){return w=Array.isArray(w)?w:w.split("."),this._ids.reach(w)}fork(w,T){a(!this._inRuleset(),"Cannot fork inside a ruleset");let b=this;for(let k of[].concat(w))k=Array.isArray(k)?k:k.split("."),b=b._ids.fork(k,T,b);return b.$_temp.ruleset=!1,b}rule(w){const T=this._definition;h.assertOptions(w,Object.keys(T.modifiers)),a(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const b=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;a(b>=0&&b<this._rules.length,"Cannot apply rules to empty ruleset");const k=this.clone();for(let R=b;R<k._rules.length;++R){const x=k._rules[R],L=c(x);for(const j in w)T.modifiers[j](L,w[j]),a(L.name===x.name,"Cannot change rule name");k._rules[R]=L,k._singleRules.get(L.name)===x&&k._singleRules.set(L.name,L)}return k.$_temp.ruleset=!1,k.$_mutateRebuild()}get ruleset(){a(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const w=this.clone();return w.$_temp.ruleset=w._rules.length,w}get $(){return this.ruleset}tailor(w){w=[].concat(w),a(!this._inRuleset(),"Cannot tailor inside a ruleset");let T=this;if(this.$_terms.alterations)for(const{target:b,adjuster:k}of this.$_terms.alterations)w.includes(b)&&(T=k(T),a(h.isSchema(T),"Alteration adjuster for",b,"failed to return a schema object"));return T=T.$_modify({each:b=>b.tailor(w),ref:!1}),T.$_temp.ruleset=!1,T.$_mutateRebuild()}tracer(){return E.location?E.location(this):this}validate(w,T){return S.entry(w,this,T)}validateAsync(w,T){return S.entryAsync(w,this,T)}$_addRule(w){typeof w=="string"&&(w={name:w}),a(w&&typeof w=="object","Invalid options"),a(w.name&&typeof w.name=="string","Invalid rule name");for(const x in w)a(x[0]!=="_","Cannot set private rule properties");const T=Object.assign({},w);T._resolve=[],T.method=T.method||T.name;const b=this._definition.rules[T.method],k=T.args;a(b,"Unknown rule",T.method);const R=this.clone();if(k){a(Object.keys(k).length===1||Object.keys(k).length===this._definition.rules[T.name].args.length,"Invalid rule definition for",this.type,T.name);for(const x in k){let L=k[x];if(b.argsByName){const j=b.argsByName.get(x);if(j.ref&&h.isResolvable(L))T._resolve.push(x),R.$_mutateRegister(L);else if(j.normalize&&(L=j.normalize(L),k[x]=L),j.assert){const K=h.validateArg(L,x,j);a(!K,K,"or reference")}}L!==void 0?k[x]=L:delete k[x]}}return b.multi||(R._ruleRemove(T.name,{clone:!1}),R._singleRules.set(T.name,T)),R.$_temp.ruleset===!1&&(R.$_temp.ruleset=null),b.priority?R._rules.unshift(T):R._rules.push(T),R}$_compile(w,T){return m.schema(this.$_root,w,T)}$_createError(w,T,b,k,R){let x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const L=x.flags!==!1?this._flags:{},j=x.messages?u.merge(this._definition.messages,x.messages):this._definition.messages;return new p.Report(w,T,b,L,j,k,R)}$_getFlag(w){return this._flags[w]}$_getRule(w){return this._singleRules.get(w)}$_mapLabels(w){return w=Array.isArray(w)?w:w.split("."),this._ids.labels(w)}$_match(w,T,b,k){(b=Object.assign({},b)).abortEarly=!0,b._externals=!1,T.snapshot();const R=!S.validate(w,this,T,b,k).errors;return T.restore(),R}$_modify(w){return h.assertOptions(w,["each","once","ref","schema"]),d.schema(this,w)||this}$_mutateRebuild(){return a(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(w,T)=>{let{source:b,name:k,path:R,key:x}=T;const L=this._definition[b][k]&&this._definition[b][k].register;L!==!1&&this.$_mutateRegister(w,{family:L,key:x})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(w){let{family:T,key:b}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._refs.register(w,T),this._ids.register(w,{key:b})}$_property(w){return this._definition.properties[w]}$_reach(w){return this._ids.reach(w)}$_rootReferences(){return this._refs.roots()}$_setFlag(w,T){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a(w[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");const k=this._definition.flags[w]||{};if(g(T,k.default)&&(T=void 0),g(T,this._flags[w]))return this;const R=b.clone!==!1?this.clone():this;return T!==void 0?(R._flags[w]=T,R.$_mutateRegister(T)):delete R._flags[w],w[0]!=="_"&&(R.$_temp.ruleset=!1),R}$_parent(w){for(var T=arguments.length,b=new Array(T>1?T-1:0),k=1;k<T;k++)b[k-1]=arguments[k];return this[w][h.symbols.parent].call(this,...b)}$_validate(w,T,b){return S.validate(w,this,T,b)}_assign(w){w.type=this.type,w.$_root=this.$_root,w.$_temp=Object.assign({},this.$_temp),w.$_temp.whens={},w._ids=this._ids.clone(),w._preferences=this._preferences,w._valids=this._valids&&this._valids.clone(),w._invalids=this._invalids&&this._invalids.clone(),w._rules=this._rules.slice(),w._singleRules=c(this._singleRules,{shallow:!0}),w._refs=this._refs.clone(),w._flags=Object.assign({},this._flags),w._cache=null,w.$_terms={};for(const T in this.$_terms)w.$_terms[T]=this.$_terms[T]?this.$_terms[T].slice():null;w.$_super={};for(const T in this.$_super)w.$_super[T]=this._super[T].bind(w);return w}_bare(){const w=this.clone();w._reset();const T=w._definition.terms;for(const b in T){const k=T[b];w.$_terms[b]=k.init}return w.$_mutateRebuild()}_default(w,T){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return h.assertOptions(b,"literal"),a(T!==void 0,"Missing",w,"value"),a(typeof T=="function"||!b.literal,"Only function value supports literal option"),typeof T=="function"&&b.literal&&(T={[h.symbols.literal]:!0,literal:T}),this.$_setFlag(w,T)}_generate(w,T,b){if(!this.$_terms.whens)return{schema:this};const k=[],R=[];for(let j=0;j<this.$_terms.whens.length;++j){const K=this.$_terms.whens[j];if(K.concat){k.push(K.concat),R.push(`${j}.concat`);continue}const fe=K.ref?K.ref.resolve(w,T,b):w,N=K.is?[K]:K.switch,B=R.length;for(let q=0;q<N.length;++q){const{is:z,then:G,otherwise:xe}=N[q],Se=`${j}${K.switch?"."+q:""}`;if(z.$_match(fe,T.nest(z,`${Se}.is`),b)){if(G){const Gt=T.localize([...T.path,`${Se}.then`],T.ancestors,T.schemas),{schema:At,id:Ot}=G._generate(w,Gt,b);k.push(At),R.push(`${Se}.then${Ot?`(${Ot})`:""}`);break}}else if(xe){const Gt=T.localize([...T.path,`${Se}.otherwise`],T.ancestors,T.schemas),{schema:At,id:Ot}=xe._generate(w,Gt,b);k.push(At),R.push(`${Se}.otherwise${Ot?`(${Ot})`:""}`);break}}if(K.break&&R.length>B)break}const x=R.join(", ");if(T.mainstay.tracer.debug(T,"rule","when",x),!x)return{schema:this};if(!T.mainstay.tracer.active&&this.$_temp.whens[x])return{schema:this.$_temp.whens[x],id:x};let L=this;this._definition.generate&&(L=this._definition.generate(this,w,T,b));for(const j of k)L=L.concat(j);return this.$_root._tracer&&this.$_root._tracer._combine(L,[this,...k]),this.$_temp.whens[x]=L,{schema:L,id:x}}_inner(w,T){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};a(!this._inRuleset(),`Cannot set ${w} inside a ruleset`);const k=this.clone();return k.$_terms[w]&&!b.override||(k.$_terms[w]=[]),b.single?k.$_terms[w].push(T):k.$_terms[w].push(...T),k.$_temp.ruleset=!1,k}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(w){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._singleRules.has(w))return this;const b=T.clone!==!1?this.clone():this;b._singleRules.delete(w);const k=[];for(let R=0;R<b._rules.length;++R){const x=b._rules[R];x.name!==w||x.keep?k.push(x):b._inRuleset()&&R<b.$_temp.ruleset&&--b.$_temp.ruleset}return b._rules=k,b}_values(w,T){h.verifyFlat(w,T.slice(1,-1));const b=this.clone(),k=w[0]===h.symbols.override;if(k&&(w=w.slice(1)),!b[T]&&w.length?b[T]=new A:k&&(b[T]=w.length?new A:null,b.$_mutateRebuild()),!b[T])return b;k&&b[T].override();for(const R of w){a(R!==void 0,"Cannot call allow/valid/invalid with undefined"),a(R!==h.symbols.override,"Override must be the first value");const x=T==="_invalids"?"_valids":"_invalids";b[x]&&(b[x].remove(R),b[x].length||(a(T==="_valids"||!b._flags.only,"Setting invalid value",R,"leaves schema rejecting all values due to previous valid rule"),b[x]=null)),b[T].add(R,b._refs)}return b}}};I.Base.prototype[h.symbols.any]={version:h.version,compile:m.compile,root:"$_root"},I.Base.prototype.isImmutable=!0,I.Base.prototype.deny=I.Base.prototype.invalid,I.Base.prototype.disallow=I.Base.prototype.invalid,I.Base.prototype.equal=I.Base.prototype.valid,I.Base.prototype.exist=I.Base.prototype.required,I.Base.prototype.not=I.Base.prototype.invalid,I.Base.prototype.options=I.Base.prototype.prefs,I.Base.prototype.preferences=I.Base.prototype.prefs,s.exports=new I.Base},8652:(s,i,o)=>{const a=o(375),c=o(8571),g=o(8160),y={max:1e3,supported:new Set(["undefined","boolean","number","string"])};i.provider={provision:l=>new y.Cache(l)},y.Cache=class{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};g.assertOptions(l,["max"]),a(l.max===void 0||l.max&&l.max>0&&isFinite(l.max),"Invalid max cache size"),this._max=l.max||y.max,this._map=new Map,this._list=new y.List}get length(){return this._map.size}set(l,h){if(l!==null&&!y.supported.has(typeof l))return;let m=this._map.get(l);if(m)return m.value=h,void this._list.first(m);m=this._list.unshift({key:l,value:h}),this._map.set(l,m),this._compact()}get(l){const h=this._map.get(l);if(h)return this._list.first(h),c(h.value)}_compact(){if(this._map.size>this._max){const l=this._list.pop();this._map.delete(l.key)}}},y.List=class{constructor(){this.tail=null,this.head=null}unshift(l){return l.next=null,l.prev=this.head,this.head&&(this.head.next=l),this.head=l,this.tail||(this.tail=l),l}first(l){l!==this.head&&(this._remove(l),this.unshift(l))}pop(){return this._remove(this.tail)}_remove(l){const{next:h,prev:m}=l;return h.prev=m,m&&(m.next=h),l===this.tail&&(this.tail=h),l.prev=null,l.next=null,l}}},8160:(s,i,o)=>{const a=o(375),c=o(7916),g=o(5934);let y,l;const h={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};i.version=g.version,i.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},i.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},i.assertOptions=function(m,p){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"Options";a(m&&typeof m=="object"&&!Array.isArray(m),"Options must be of type object");const _=Object.keys(m).filter(u=>!p.includes(u));a(_.length===0,`${f} contain unknown keys: ${_}`)},i.checkPreferences=function(m){l=l||o(3378);const p=l.preferences.validate(m);if(p.error)throw new c([p.error.details[0].message])},i.compare=function(m,p,f){switch(f){case"=":return m===p;case">":return m>p;case"<":return m<p;case">=":return m>=p;case"<=":return m<=p}},i.default=function(m,p){return m===void 0?p:m},i.isIsoDate=function(m){return h.isoDate.test(m)},i.isNumber=function(m){return typeof m=="number"&&!isNaN(m)},i.isResolvable=function(m){return!!m&&(m[i.symbols.ref]||m[i.symbols.template])},i.isSchema=function(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const f=m&&m[i.symbols.any];return!!f&&(a(p.legacy||f.version===i.version,"Cannot mix different versions of joi schemas"),!0)},i.isValues=function(m){return m[i.symbols.values]},i.limit=function(m){return Number.isSafeInteger(m)&&m>=0},i.preferences=function(m,p){y=y||o(6914),m=m||{},p=p||{};const f=Object.assign({},m,p);return p.errors&&m.errors&&(f.errors=Object.assign({},m.errors,p.errors),f.errors.wrap=Object.assign({},m.errors.wrap,p.errors.wrap)),p.messages&&(f.messages=y.compile(p.messages,m.messages)),delete f[i.symbols.prefs],f},i.tryWithPath=function(m,p){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{return m()}catch(_){throw _.path!==void 0?_.path=p+"."+_.path:_.path=p,f.append&&(_.message=`${_.message} (${_.path})`),_}},i.validateArg=function(m,p,f){let{assert:_,message:u}=f;if(i.isSchema(_)){const d=_.validate(m);return d.error?d.error.message:void 0}if(!_(m))return p?`${p} ${u}`:u},i.verifyFlat=function(m,p){for(const f of m)a(!Array.isArray(f),"Method no longer accepts array arguments:",p)}},3292:(s,i,o)=>{const a=o(375),c=o(8160),g=o(6133),y={};i.schema=function(l,h){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.assertOptions(m,["appendPath","override"]);try{return y.schema(l,h,m)}catch(p){throw m.appendPath&&p.path!==void 0&&(p.message=`${p.message} (${p.path})`),p}},y.schema=function(l,h,m){a(h!==void 0,"Invalid undefined schema"),Array.isArray(h)&&(a(h.length,"Invalid empty array schema"),h.length===1&&(h=h[0]));const p=function(f){for(var _=arguments.length,u=new Array(_>1?_-1:0),d=1;d<_;d++)u[d-1]=arguments[d];return m.override!==!1?f.valid(l.override,...u):f.valid(...u)};if(y.simple(h))return p(l,h);if(typeof h=="function")return l.custom(h);if(a(typeof h=="object","Invalid schema content:",typeof h),c.isResolvable(h))return p(l,h);if(c.isSchema(h))return h;if(Array.isArray(h)){for(const f of h)if(!y.simple(f))return l.alternatives().try(...h);return p(l,...h)}return h instanceof RegExp?l.string().regex(h):h instanceof Date?p(l.date(),h):(a(Object.getPrototypeOf(h)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),l.object().keys(h))},i.ref=function(l,h){return g.isRef(l)?l:g.create(l,h)},i.compile=function(l,h){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c.assertOptions(m,["legacy"]);const p=h&&h[c.symbols.any];if(p)return a(m.legacy||p.version===c.version,"Cannot mix different versions of joi schemas:",p.version,c.version),h;if(typeof h!="object"||!m.legacy)return i.schema(l,h,{appendPath:!0});const f=y.walk(h);return f?f.compile(f.root,h):i.schema(l,h,{appendPath:!0})},y.walk=function(l){if(typeof l!="object")return null;if(Array.isArray(l)){for(const m of l){const p=y.walk(m);if(p)return p}return null}const h=l[c.symbols.any];if(h)return{root:l[h.root],compile:h.compile};a(Object.getPrototypeOf(l)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const m in l){const p=y.walk(l[m]);if(p)return p}return null},y.simple=function(l){return l===null||["boolean","string","number"].includes(typeof l)},i.when=function(l,h,m){if(m===void 0&&(a(h&&typeof h=="object","Missing options"),m=h,h=g.create(".")),Array.isArray(m)&&(m={switch:m}),c.assertOptions(m,["is","not","then","otherwise","switch","break"]),c.isSchema(h))return a(m.is===void 0,'"is" can not be used with a schema condition'),a(m.not===void 0,'"not" can not be used with a schema condition'),a(m.switch===void 0,'"switch" can not be used with a schema condition'),y.condition(l,{is:h,then:m.then,otherwise:m.otherwise,break:m.break});if(a(g.isRef(h)||typeof h=="string","Invalid condition:",h),a(m.not===void 0||m.is===void 0,'Cannot combine "is" with "not"'),m.switch===void 0){let f=m;m.not!==void 0&&(f={is:m.not,then:m.otherwise,otherwise:m.then,break:m.break});let _=f.is!==void 0?l.$_compile(f.is):l.$_root.invalid(null,!1,0,"").required();return a(f.then!==void 0||f.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),a(f.break===void 0||f.then===void 0||f.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),m.is===void 0||g.isRef(m.is)||c.isSchema(m.is)||(_=_.required()),y.condition(l,{ref:i.ref(h),is:_,then:f.then,otherwise:f.otherwise,break:f.break})}a(Array.isArray(m.switch),'"switch" must be an array'),a(m.is===void 0,'Cannot combine "switch" with "is"'),a(m.not===void 0,'Cannot combine "switch" with "not"'),a(m.then===void 0,'Cannot combine "switch" with "then"');const p={ref:i.ref(h),switch:[],break:m.break};for(let f=0;f<m.switch.length;++f){const _=m.switch[f],u=f===m.switch.length-1;c.assertOptions(_,u?["is","then","otherwise"]:["is","then"]),a(_.is!==void 0,'Switch statement missing "is"'),a(_.then!==void 0,'Switch statement missing "then"');const d={is:l.$_compile(_.is),then:l.$_compile(_.then)};if(g.isRef(_.is)||c.isSchema(_.is)||(d.is=d.is.required()),u){a(m.otherwise===void 0||_.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');const v=m.otherwise!==void 0?m.otherwise:_.otherwise;v!==void 0&&(a(p.break===void 0,"Cannot specify both otherwise and break"),d.otherwise=l.$_compile(v))}p.switch.push(d)}return p},y.condition=function(l,h){for(const m of["then","otherwise"])h[m]===void 0?delete h[m]:h[m]=l.$_compile(h[m]);return h}},6354:(s,i,o)=>{const a=o(5688),c=o(8160),g=o(3328);i.Report=class{constructor(y,l,h,m,p,f,_){if(this.code=y,this.flags=m,this.messages=p,this.path=f.path,this.prefs=_,this.state=f,this.value=l,this.message=null,this.template=null,this.local=h||{},this.local.label=i.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const u=this.path[this.path.length-1];typeof u!="object"&&(this.local.key=u)}}_setTemplate(y){if(this.template=y,!this.flags.label&&this.path.length===0){const l=this._template(this.template,"root");l&&(this.local.label=l)}}toString(){if(this.message)return this.message;const y=this.code;if(!this.prefs.errors.render)return this.code;const l=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return l===void 0?`Error code "${y}" is not defined, your custom type is missing the correct messages definition`:(this.message=l.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(y,l){return i.template(this.value,y,l||this.code,this.state,this.prefs)}},i.path=function(y){let l="";for(const h of y)typeof h!="object"&&(typeof h=="string"?(l&&(l+="."),l+=h):l+=`[${h}]`);return l},i.template=function(y,l,h,m,p){if(!l)return;if(g.isTemplate(l))return h!=="root"?l:null;let f=p.errors.language;if(c.isResolvable(f)&&(f=f.resolve(y,m,p)),f&&l[f]){if(l[f][h]!==void 0)return l[f][h];if(l[f]["*"]!==void 0)return l[f]["*"]}return l[h]?l[h]:l["*"]},i.label=function(y,l,h,m){if(y.label)return y.label;if(!h.errors.label)return"";let p=l.path;return h.errors.label==="key"&&l.path.length>1&&(p=l.path.slice(-1)),i.path(p)||i.template(null,h.messages,"root",l,h)||m&&i.template(null,m,"root",l,h)||"value"},i.process=function(y,l,h){if(!y)return null;const{override:m,message:p,details:f}=i.details(y);if(m)return m;if(h.errors.stack)return new i.ValidationError(p,f,l);const _=Error.stackTraceLimit;Error.stackTraceLimit=0;const u=new i.ValidationError(p,f,l);return Error.stackTraceLimit=_,u},i.details=function(y){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=[];const m=[];for(const p of y){if(p instanceof Error){if(l.override!==!1)return{override:p};const _=p.toString();h.push(_),m.push({message:_,type:"override",context:{error:p}});continue}const f=p.toString();h.push(f),m.push({message:f,path:p.path.filter(_=>typeof _!="object"),type:p.code,context:p.local})}return h.length>1&&(h=[...new Set(h)]),{message:h.join(". "),details:m}},i.ValidationError=class extends Error{constructor(y,l,h){super(y),this._original=h,this.details=l}static isError(y){return y instanceof i.ValidationError}},i.ValidationError.prototype.isJoi=!0,i.ValidationError.prototype.name="ValidationError",i.ValidationError.prototype.annotate=a.error},8901:(s,i,o)=>{const a=o(375),c=o(8571),g=o(8160),y=o(6914),l={};i.type=function(h,m){const p=Object.getPrototypeOf(h),f=c(p),_=h._assign(Object.create(f)),u=Object.assign({},m);delete u.base,f._definition=u;const d=p._definition||{};u.messages=y.merge(d.messages,u.messages),u.properties=Object.assign({},d.properties,u.properties),_.type=u.type,u.flags=Object.assign({},d.flags,u.flags);const v=Object.assign({},d.terms);if(u.terms)for(const I in u.terms){const w=u.terms[I];a(_.$_terms[I]===void 0,"Invalid term override for",u.type,I),_.$_terms[I]=w.init,v[I]=w}u.terms=v,u.args||(u.args=d.args),u.prepare=l.prepare(u.prepare,d.prepare),u.coerce&&(typeof u.coerce=="function"&&(u.coerce={method:u.coerce}),u.coerce.from&&!Array.isArray(u.coerce.from)&&(u.coerce={method:u.coerce.method,from:[].concat(u.coerce.from)})),u.coerce=l.coerce(u.coerce,d.coerce),u.validate=l.validate(u.validate,d.validate);const E=Object.assign({},d.rules);if(u.rules)for(const I in u.rules){const w=u.rules[I];a(typeof w=="object","Invalid rule definition for",u.type,I);let T=w.method;if(T===void 0&&(T=function(){return this.$_addRule(I)}),T&&(a(!f[I],"Rule conflict in",u.type,I),f[I]=T),a(!E[I],"Rule conflict in",u.type,I),E[I]=w,w.alias){const b=[].concat(w.alias);for(const k of b)f[k]=w.method}w.args&&(w.argsByName=new Map,w.args=w.args.map(b=>(typeof b=="string"&&(b={name:b}),a(!w.argsByName.has(b.name),"Duplicated argument name",b.name),g.isSchema(b.assert)&&(b.assert=b.assert.strict().label(b.name)),w.argsByName.set(b.name,b),b)))}u.rules=E;const S=Object.assign({},d.modifiers);if(u.modifiers)for(const I in u.modifiers){a(!f[I],"Rule conflict in",u.type,I);const w=u.modifiers[I];a(typeof w=="function","Invalid modifier definition for",u.type,I);const T=function(b){return this.rule({[I]:b})};f[I]=T,S[I]=w}if(u.modifiers=S,u.overrides){f._super=p,_.$_super={};for(const I in u.overrides)a(p[I],"Cannot override missing",I),u.overrides[I][g.symbols.parent]=p[I],_.$_super[I]=p[I].bind(_);Object.assign(f,u.overrides)}u.cast=Object.assign({},d.cast,u.cast);const A=Object.assign({},d.manifest,u.manifest);return A.build=l.build(u.manifest&&u.manifest.build,d.manifest&&d.manifest.build),u.manifest=A,u.rebuild=l.rebuild(u.rebuild,d.rebuild),_},l.build=function(h,m){return h&&m?function(p,f){return m(h(p,f),f)}:h||m},l.coerce=function(h,m){return h&&m?{from:h.from&&m.from?[...new Set([...h.from,...m.from])]:null,method(p,f){let _;if((!m.from||m.from.includes(typeof p))&&(_=m.method(p,f),_)){if(_.errors||_.value===void 0)return _;p=_.value}if(!h.from||h.from.includes(typeof p)){const u=h.method(p,f);if(u)return u}return _}}:h||m},l.prepare=function(h,m){return h&&m?function(p,f){const _=h(p,f);if(_){if(_.errors||_.value===void 0)return _;p=_.value}return m(p,f)||_}:h||m},l.rebuild=function(h,m){return h&&m?function(p){m(p),h(p)}:h||m},l.validate=function(h,m){return h&&m?function(p,f){const _=m(p,f);if(_){if(_.errors&&(!Array.isArray(_.errors)||_.errors.length))return _;p=_.value}return h(p,f)||_}:h||m}},5107:(s,i,o)=>{const a=o(375),c=o(8571),g=o(8652),y=o(8160),l=o(3292),h=o(6354),m=o(8901),p=o(9708),f=o(6133),_=o(3328),u=o(1152);let d;const v={types:{alternatives:o(4946),any:o(8068),array:o(546),boolean:o(4937),date:o(7500),function:o(390),link:o(8785),number:o(3832),object:o(8966),string:o(7417),symbol:o(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const E={_types:new Set(Object.keys(v.types))};for(const S of E._types)E[S]=function(){for(var A=arguments.length,I=new Array(A),w=0;w<A;w++)I[w]=arguments[w];return a(!I.length||["alternatives","link","object"].includes(S),"The",S,"type does not allow arguments"),v.generate(this,v.types[S],I)};for(const S of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])E[S]=function(){return this.any()[S](...arguments)};Object.assign(E,v.methods);for(const S in v.aliases){const A=v.aliases[S];E[S]=E[A]}return E.x=E.expression,u.setup&&u.setup(E),E}};v.methods={ValidationError:h.ValidationError,version:y.version,cache:g.provider,assert(E,S){for(var A=arguments.length,I=new Array(A>2?A-2:0),w=2;w<A;w++)I[w-2]=arguments[w];v.assert(E,S,!0,I)},attempt(E,S){for(var A=arguments.length,I=new Array(A>2?A-2:0),w=2;w<A;w++)I[w-2]=arguments[w];return v.assert(E,S,!1,I)},build(E){return a(typeof p.build=="function","Manifest functionality disabled"),p.build(this,E)},checkPreferences(E){y.checkPreferences(E)},compile(E,S){return l.compile(this,E,S)},defaults(E){a(typeof E=="function","modifier must be a function");const S=Object.assign({},this);for(const A of S._types){const I=E(S[A]());a(y.isSchema(I),"modifier must return a valid schema object"),S[A]=function(){for(var w=arguments.length,T=new Array(w),b=0;b<w;b++)T[b]=arguments[b];return v.generate(this,I,T)}}return S},expression(){for(var E=arguments.length,S=new Array(E),A=0;A<E;A++)S[A]=arguments[A];return new _(...S)},extend(){for(var E=arguments.length,S=new Array(E),A=0;A<E;A++)S[A]=arguments[A];y.verifyFlat(S,"extend"),d=d||o(3378),a(S.length,"You need to provide at least one extension"),this.assert(S,d.extensions);const I=Object.assign({},this);I._types=new Set(I._types);for(let w of S){typeof w=="function"&&(w=w(I)),this.assert(w,d.extension);const T=v.expandExtension(w,I);for(const b of T){a(I[b.type]===void 0||I._types.has(b.type),"Cannot override name",b.type);const k=b.base||this.any(),R=m.type(k,b);I._types.add(b.type),I[b.type]=function(){for(var x=arguments.length,L=new Array(x),j=0;j<x;j++)L[j]=arguments[j];return v.generate(this,R,L)}}}return I},isError:h.ValidationError.isError,isExpression:_.isTemplate,isRef:f.isRef,isSchema:y.isSchema,in(){return f.in(...arguments)},override:y.symbols.override,ref(){return f.create(...arguments)},types(){const E={};for(const S of this._types)E[S]=this[S]();for(const S in v.aliases)E[S]=this[S]();return E}},v.assert=function(E,S,A,I){const w=I[0]instanceof Error||typeof I[0]=="string"?I[0]:null,T=w!==null?I[1]:I[0],b=S.validate(E,y.preferences({errors:{stack:!0}},T||{}));let k=b.error;if(!k)return b.value;if(w instanceof Error)throw w;const R=A&&typeof k.annotate=="function"?k.annotate():k.message;throw k instanceof h.ValidationError==0&&(k=c(k)),k.message=w?`${w} ${R}`:R,k},v.generate=function(E,S,A){return a(E,"Must be invoked on a Joi instance."),S.$_root=E,S._definition.args&&A.length?S._definition.args(S,...A):S},v.expandExtension=function(E,S){if(typeof E.type=="string")return[E];const A=[];for(const I of S._types)if(E.type.test(I)){const w=Object.assign({},E);w.type=I,w.base=S[I](),A.push(w)}return A},s.exports=v.root()},6914:(s,i,o)=>{const a=o(375),c=o(8571),g=o(3328);i.compile=function(y,l){if(typeof y=="string")return a(!l,"Cannot set single message string"),new g(y);if(g.isTemplate(y))return a(!l,"Cannot set single message template"),y;a(typeof y=="object"&&!Array.isArray(y),"Invalid message options"),l=l?c(l):{};for(let h in y){const m=y[h];if(h==="root"||g.isTemplate(m)){l[h]=m;continue}if(typeof m=="string"){l[h]=new g(m);continue}a(typeof m=="object"&&!Array.isArray(m),"Invalid message for",h);const p=h;for(h in l[p]=l[p]||{},m){const f=m[h];h==="root"||g.isTemplate(f)?l[p][h]=f:(a(typeof f=="string","Invalid message for",h,"in",p),l[p][h]=new g(f))}}return l},i.decompile=function(y){const l={};for(let h in y){const m=y[h];if(h==="root"){l.root=m;continue}if(g.isTemplate(m)){l[h]=m.describe({compact:!0});continue}const p=h;for(h in l[p]={},m){const f=m[h];h!=="root"?l[p][h]=f.describe({compact:!0}):l[p].root=f}}return l},i.merge=function(y,l){if(!y)return i.compile(l);if(!l)return y;if(typeof l=="string")return new g(l);if(g.isTemplate(l))return l;const h=c(y);for(let m in l){const p=l[m];if(m==="root"||g.isTemplate(p)){h[m]=p;continue}if(typeof p=="string"){h[m]=new g(p);continue}a(typeof p=="object"&&!Array.isArray(p),"Invalid message for",m);const f=m;for(m in h[f]=h[f]||{},p){const _=p[m];m==="root"||g.isTemplate(_)?h[f][m]=_:(a(typeof _=="string","Invalid message for",m,"in",f),h[f][m]=new g(_))}}return h}},2294:(s,i,o)=>{const a=o(375),c=o(8160),g=o(6133),y={};i.Ids=y.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const l=new y.Ids;return l._byId=new Map(this._byId),l._byKey=new Map(this._byKey),l._schemaChain=this._schemaChain,l}concat(l){l._schemaChain&&(this._schemaChain=!0);for(const[h,m]of l._byId.entries())a(!this._byKey.has(h),"Schema id conflicts with existing key:",h),this._byId.set(h,m);for(const[h,m]of l._byKey.entries())a(!this._byId.has(h),"Schema key conflicts with existing id:",h),this._byKey.set(h,m)}fork(l,h,m){const p=this._collect(l);p.push({schema:m});const f=p.shift();let _={id:f.id,schema:h(f.schema)};a(c.isSchema(_.schema),"adjuster function failed to return a joi schema type");for(const u of p)_={id:u.id,schema:y.fork(u.schema,_.id,_.schema)};return _.schema}labels(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const m=l[0],p=this._get(m);if(!p)return[...h,...l].join(".");const f=l.slice(1);return h=[...h,p.schema._flags.label||m],f.length?p.schema._ids.labels(f,h):h.join(".")}reach(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const m=l[0],p=this._get(m);a(p,"Schema does not contain path",[...h,...l].join("."));const f=l.slice(1);return f.length?p.schema._ids.reach(f,[...h,m]):p.schema}register(l){let{key:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!l||!c.isSchema(l))return;(l.$_property("schemaChain")||l._ids._schemaChain)&&(this._schemaChain=!0);const m=l._flags.id;if(m){const p=this._byId.get(m);a(!p||p.schema===l,"Cannot add different schemas with the same id:",m),a(!this._byKey.has(m),"Schema id conflicts with existing key:",m),this._byId.set(m,{schema:l,id:m})}h&&(a(!this._byKey.has(h),"Schema already contains key:",h),a(!this._byId.has(h),"Schema key conflicts with existing id:",h),this._byKey.set(h,{schema:l,id:h}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const p=l[0],f=this._get(p);a(f,"Schema does not contain path",[...h,...l].join(".")),m=[f,...m];const _=l.slice(1);return _.length?f.schema._ids._collect(_,[...h,p],m):m}_get(l){return this._byId.get(l)||this._byKey.get(l)}},y.fork=function(l,h,m){const p=i.schema(l,{each:(f,_)=>{let{key:u}=_;if(h===(f._flags.id||u))return m},ref:!1});return p?p.$_mutateRebuild():l},i.schema=function(l,h){let m;for(const p in l._flags){if(p[0]==="_")continue;const f=y.scan(l._flags[p],{source:"flags",name:p},h);f!==void 0&&(m=m||l.clone(),m._flags[p]=f)}for(let p=0;p<l._rules.length;++p){const f=l._rules[p],_=y.scan(f.args,{source:"rules",name:f.name},h);if(_!==void 0){m=m||l.clone();const u=Object.assign({},f);u.args=_,m._rules[p]=u,m._singleRules.get(f.name)===f&&m._singleRules.set(f.name,u)}}for(const p in l.$_terms){if(p[0]==="_")continue;const f=y.scan(l.$_terms[p],{source:"terms",name:p},h);f!==void 0&&(m=m||l.clone(),m.$_terms[p]=f)}return m},y.scan=function(l,h,m,p,f){const _=p||[];if(l===null||typeof l!="object")return;let u;if(Array.isArray(l)){for(let d=0;d<l.length;++d){const v=h.source==="terms"&&h.name==="keys"&&l[d].key,E=y.scan(l[d],h,m,[d,..._],v);E!==void 0&&(u=u||l.slice(),u[d]=E)}return u}if(m.schema!==!1&&c.isSchema(l)||m.ref!==!1&&g.isRef(l)){const d=m.each(l,{...h,path:_,key:f});return d===l?void 0:d}for(const d in l){if(d[0]==="_")continue;const v=y.scan(l[d],h,m,[d,..._],f);v!==void 0&&(u=u||Object.assign({},l),u[d]=v)}return u}},6133:(s,i,o)=>{const a=o(375),c=o(8571),g=o(9621),y=o(8160);let l;const h={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};i.create=function(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(typeof m=="string","Invalid reference key:",m),y.assertOptions(p,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),a(!p.prefix||typeof p.prefix=="object","options.prefix must be of type object");const f=Object.assign({},h.defaults,p);delete f.prefix;const _=f.separator,u=h.context(m,_,p.prefix);if(f.type=u.type,m=u.key,f.type==="value")if(u.root&&(a(!_||m[0]!==_,"Cannot specify relative path with root prefix"),f.ancestor="root",m||(m=null)),_&&_===m)m=null,f.ancestor=0;else if(f.ancestor!==void 0)a(!_||!m||m[0]!==_,"Cannot combine prefix with ancestor option");else{const[d,v]=h.ancestor(m,_);v&&(m=m.slice(v))===""&&(m=null),f.ancestor=d}return f.path=_?m===null?[]:m.split(_):[m],new h.Ref(f)},i.in=function(m){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i.create(m,{...p,in:!0})},i.isRef=function(m){return!!m&&!!m[y.symbols.ref]},h.Ref=class{constructor(m){a(typeof m=="object","Invalid reference construction"),y.assertOptions(m,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),a([!1,void 0].includes(m.separator)||typeof m.separator=="string"&&m.separator.length===1,"Invalid separator"),a(!m.adjust||typeof m.adjust=="function","options.adjust must be a function"),a(!m.map||Array.isArray(m.map),"options.map must be an array"),a(!m.map||!m.adjust,"Cannot set both map and adjust options"),Object.assign(this,h.defaults,m),a(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(m,p,f,_){let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};return a(!this.in||u.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(f.context,p,u):this.type==="local"?this._resolve(_,p,u):this.ancestor?this.ancestor==="root"?this._resolve(p.ancestors[p.ancestors.length-1],p,u):(a(this.ancestor<=p.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(p.ancestors[this.ancestor-1],p,u)):this._resolve(m,p,u)}_resolve(m,p,f){let _;if(this.type==="value"&&p.mainstay.shadow&&f.shadow!==!1&&(_=p.mainstay.shadow.get(this.absolute(p))),_===void 0&&(_=g(m,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(_=this.adjust(_)),this.map){const u=this.map.get(_);u!==void 0&&(_=u)}return p.mainstay&&p.mainstay.tracer.resolve(p,this,_),_}toString(){return this.display}absolute(m){return[...m.path.slice(0,-this.ancestor),...this.path]}clone(){return new h.Ref(this)}describe(){const m={path:this.path};this.type!=="value"&&(m.type=this.type),this.separator!=="."&&(m.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(m.ancestor=this.ancestor),this.map&&(m.map=[...this.map]);for(const p of["adjust","iterables","render"])this[p]!==null&&this[p]!==void 0&&(m[p]=this[p]);return this.in!==!1&&(m.in=!0),{ref:m}}updateDisplay(){const m=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${m}`);if(!this.separator)return void(this.display=`ref:${m}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${m}`);if(this.ancestor==="root")return void(this.display=`ref:root:${m}`);if(this.ancestor===1)return void(this.display=`ref:${m||".."}`);const p=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${p}${m||""}`}},h.Ref.prototype[y.symbols.ref]=!0,i.build=function(m){return(m=Object.assign({},h.defaults,m)).type==="value"&&m.ancestor===void 0&&(m.ancestor=1),new h.Ref(m)},h.context=function(m,p){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(m=m.trim(),f){const _=f.global===void 0?"$":f.global;if(_!==p&&m.startsWith(_))return{key:m.slice(_.length),type:"global"};const u=f.local===void 0?"#":f.local;if(u!==p&&m.startsWith(u))return{key:m.slice(u.length),type:"local"};const d=f.root===void 0?"/":f.root;if(d!==p&&m.startsWith(d))return{key:m.slice(d.length),type:"value",root:!0}}return{key:m,type:"value"}},h.ancestor=function(m,p){if(!p)return[1,0];if(m[0]!==p)return[1,0];if(m[1]!==p)return[0,1];let f=2;for(;m[f]===p;)++f;return[f-1,f]},i.toSibling=0,i.toParent=1,i.Manager=class{constructor(){this.refs=[]}register(m,p){if(m)if(p=p===void 0?i.toParent:p,Array.isArray(m))for(const f of m)this.register(f,p);else if(y.isSchema(m))for(const f of m._refs.refs)f.ancestor-p>=0&&this.refs.push({ancestor:f.ancestor-p,root:f.root});else i.isRef(m)&&m.type==="value"&&m.ancestor-p>=0&&this.refs.push({ancestor:m.ancestor-p,root:m.root}),l=l||o(3328),l.isTemplate(m)&&this.register(m.refs(),p)}get length(){return this.refs.length}clone(){const m=new i.Manager;return m.refs=c(this.refs),m}reset(){this.refs=[]}roots(){return this.refs.filter(m=>!m.ancestor).map(m=>m.root)}}},3378:(s,i,o)=>{const a=o(5107),c={};c.wrap=a.string().min(1).max(2).allow(!1),i.preferences=a.object({allowUnknown:a.boolean(),abortEarly:a.boolean(),artifacts:a.boolean(),cache:a.boolean(),context:a.object(),convert:a.boolean(),dateFormat:a.valid("date","iso","string","time","utc"),debug:a.boolean(),errors:{escapeHtml:a.boolean(),label:a.valid("path","key",!1),language:[a.string(),a.object().ref()],render:a.boolean(),stack:a.boolean(),wrap:{label:c.wrap,array:c.wrap,string:c.wrap}},externals:a.boolean(),messages:a.object(),noDefaults:a.boolean(),nonEnumerables:a.boolean(),presence:a.valid("required","optional","forbidden"),skipFunctions:a.boolean(),stripUnknown:a.object({arrays:a.boolean(),objects:a.boolean()}).or("arrays","objects").allow(!0,!1),warnings:a.boolean()}).strict(),c.nameRx=/^[a-zA-Z0-9]\w*$/,c.rule=a.object({alias:a.array().items(a.string().pattern(c.nameRx)).single(),args:a.array().items(a.string(),a.object({name:a.string().pattern(c.nameRx).required(),ref:a.boolean(),assert:a.alternatives([a.function(),a.object().schema()]).conditional("ref",{is:!0,then:a.required()}),normalize:a.function(),message:a.string().when("assert",{is:a.function(),then:a.required()})})),convert:a.boolean(),manifest:a.boolean(),method:a.function().allow(!1),multi:a.boolean(),validate:a.function()}),i.extension=a.object({type:a.alternatives([a.string(),a.object().regex()]).required(),args:a.function(),cast:a.object().pattern(c.nameRx,a.object({from:a.function().maxArity(1).required(),to:a.function().minArity(1).maxArity(2).required()})),base:a.object().schema().when("type",{is:a.object().regex(),then:a.forbidden()}),coerce:[a.function().maxArity(3),a.object({method:a.function().maxArity(3).required(),from:a.array().items(a.string()).single()})],flags:a.object().pattern(c.nameRx,a.object({setter:a.string(),default:a.any()})),manifest:{build:a.function().arity(2)},messages:[a.object(),a.string()],modifiers:a.object().pattern(c.nameRx,a.function().minArity(1).maxArity(2)),overrides:a.object().pattern(c.nameRx,a.function()),prepare:a.function().maxArity(3),rebuild:a.function().arity(1),rules:a.object().pattern(c.nameRx,c.rule),terms:a.object().pattern(c.nameRx,a.object({init:a.array().allow(null).required(),manifest:a.object().pattern(/.+/,[a.valid("schema","single"),a.object({mapped:a.object({from:a.string().required(),to:a.string().required()}).required()})])})),validate:a.function().maxArity(3)}).strict(),i.extensions=a.array().items(a.object(),a.function().arity(1)).strict(),c.desc={buffer:a.object({buffer:a.string()}),func:a.object({function:a.function().required(),options:{literal:!0}}),override:a.object({override:!0}),ref:a.object({ref:a.object({type:a.valid("value","global","local"),path:a.array().required(),separator:a.string().length(1).allow(!1),ancestor:a.number().min(0).integer().allow("root"),map:a.array().items(a.array().length(2)).min(1),adjust:a.function(),iterables:a.boolean(),in:a.boolean(),render:a.boolean()}).required()}),regex:a.object({regex:a.string().min(3)}),special:a.object({special:a.valid("deep").required()}),template:a.object({template:a.string().required(),options:a.object()}),value:a.object({value:a.alternatives([a.object(),a.array()]).required()})},c.desc.entity=a.alternatives([a.array().items(a.link("...")),a.boolean(),a.function(),a.number(),a.string(),c.desc.buffer,c.desc.func,c.desc.ref,c.desc.regex,c.desc.special,c.desc.template,c.desc.value,a.link("/")]),c.desc.values=a.array().items(null,a.boolean(),a.function(),a.number().allow(1/0,-1/0),a.string().allow(""),a.symbol(),c.desc.buffer,c.desc.func,c.desc.override,c.desc.ref,c.desc.regex,c.desc.template,c.desc.value),c.desc.messages=a.object().pattern(/.+/,[a.string(),c.desc.template,a.object().pattern(/.+/,[a.string(),c.desc.template])]),i.description=a.object({type:a.string().required(),flags:a.object({cast:a.string(),default:a.any(),description:a.string(),empty:a.link("/"),failover:c.desc.entity,id:a.string(),label:a.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:a.boolean(),unit:a.string()}).unknown(),preferences:{allowUnknown:a.boolean(),abortEarly:a.boolean(),artifacts:a.boolean(),cache:a.boolean(),convert:a.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:a.boolean(),label:["path","key"],language:[a.string(),c.desc.ref],wrap:{label:c.wrap,array:c.wrap}},externals:a.boolean(),messages:c.desc.messages,noDefaults:a.boolean(),nonEnumerables:a.boolean(),presence:["required","optional","forbidden"],skipFunctions:a.boolean(),stripUnknown:a.object({arrays:a.boolean(),objects:a.boolean()}).or("arrays","objects").allow(!0,!1),warnings:a.boolean()},allow:c.desc.values,invalid:c.desc.values,rules:a.array().min(1).items({name:a.string().required(),args:a.object().min(1),keep:a.boolean(),message:[a.string(),c.desc.messages],warn:a.boolean()}),keys:a.object().pattern(/.*/,a.link("/")),link:c.desc.ref}).pattern(/^[a-z]\w*$/,a.any())},493:(s,i,o)=>{const a=o(8571),c=o(9621),g=o(8160),y={value:Symbol("value")};s.exports=y.State=class{constructor(l,h,m){this.path=l,this.ancestors=h,this.mainstay=m.mainstay,this.schemas=m.schemas,this.debug=null}localize(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;const p=new y.State(l,h,this);return m&&p.schemas&&(p.schemas=[y.schemas(m),...p.schemas]),p}nest(l,h){const m=new y.State(this.path,this.ancestors,this);return m.schemas=m.schemas&&[y.schemas(l),...m.schemas],m.debug=h,m}shadow(l,h){this.mainstay.shadow=this.mainstay.shadow||new y.Shadow,this.mainstay.shadow.set(this.path,l,h)}snapshot(){this.mainstay.shadow&&(this._snapshot=a(this.mainstay.shadow.node(this.path)))}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0)}},y.schemas=function(l){return g.isSchema(l)?{schema:l}:l},y.Shadow=class{constructor(){this._values=null}set(l,h,m){if(!l.length||m==="strip"&&typeof l[l.length-1]=="number")return;this._values=this._values||new Map;let p=this._values;for(let f=0;f<l.length;++f){const _=l[f];let u=p.get(_);u||(u=new Map,p.set(_,u)),p=u}p[y.value]=h}get(l){const h=this.node(l);if(h)return h[y.value]}node(l){if(this._values)return c(this._values,l,{iterables:!0})}override(l,h){if(!this._values)return;const m=l.slice(0,-1),p=l[l.length-1],f=c(this._values,m,{iterables:!0});h?f.set(p,h):f&&f.delete(p)}}},3328:(s,i,o)=>{const a=o(375),c=o(8571),g=o(5277),y=o(1447),l=o(8160),h=o(6354),m=o(6133),p={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};s.exports=p.Template=class{constructor(f,_){a(typeof f=="string","Template source must be a string"),a(!f.includes("\0")&&!f.includes(""),"Template source cannot contain reserved control characters"),this.source=f,this.rendered=f,this._template=null,this._settings=c(_),this._parse()}_parse(){if(!this.source.includes("{"))return;const f=p.encode(this.source),_=p.split(f);let u=!1;const d=[],v=_.shift();v&&d.push(v);for(const E of _){const S=E[0]!=="{",A=S?"}":"}}",I=E.indexOf(A);if(I===-1||E[1]==="{"){d.push(`{${p.decode(E)}`);continue}let w=E.slice(S?0:1,I);const T=w[0]===":";T&&(w=w.slice(1));const b=this._ref(p.decode(w),{raw:S,wrapped:T});d.push(b),typeof b!="string"&&(u=!0);const k=E.slice(I+A.length);k&&d.push(p.decode(k))}u?this._template=d:this.rendered=d.join("")}static date(f,_){return p.dateFormat[_.dateFormat].call(f)}describe(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._settings&&f.compact)return this.source;const _={template:this.source};return this._settings&&(_.options=this._settings),_}static build(f){return new p.Template(f.template,f.options)}isDynamic(){return!!this._template}static isTemplate(f){return!!f&&!!f[l.symbols.template]}refs(){if(!this._template)return;const f=[];for(const _ of this._template)typeof _!="string"&&f.push(..._.refs);return f}resolve(f,_,u,d){return this._template&&this._template.length===1?this._part(this._template[0],f,_,u,d,{}):this.render(f,_,u,d)}_part(f){for(var _=arguments.length,u=new Array(_>1?_-1:0),d=1;d<_;d++)u[d-1]=arguments[d];return f.ref?f.ref.resolve(...u):f.formula.evaluate(u)}render(f,_,u,d){let v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!this.isDynamic())return this.rendered;const E=[];for(const S of this._template)if(typeof S=="string")E.push(S);else{const A=this._part(S,f,_,u,d,v),I=p.stringify(A,f,_,u,d,v);if(I!==void 0){const w=S.raw||(v.errors&&v.errors.escapeHtml)===!1?I:g(I);E.push(p.wrap(w,S.wrapped&&u.errors.wrap.label))}}return E.join("")}_ref(f,_){let{raw:u,wrapped:d}=_;const v=[],E=A=>{const I=m.create(A,this._settings);return v.push(I),w=>I.resolve(...w)};try{var S=new y.Parser(f,{reference:E,functions:p.functions,constants:p.constants})}catch(A){throw A.message=`Invalid template variable "${f}" fails due to: ${A.message}`,A}if(S.single){if(S.single.type==="reference"){const A=v[0];return{ref:A,raw:u,refs:v,wrapped:d||A.type==="local"&&A.key==="label"}}return p.stringify(S.single.value)}return{formula:S,raw:u,refs:v}}toString(){return this.source}},p.Template.prototype[l.symbols.template]=!0,p.Template.prototype.isImmutable=!0,p.encode=function(f){return f.replace(/\\(\{+)/g,(_,u)=>p.opens.slice(0,u.length)).replace(/\\(\}+)/g,(_,u)=>p.closes.slice(0,u.length))},p.decode=function(f){return f.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},p.split=function(f){const _=[];let u="";for(let d=0;d<f.length;++d){const v=f[d];if(v==="{"){let E="";for(;d+1<f.length&&f[d+1]==="{";)E+="{",++d;_.push(u),u=E}else u+=v}return _.push(u),_},p.wrap=function(f,_){return _?_.length===1?`${_}${f}${_}`:`${_[0]}${f}${_[1]}`:f},p.stringify=function(f,_,u,d,v){let E=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};const S=typeof f,A=d&&d.errors&&d.errors.wrap||{};let I=!1;if(m.isRef(f)&&f.render&&(I=f.in,f=f.resolve(_,u,d,v,{in:f.in,...E})),f===null)return"null";if(S==="string")return p.wrap(f,E.arrayItems&&A.string);if(S==="number"||S==="function"||S==="symbol")return f.toString();if(S!=="object")return JSON.stringify(f);if(f instanceof Date)return p.Template.date(f,d);if(f instanceof Map){const T=[];for(const[b,k]of f.entries())T.push(`${b.toString()} -> ${k.toString()}`);f=T}if(!Array.isArray(f))return f.toString();const w=[];for(const T of f)w.push(p.stringify(T,_,u,d,v,{arrayItems:!0,...E}));return p.wrap(w.join(", "),!I&&A.array)},p.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},p.functions={if:(f,_,u)=>f?_:u,length:f=>typeof f=="string"?f.length:f&&typeof f=="object"?Array.isArray(f)?f.length:Object.keys(f).length:null,msg(f){const[_,u,d,v,E]=this,S=E.messages;if(!S)return"";const A=h.template(_,S[0],f,u,d)||h.template(_,S[1],f,u,d);return A?A.render(_,u,d,v,E):""},number:f=>typeof f=="number"?f:typeof f=="string"?parseFloat(f):typeof f=="boolean"?f?1:0:f instanceof Date?f.getTime():null}},4946:(s,i,o)=>{const a=o(375),c=o(1687),g=o(8068),y=o(8160),l=o(3292),h=o(6354),m=o(6133),p={};s.exports=g.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:m.toSibling}},args(f){for(var _=arguments.length,u=new Array(_>1?_-1:0),d=1;d<_;d++)u[d-1]=arguments[d];return u.length===1&&Array.isArray(u[0])?f.try(...u[0]):f.try(...u)},validate(f,_){const{schema:u,error:d,state:v,prefs:E}=_;if(u._flags.match){const A=[],I=[];for(let T=0;T<u.$_terms.matches.length;++T){const b=u.$_terms.matches[T],k=v.nest(b.schema,`match.${T}`);k.snapshot();const R=b.schema.$_validate(f,k,E);R.errors?(I.push(R.errors),k.restore()):A.push(R.value)}if(A.length===0)return{errors:d("alternatives.any",{details:I.map(T=>h.details(T,{override:!1}))})};if(u._flags.match==="one")return A.length===1?{value:A[0]}:{errors:d("alternatives.one")};if(A.length!==u.$_terms.matches.length)return{errors:d("alternatives.all",{details:I.map(T=>h.details(T,{override:!1}))})};const w=T=>T.$_terms.matches.some(b=>b.schema.type==="object"||b.schema.type==="alternatives"&&w(b.schema));return w(u)?{value:A.reduce((T,b)=>c(T,b,{mergeArrays:!1}))}:{value:A[A.length-1]}}const S=[];for(let A=0;A<u.$_terms.matches.length;++A){const I=u.$_terms.matches[A];if(I.schema){const b=v.nest(I.schema,`match.${A}`);b.snapshot();const k=I.schema.$_validate(f,b,E);if(!k.errors)return k;b.restore(),S.push({schema:I.schema,reports:k.errors});continue}const w=I.ref?I.ref.resolve(f,v,E):f,T=I.is?[I]:I.switch;for(let b=0;b<T.length;++b){const k=T[b],{is:R,then:x,otherwise:L}=k,j=`match.${A}${I.switch?"."+b:""}`;if(R.$_match(w,v.nest(R,`${j}.is`),E)){if(x)return x.$_validate(f,v.nest(x,`${j}.then`),E)}else if(L)return L.$_validate(f,v.nest(L,`${j}.otherwise`),E)}}return p.errors(S,_)},rules:{conditional:{method(f,_){a(!this._flags._endedSwitch,"Unreachable condition"),a(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),a(_.break===void 0,"Cannot use break option with alternatives conditional");const u=this.clone(),d=l.when(u,f,_),v=d.is?[d]:d.switch;for(const E of v)if(E.then&&E.otherwise){u.$_setFlag("_endedSwitch",!0,{clone:!1});break}return u.$_terms.matches.push(d),u.$_mutateRebuild()}},match:{method(f){if(a(["any","one","all"].includes(f),"Invalid alternatives match mode",f),f!=="any")for(const _ of this.$_terms.matches)a(_.schema,"Cannot combine match mode",f,"with conditional rules");return this.$_setFlag("match",f)}},try:{method(){for(var f=arguments.length,_=new Array(f),u=0;u<f;u++)_[u]=arguments[u];a(_.length,"Missing alternative schemas"),y.verifyFlat(_,"try"),a(!this._flags._endedSwitch,"Unreachable condition");const d=this.clone();for(const v of _)d.$_terms.matches.push({schema:d.$_compile(v)});return d.$_mutateRebuild()}}},overrides:{label(f){return this.$_parent("label",f).$_modify({each:(_,u)=>u.path[0]!=="is"?_.label(f):void 0,ref:!1})}},rebuild(f){f.$_modify({each:_=>{y.isSchema(_)&&_.type==="array"&&f.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(f,_){if(_.matches)for(const u of _.matches){const{schema:d,ref:v,is:E,not:S,then:A,otherwise:I}=u;f=d?f.try(d):v?f.conditional(v,{is:E,then:A,not:S,otherwise:I,switch:u.switch}):f.conditional(E,{then:A,otherwise:I})}return f}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),p.errors=function(f,_){let{error:u,state:d}=_;if(!f.length)return{errors:u("alternatives.any")};if(f.length===1)return{errors:f[0].reports};const v=new Set,E=[];for(const{reports:S,schema:A}of f){if(S.length>1)return p.unmatched(f,u);const I=S[0];if(I instanceof h.Report==0)return p.unmatched(f,u);if(I.state.path.length!==d.path.length){E.push({type:A.type,report:I});continue}if(I.code==="any.only"){for(const b of I.local.valids)v.add(b);continue}const[w,T]=I.code.split(".");T==="base"?v.add(w):E.push({type:A.type,report:I})}return E.length?E.length===1?{errors:E[0].report}:p.unmatched(f,u):{errors:u("alternatives.types",{types:[...v]})}},p.unmatched=function(f,_){const u=[];for(const d of f)u.push(...d.reports);return{errors:_("alternatives.match",h.details(u,{override:!1}))}}},8068:(s,i,o)=>{const a=o(375),c=o(7629),g=o(8160),y=o(6914);s.exports=c.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(l,h){return a(typeof l=="function","Method must be a function"),a(h===void 0||h&&typeof h=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:l,description:h}})},validate(l,h,m){let{method:p}=m;try{return p(l,h)}catch(f){return h.error("any.custom",{error:f})}},args:["method","description"],multi:!0},messages:{method(l){return this.prefs({messages:l})}},shared:{method(l){a(g.isSchema(l)&&l._flags.id,"Schema must be a schema with an id");const h=this.clone();return h.$_terms.shared=h.$_terms.shared||[],h.$_terms.shared.push(l),h.$_mutateRegister(l),h}},warning:{method(l,h){return a(l&&typeof l=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:l,local:h},warn:!0})},validate(l,h,m){let{code:p,local:f}=m;return h.error(p,f)},args:["code","local"],multi:!0}},modifiers:{keep(l){let h=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];l.keep=h},message(l,h){l.message=y.compile(h)},warn(l){let h=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];l.warn=h}},manifest:{build(l,h){for(const m in h){const p=h[m];if(["examples","externals","metas","notes","tags"].includes(m))for(const f of p)l=l[m.slice(0,-1)](f);else if(m!=="alterations")if(m!=="whens"){if(m==="shared")for(const f of p)l=l.shared(f)}else for(const f of p){const{ref:_,is:u,not:d,then:v,otherwise:E,concat:S}=f;l=S?l.concat(S):_?l.when(_,{is:u,not:d,then:v,otherwise:E,switch:f.switch,break:f.break}):l.when(u,{then:v,otherwise:E,break:f.break})}else{const f={};for(const{target:_,adjuster:u}of p)f[_]=u;l=l.alter(f)}}return l}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(s,i,o)=>{const a=o(375),c=o(9474),g=o(9621),y=o(8068),l=o(8160),h=o(3292),m={};s.exports=y.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(p,f){let{schema:_,state:u,prefs:d}=f;if(!Array.isArray(p))return;const v=_.$_getRule("sort");return v?m.sort(_,p,v.args.options,u,d):void 0}},validate(p,f){let{schema:_,error:u}=f;if(!Array.isArray(p)){if(_._flags.single){const d=[p];return d[l.symbols.arraySingle]=!0,{value:d}}return{errors:u("array.base")}}if(_.$_getRule("items")||_.$_terms.externals)return{value:p.slice()}},rules:{has:{method(p){p=this.$_compile(p,{appendPath:!0});const f=this.$_addRule({name:"has",args:{schema:p}});return f.$_mutateRegister(p),f},validate(p,f,_){let{state:u,prefs:d,error:v}=f,{schema:E}=_;const S=[p,...u.ancestors];for(let I=0;I<p.length;++I){const w=u.localize([...u.path,I],S,E);if(E.$_match(p[I],w,d))return p}const A=E._flags.label;return A?v("array.hasKnown",{patternLabel:A}):v("array.hasUnknown",null)},multi:!0},items:{method(){for(var p=arguments.length,f=new Array(p),_=0;_<p;_++)f[_]=arguments[_];l.verifyFlat(f,"items");const u=this.$_addRule("items");for(let d=0;d<f.length;++d){const v=l.tryWithPath(()=>this.$_compile(f[d]),d,{append:!0});u.$_terms.items.push(v)}return u.$_mutateRebuild()},validate(p,f){let{schema:_,error:u,state:d,prefs:v,errorsArray:E}=f;const S=_.$_terms._requireds.slice(),A=_.$_terms.ordered.slice(),I=[..._.$_terms._inclusions,...S],w=!p[l.symbols.arraySingle];delete p[l.symbols.arraySingle];const T=E();let b=p.length;for(let k=0;k<b;++k){const R=p[k];let x=!1,L=!1;const j=w?k:new Number(k),K=[...d.path,j];if(!_._flags.sparse&&R===void 0){if(T.push(u("array.sparse",{key:j,path:K,pos:k,value:void 0},d.localize(K))),v.abortEarly)return T;A.shift();continue}const fe=[p,...d.ancestors];for(const z of _.$_terms._exclusions)if(z.$_match(R,d.localize(K,fe,z),v,{presence:"ignore"})){if(T.push(u("array.excludes",{pos:k,value:R},d.localize(K))),v.abortEarly)return T;x=!0,A.shift();break}if(x)continue;if(_.$_terms.ordered.length){if(A.length){const z=A.shift(),G=z.$_validate(R,d.localize(K,fe,z),v);if(G.errors){if(T.push(...G.errors),v.abortEarly)return T}else if(z._flags.result==="strip")m.fastSplice(p,k),--k,--b;else{if(!_._flags.sparse&&G.value===void 0){if(T.push(u("array.sparse",{key:j,path:K,pos:k,value:void 0},d.localize(K))),v.abortEarly)return T;continue}p[k]=G.value}continue}if(!_.$_terms.items.length){if(T.push(u("array.orderedLength",{pos:k,limit:_.$_terms.ordered.length})),v.abortEarly)return T;break}}const N=[];let B=S.length;for(let z=0;z<B;++z){const G=d.localize(K,fe,S[z]);G.snapshot();const xe=S[z].$_validate(R,G,v);if(N[z]=xe,!xe.errors){if(p[k]=xe.value,L=!0,m.fastSplice(S,z),--z,--B,!_._flags.sparse&&xe.value===void 0&&(T.push(u("array.sparse",{key:j,path:K,pos:k,value:void 0},d.localize(K))),v.abortEarly))return T;break}G.restore()}if(L)continue;const q=v.stripUnknown&&!!v.stripUnknown.arrays||!1;B=I.length;for(const z of I){let G;const xe=S.indexOf(z);if(xe!==-1)G=N[xe];else{const Se=d.localize(K,fe,z);if(Se.snapshot(),G=z.$_validate(R,Se,v),!G.errors){z._flags.result==="strip"?(m.fastSplice(p,k),--k,--b):_._flags.sparse||G.value!==void 0?p[k]=G.value:(T.push(u("array.sparse",{key:j,path:K,pos:k,value:void 0},d.localize(K))),x=!0),L=!0;break}Se.restore()}if(B===1){if(q){m.fastSplice(p,k),--k,--b,L=!0;break}if(T.push(...G.errors),v.abortEarly)return T;x=!0;break}}if(!x&&(_.$_terms._inclusions.length||_.$_terms._requireds.length)&&!L){if(q){m.fastSplice(p,k),--k,--b;continue}if(T.push(u("array.includes",{pos:k,value:R},d.localize(K))),v.abortEarly)return T}}return S.length&&m.fillMissedErrors(_,T,S,p,d,v),A.length&&(m.fillOrderedErrors(_,T,A,p,d,v),T.length||m.fillDefault(A,p,d,v)),T.length?T:p},priority:!0,manifest:!1},length:{method(p){return this.$_addRule({name:"length",args:{limit:p},operator:"="})},validate(p,f,_,u){let{limit:d}=_,{name:v,operator:E,args:S}=u;return l.compare(p.length,d,E)?p:f.error("array."+v,{limit:S.limit,value:p})},args:[{name:"limit",ref:!0,assert:l.limit,message:"must be a positive integer"}]},max:{method(p){return this.$_addRule({name:"max",method:"length",args:{limit:p},operator:"<="})}},min:{method(p){return this.$_addRule({name:"min",method:"length",args:{limit:p},operator:">="})}},ordered:{method(){for(var p=arguments.length,f=new Array(p),_=0;_<p;_++)f[_]=arguments[_];l.verifyFlat(f,"ordered");const u=this.$_addRule("items");for(let d=0;d<f.length;++d){const v=l.tryWithPath(()=>this.$_compile(f[d]),d,{append:!0});m.validateSingle(v,u),u.$_mutateRegister(v),u.$_terms.ordered.push(v)}return u.$_mutateRebuild()}},single:{method(p){const f=p===void 0||!!p;return a(!f||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",f)}},sort:{method(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l.assertOptions(p,["by","order"]);const f={order:p.order||"ascending"};return p.by&&(f.by=h.ref(p.by,{ancestor:0}),a(!f.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:f}})},validate(p,f,_){let{error:u,state:d,prefs:v,schema:E}=f,{options:S}=_;const{value:A,errors:I}=m.sort(E,p,S,d,v);if(I)return I;for(let w=0;w<p.length;++w)if(p[w]!==A[w])return u("array.sort",{order:S.order,by:S.by?S.by.key:"value"});return p},convert:!0},sparse:{method(p){const f=p===void 0||!!p;return this._flags.sparse===f?this:(f?this.clone():this.$_addRule("items")).$_setFlag("sparse",f,{clone:!1})}},unique:{method(p){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(!p||typeof p=="function"||typeof p=="string","comparator must be a function or a string"),l.assertOptions(f,["ignoreUndefined","separator"]);const _={name:"unique",args:{options:f,comparator:p}};if(p)if(typeof p=="string"){const u=l.default(f.separator,".");_.path=u?p.split(u):[p]}else _.comparator=p;return this.$_addRule(_)},validate(p,f,_,u){let{state:d,error:v,schema:E}=f,{comparator:S,options:A}=_,{comparator:I,path:w}=u;const T={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},b=I||c,k=A.ignoreUndefined;for(let R=0;R<p.length;++R){const x=w?g(p[R],w):p[R],L=I?T.custom:T[typeof x];if(a(L,"Failed to find unique map container for type",typeof x),L instanceof Map){const j=L.entries();let K;for(;!(K=j.next()).done;)if(b(K.value[0],x)){const fe=d.localize([...d.path,R],[p,...d.ancestors]),N={pos:R,value:p[R],dupePos:K.value[1],dupeValue:p[K.value[1]]};return w&&(N.path=S),v("array.unique",N,fe)}L.set(x,R)}else{if((!k||x!==void 0)&&L[x]!==void 0){const j={pos:R,value:p[R],dupePos:L[x],dupeValue:p[L[x]]};return w&&(j.path=S),v("array.unique",j,d.localize([...d.path,R],[p,...d.ancestors]))}L[x]=R}}return p},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(p,f)=>new Set(p)}},rebuild(p){p.$_terms._inclusions=[],p.$_terms._exclusions=[],p.$_terms._requireds=[];for(const f of p.$_terms.items)m.validateSingle(f,p),f._flags.presence==="required"?p.$_terms._requireds.push(f):f._flags.presence==="forbidden"?p.$_terms._exclusions.push(f):p.$_terms._inclusions.push(f);for(const f of p.$_terms.ordered)m.validateSingle(f,p)},manifest:{build:(p,f)=>(f.items&&(p=p.items(...f.items)),f.ordered&&(p=p.ordered(...f.ordered)),p)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),m.fillMissedErrors=function(p,f,_,u,d,v){const E=[];let S=0;for(const A of _){const I=A._flags.label;I?E.push(I):++S}E.length?S?f.push(p.$_createError("array.includesRequiredBoth",u,{knownMisses:E,unknownMisses:S},d,v)):f.push(p.$_createError("array.includesRequiredKnowns",u,{knownMisses:E},d,v)):f.push(p.$_createError("array.includesRequiredUnknowns",u,{unknownMisses:S},d,v))},m.fillOrderedErrors=function(p,f,_,u,d,v){const E=[];for(const S of _)S._flags.presence==="required"&&E.push(S);E.length&&m.fillMissedErrors(p,f,E,u,d,v)},m.fillDefault=function(p,f,_,u){const d=[];let v=!0;for(let E=p.length-1;E>=0;--E){const S=p[E],A=[f,..._.ancestors],I=S.$_validate(void 0,_.localize(_.path,A,S),u).value;if(v){if(I===void 0)continue;v=!1}d.unshift(I)}d.length&&f.push(...d)},m.fastSplice=function(p,f){let _=f;for(;_<p.length;)p[_++]=p[_];--p.length},m.validateSingle=function(p,f){(p.type==="array"||p._flags._arrayItems)&&(a(!f._flags.single,"Cannot specify array item with single rule enabled"),f.$_setFlag("_arrayItems",!0,{clone:!1}))},m.sort=function(p,f,_,u,d){const v=_.order==="ascending"?1:-1,E=-1*v,S=v,A=(I,w)=>{let T=m.compare(I,w,E,S);if(T!==null||(_.by&&(I=_.by.resolve(I,u,d),w=_.by.resolve(w,u,d)),T=m.compare(I,w,E,S),T!==null))return T;const b=typeof I;if(b!==typeof w)throw p.$_createError("array.sort.mismatching",f,null,u,d);if(b!=="number"&&b!=="string")throw p.$_createError("array.sort.unsupported",f,{type:b},u,d);return b==="number"?(I-w)*v:I<w?E:S};try{return{value:f.slice().sort(A)}}catch(I){return{errors:I}}},m.compare=function(p,f,_,u){return p===f?0:p===void 0?1:f===void 0?-1:p===null?u:f===null?_:null}},4937:(s,i,o)=>{const a=o(375),c=o(8068),g=o(8160),y=o(2036),l={isBool:function(h){return typeof h=="boolean"}};s.exports=c.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(h,m){let{schema:p}=m;if(typeof h!="boolean"){if(typeof h=="string"){const f=p._flags.sensitive?h:h.toLowerCase();h=f==="true"||f!=="false"&&h}return typeof h!="boolean"&&(h=p.$_terms.truthy&&p.$_terms.truthy.has(h,null,null,!p._flags.sensitive)||(!p.$_terms.falsy||!p.$_terms.falsy.has(h,null,null,!p._flags.sensitive))&&h),{value:h}}},validate(h,m){let{error:p}=m;if(typeof h!="boolean")return{value:h,errors:p("boolean.base")}},rules:{truthy:{method(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];g.verifyFlat(m,"truthy");const f=this.clone();f.$_terms.truthy=f.$_terms.truthy||new y;for(let _=0;_<m.length;++_){const u=m[_];a(u!==void 0,"Cannot call truthy with undefined"),f.$_terms.truthy.add(u)}return f}},falsy:{method(){for(var h=arguments.length,m=new Array(h),p=0;p<h;p++)m[p]=arguments[p];g.verifyFlat(m,"falsy");const f=this.clone();f.$_terms.falsy=f.$_terms.falsy||new y;for(let _=0;_<m.length;++_){const u=m[_];a(u!==void 0,"Cannot call falsy with undefined"),f.$_terms.falsy.add(u)}return f}},sensitive:{method(){let h=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("sensitive",h)}}},cast:{number:{from:l.isBool,to:(h,m)=>h?1:0},string:{from:l.isBool,to:(h,m)=>h?"true":"false"}},manifest:{build:(h,m)=>(m.truthy&&(h=h.truthy(...m.truthy)),m.falsy&&(h=h.falsy(...m.falsy)),h)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(s,i,o)=>{const a=o(375),c=o(8068),g=o(8160),y=o(3328),l={isDate:function(h){return h instanceof Date}};s.exports=c.extend({type:"date",coerce:{from:["number","string"],method(h,m){let{schema:p}=m;return{value:l.parse(h,p._flags.format)||h}}},validate(h,m){let{schema:p,error:f,prefs:_}=m;if(h instanceof Date&&!isNaN(h.getTime()))return;const u=p._flags.format;return _.convert&&u&&typeof h=="string"?{value:h,errors:f("date.format",{format:u})}:{value:h,errors:f("date.base")}},rules:{compare:{method:!1,validate(h,m,p,f){let{date:_}=p,{name:u,operator:d,args:v}=f;const E=_==="now"?Date.now():_.getTime();return g.compare(h.getTime(),E,d)?h:m.error("date."+u,{limit:v.date,value:h})},args:[{name:"date",ref:!0,normalize:h=>h==="now"?h:l.parse(h),assert:h=>h!==null,message:"must have a valid date format"}]},format:{method(h){return a(["iso","javascript","unix"].includes(h),"Unknown date format",h),this.$_setFlag("format",h)}},greater:{method(h){return this.$_addRule({name:"greater",method:"compare",args:{date:h},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(h){return this.$_addRule({name:"less",method:"compare",args:{date:h},operator:"<"})}},max:{method(h){return this.$_addRule({name:"max",method:"compare",args:{date:h},operator:"<="})}},min:{method(h){return this.$_addRule({name:"min",method:"compare",args:{date:h},operator:">="})}},timestamp:{method(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"javascript";return a(["javascript","unix"].includes(h),'"type" must be one of "javascript, unix"'),this.format(h)}}},cast:{number:{from:l.isDate,to:(h,m)=>h.getTime()},string:{from:l.isDate,to(h,m){let{prefs:p}=m;return y.date(h,p)}}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),l.parse=function(h,m){if(h instanceof Date)return h;if(typeof h!="string"&&(isNaN(h)||!isFinite(h))||/^\s*$/.test(h))return null;if(m==="iso")return g.isIsoDate(h)?l.date(h.toString()):null;const p=h;if(typeof h=="string"&&/^[+-]?\d+(\.\d+)?$/.test(h)&&(h=parseFloat(h)),m){if(m==="javascript")return l.date(1*h);if(m==="unix")return l.date(1e3*h);if(typeof p=="string")return null}return l.date(h)},l.date=function(h){const m=new Date(h);return isNaN(m.getTime())?null:m}},390:(s,i,o)=>{const a=o(375),c=o(7824);s.exports=c.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(g){return a(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:g}})},validate(g,y,l){let{n:h}=l;return g.length===h?g:y.error("function.arity",{n:h})}},class:{method(){return this.$_addRule("class")},validate:(g,y)=>/^\s*class\s/.test(g.toString())?g:y.error("function.class",{value:g})},minArity:{method(g){return a(Number.isSafeInteger(g)&&g>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:g}})},validate(g,y,l){let{n:h}=l;return g.length>=h?g:y.error("function.minArity",{n:h})}},maxArity:{method(g){return a(Number.isSafeInteger(g)&&g>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:g}})},validate(g,y,l){let{n:h}=l;return g.length<=h?g:y.error("function.maxArity",{n:h})}}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(s,i,o)=>{const a=o(978),c=o(375),g=o(8571),y=o(3652),l=o(8068),h=o(8160),m=o(3292),p=o(6354),f=o(6133),_=o(3328),u={renameDefaults:{alias:!1,multiple:!1,override:!1}};s.exports=l.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(d,v)=>d.keys(v),validate(d,v){let{schema:E,error:S,state:A,prefs:I}=v;if(!d||typeof d!==E.$_property("typeof")||Array.isArray(d))return{value:d,errors:S("object.base",{type:E.$_property("typeof")})};if(!(E.$_terms.renames||E.$_terms.dependencies||E.$_terms.keys||E.$_terms.patterns||E.$_terms.externals))return;d=u.clone(d,I);const w=[];if(E.$_terms.renames&&!u.rename(E,d,A,I,w))return{value:d,errors:w};if(!E.$_terms.keys&&!E.$_terms.patterns&&!E.$_terms.dependencies)return{value:d,errors:w};const T=new Set(Object.keys(d));if(E.$_terms.keys){const b=[d,...A.ancestors];for(const k of E.$_terms.keys){const R=k.key,x=d[R];T.delete(R);const L=A.localize([...A.path,R],b,k),j=k.schema.$_validate(x,L,I);if(j.errors){if(I.abortEarly)return{value:d,errors:j.errors};j.value!==void 0&&(d[R]=j.value),w.push(...j.errors)}else k.schema._flags.result==="strip"||j.value===void 0&&x!==void 0?delete d[R]:j.value!==void 0&&(d[R]=j.value)}}if(T.size||E._flags._hasPatternMatch){const b=u.unknown(E,d,T,w,A,I);if(b)return b}if(E.$_terms.dependencies)for(const b of E.$_terms.dependencies){if(b.key!==null&&u.isPresent(b.options)(b.key.resolve(d,A,I,null,{shadow:!1}))===!1)continue;const k=u.dependencies[b.rel](E,b,d,A,I);if(k){const R=E.$_createError(k.code,d,k.context,A,I);if(I.abortEarly)return{value:d,errors:R};w.push(R)}}return{value:d,errors:w}},rules:{and:{method(){for(var d=arguments.length,v=new Array(d),E=0;E<d;E++)v[E]=arguments[E];return h.verifyFlat(v,"and"),u.dependency(this,"and",null,v)}},append:{method(d){return d==null||Object.keys(d).length===0?this:this.keys(d)}},assert:{method(d,v,E){_.isTemplate(d)||(d=m.ref(d)),c(E===void 0||typeof E=="string","Message must be a string"),v=this.$_compile(v,{appendPath:!0});const S=this.$_addRule({name:"assert",args:{subject:d,schema:v,message:E}});return S.$_mutateRegister(d),S.$_mutateRegister(v),S},validate(d,v,E){let{error:S,prefs:A,state:I}=v,{subject:w,schema:T,message:b}=E;const k=w.resolve(d,I,A),R=f.isRef(w)?w.absolute(I):[];return T.$_match(k,I.localize(R,[d,...I.ancestors],T),A)?d:S("object.assert",{subject:w,message:b})},args:["subject","schema","message"],multi:!0},instance:{method(d,v){return c(typeof d=="function","constructor must be a function"),v=v||d.name,this.$_addRule({name:"instance",args:{constructor:d,name:v}})},validate(d,v,E){let{constructor:S,name:A}=E;return d instanceof S?d:v.error("object.instance",{type:A,value:d})},args:["constructor","name"]},keys:{method(d){c(d===void 0||typeof d=="object","Object schema must be a valid object"),c(!h.isSchema(d),"Object schema cannot be a joi schema");const v=this.clone();if(d)if(Object.keys(d).length){v.$_terms.keys=v.$_terms.keys?v.$_terms.keys.filter(E=>!d.hasOwnProperty(E.key)):new u.Keys;for(const E in d)h.tryWithPath(()=>v.$_terms.keys.push({key:E,schema:this.$_compile(d[E])}),E)}else v.$_terms.keys=new u.Keys;else v.$_terms.keys=null;return v.$_mutateRebuild()}},length:{method(d){return this.$_addRule({name:"length",args:{limit:d},operator:"="})},validate(d,v,E,S){let{limit:A}=E,{name:I,operator:w,args:T}=S;return h.compare(Object.keys(d).length,A,w)?d:v.error("object."+I,{limit:T.limit,value:d})},args:[{name:"limit",ref:!0,assert:h.limit,message:"must be a positive integer"}]},max:{method(d){return this.$_addRule({name:"max",method:"length",args:{limit:d},operator:"<="})}},min:{method(d){return this.$_addRule({name:"min",method:"length",args:{limit:d},operator:">="})}},nand:{method(){for(var d=arguments.length,v=new Array(d),E=0;E<d;E++)v[E]=arguments[E];return h.verifyFlat(v,"nand"),u.dependency(this,"nand",null,v)}},or:{method(){for(var d=arguments.length,v=new Array(d),E=0;E<d;E++)v[E]=arguments[E];return h.verifyFlat(v,"or"),u.dependency(this,"or",null,v)}},oxor:{method(){for(var d=arguments.length,v=new Array(d),E=0;E<d;E++)v[E]=arguments[E];return u.dependency(this,"oxor",null,v)}},pattern:{method(d,v){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const S=d instanceof RegExp;S||(d=this.$_compile(d,{appendPath:!0})),c(v!==void 0,"Invalid rule"),h.assertOptions(E,["fallthrough","matches"]),S&&c(!d.flags.includes("g")&&!d.flags.includes("y"),"pattern should not use global or sticky mode"),v=this.$_compile(v,{appendPath:!0});const A=this.clone();A.$_terms.patterns=A.$_terms.patterns||[];const I={[S?"regex":"schema"]:d,rule:v};return E.matches&&(I.matches=this.$_compile(E.matches),I.matches.type!=="array"&&(I.matches=I.matches.$_root.array().items(I.matches)),A.$_mutateRegister(I.matches),A.$_setFlag("_hasPatternMatch",!0,{clone:!1})),E.fallthrough&&(I.fallthrough=!0),A.$_terms.patterns.push(I),A.$_mutateRegister(v),A}},ref:{method(){return this.$_addRule("ref")},validate:(d,v)=>f.isRef(d)?d:v.error("object.refType",{value:d})},regex:{method(){return this.$_addRule("regex")},validate:(d,v)=>d instanceof RegExp?d:v.error("object.regex",{value:d})},rename:{method(d,v){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};c(typeof d=="string"||d instanceof RegExp,"Rename missing the from argument"),c(typeof v=="string"||v instanceof _,"Invalid rename to argument"),c(v!==d,"Cannot rename key to same name:",d),h.assertOptions(E,["alias","ignoreUndefined","override","multiple"]);const S=this.clone();S.$_terms.renames=S.$_terms.renames||[];for(const A of S.$_terms.renames)c(A.from!==d,"Cannot rename the same key multiple times");return v instanceof _&&S.$_mutateRegister(v),S.$_terms.renames.push({from:d,to:v,options:a(u.renameDefaults,E)}),S}},schema:{method(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"any";return this.$_addRule({name:"schema",args:{type:d}})},validate(d,v,E){let{type:S}=E;return!h.isSchema(d)||S!=="any"&&d.type!==S?v.error("object.schema",{type:S}):d}},unknown:{method(d){return this.$_setFlag("unknown",d!==!1)}},with:{method(d,v){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return u.dependency(this,"with",d,v,E)}},without:{method(d,v){let E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return u.dependency(this,"without",d,v,E)}},xor:{method(){for(var d=arguments.length,v=new Array(d),E=0;E<d;E++)v[E]=arguments[E];return h.verifyFlat(v,"xor"),u.dependency(this,"xor",null,v)}}},overrides:{default(d,v){return d===void 0&&(d=h.symbols.deepDefault),this.$_parent("default",d,v)}},rebuild(d){if(d.$_terms.keys){const v=new y.Sorter;for(const E of d.$_terms.keys)h.tryWithPath(()=>v.add(E,{after:E.schema.$_rootReferences(),group:E.key}),E.key);d.$_terms.keys=new u.Keys(...v.nodes)}},manifest:{build(d,v){if(v.keys&&(d=d.keys(v.keys)),v.dependencies)for(const{rel:E,key:S=null,peers:A,options:I}of v.dependencies)d=u.dependency(d,E,S,A,I);if(v.patterns)for(const{regex:E,schema:S,rule:A,fallthrough:I,matches:w}of v.patterns)d=d.pattern(E||S,A,{fallthrough:I,matches:w});if(v.renames)for(const{from:E,to:S,options:A}of v.renames)d=d.rename(E,S,A);return d}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),u.clone=function(d,v){if(typeof d=="object"){if(v.nonEnumerables)return g(d,{shallow:!0});const S=Object.create(Object.getPrototypeOf(d));return Object.assign(S,d),S}const E=function(){for(var S=arguments.length,A=new Array(S),I=0;I<S;I++)A[I]=arguments[I];return d.apply(this,A)};return E.prototype=g(d.prototype),Object.defineProperty(E,"name",{value:d.name,writable:!1}),Object.defineProperty(E,"length",{value:d.length,writable:!1}),Object.assign(E,d),E},u.dependency=function(d,v,E,S,A){c(E===null||typeof E=="string",v,"key must be a strings"),A||(A=S.length>1&&typeof S[S.length-1]=="object"?S.pop():{}),h.assertOptions(A,["separator","isPresent"]),S=[].concat(S);const I=h.default(A.separator,"."),w=[];for(const b of S)c(typeof b=="string",v,"peers must be strings"),w.push(m.ref(b,{separator:I,ancestor:0,prefix:!1}));E!==null&&(E=m.ref(E,{separator:I,ancestor:0,prefix:!1}));const T=d.clone();return T.$_terms.dependencies=T.$_terms.dependencies||[],T.$_terms.dependencies.push(new u.Dependency(v,E,w,S,A)),T},u.dependencies={and(d,v,E,S,A){const I=[],w=[],T=v.peers.length,b=u.isPresent(v.options);for(const k of v.peers)b(k.resolve(E,S,A,null,{shadow:!1}))===!1?I.push(k.key):w.push(k.key);if(I.length!==T&&w.length!==T)return{code:"object.and",context:{present:w,presentWithLabels:u.keysToLabels(d,w),missing:I,missingWithLabels:u.keysToLabels(d,I)}}},nand(d,v,E,S,A){const I=[],w=u.isPresent(v.options);for(const k of v.peers)w(k.resolve(E,S,A,null,{shadow:!1}))&&I.push(k.key);if(I.length!==v.peers.length)return;const T=v.paths[0],b=v.paths.slice(1);return{code:"object.nand",context:{main:T,mainWithLabel:u.keysToLabels(d,T),peers:b,peersWithLabels:u.keysToLabels(d,b)}}},or(d,v,E,S,A){const I=u.isPresent(v.options);for(const w of v.peers)if(I(w.resolve(E,S,A,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:v.paths,peersWithLabels:u.keysToLabels(d,v.paths)}}},oxor(d,v,E,S,A){const I=[],w=u.isPresent(v.options);for(const b of v.peers)w(b.resolve(E,S,A,null,{shadow:!1}))&&I.push(b.key);if(!I.length||I.length===1)return;const T={peers:v.paths,peersWithLabels:u.keysToLabels(d,v.paths)};return T.present=I,T.presentWithLabels=u.keysToLabels(d,I),{code:"object.oxor",context:T}},with(d,v,E,S,A){const I=u.isPresent(v.options);for(const w of v.peers)if(I(w.resolve(E,S,A,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:v.key.key,mainWithLabel:u.keysToLabels(d,v.key.key),peer:w.key,peerWithLabel:u.keysToLabels(d,w.key)}}},without(d,v,E,S,A){const I=u.isPresent(v.options);for(const w of v.peers)if(I(w.resolve(E,S,A,null,{shadow:!1})))return{code:"object.without",context:{main:v.key.key,mainWithLabel:u.keysToLabels(d,v.key.key),peer:w.key,peerWithLabel:u.keysToLabels(d,w.key)}}},xor(d,v,E,S,A){const I=[],w=u.isPresent(v.options);for(const b of v.peers)w(b.resolve(E,S,A,null,{shadow:!1}))&&I.push(b.key);if(I.length===1)return;const T={peers:v.paths,peersWithLabels:u.keysToLabels(d,v.paths)};return I.length===0?{code:"object.missing",context:T}:(T.present=I,T.presentWithLabels=u.keysToLabels(d,I),{code:"object.xor",context:T})}},u.keysToLabels=function(d,v){return Array.isArray(v)?v.map(E=>d.$_mapLabels(E)):d.$_mapLabels(v)},u.isPresent=function(d){return typeof d.isPresent=="function"?d.isPresent:v=>v!==void 0},u.rename=function(d,v,E,S,A){const I={};for(const w of d.$_terms.renames){const T=[],b=typeof w.from!="string";if(b)for(const k in v){if(v[k]===void 0&&w.options.ignoreUndefined||k===w.to)continue;const R=w.from.exec(k);R&&T.push({from:k,to:w.to,match:R})}else!Object.prototype.hasOwnProperty.call(v,w.from)||v[w.from]===void 0&&w.options.ignoreUndefined||T.push(w);for(const k of T){const R=k.from;let x=k.to;if(x instanceof _&&(x=x.render(v,E,S,k.match)),R!==x){if(!w.options.multiple&&I[x]&&(A.push(d.$_createError("object.rename.multiple",v,{from:R,to:x,pattern:b},E,S)),S.abortEarly)||Object.prototype.hasOwnProperty.call(v,x)&&!w.options.override&&!I[x]&&(A.push(d.$_createError("object.rename.override",v,{from:R,to:x,pattern:b},E,S)),S.abortEarly))return!1;v[R]===void 0?delete v[x]:v[x]=v[R],I[x]=!0,w.options.alias||delete v[R]}}}return!0},u.unknown=function(d,v,E,S,A,I){if(d.$_terms.patterns){let w=!1;const T=d.$_terms.patterns.map(k=>{if(k.matches)return w=!0,[]}),b=[v,...A.ancestors];for(const k of E){const R=v[k],x=[...A.path,k];for(let L=0;L<d.$_terms.patterns.length;++L){const j=d.$_terms.patterns[L];if(j.regex){const N=j.regex.test(k);if(A.mainstay.tracer.debug(A,"rule",`pattern.${L}`,N?"pass":"error"),!N)continue}else if(!j.schema.$_match(k,A.nest(j.schema,`pattern.${L}`),I))continue;E.delete(k);const K=A.localize(x,b,{schema:j.rule,key:k}),fe=j.rule.$_validate(R,K,I);if(fe.errors){if(I.abortEarly)return{value:v,errors:fe.errors};S.push(...fe.errors)}if(j.matches&&T[L].push(k),v[k]=fe.value,!j.fallthrough)break}}if(w)for(let k=0;k<T.length;++k){const R=T[k];if(!R)continue;const x=d.$_terms.patterns[k].matches,L=A.localize(A.path,b,x),j=x.$_validate(R,L,I);if(j.errors){const K=p.details(j.errors,{override:!1});K.matches=R;const fe=d.$_createError("object.pattern.match",v,K,A,I);if(I.abortEarly)return{value:v,errors:fe};S.push(fe)}}}if(E.size&&(d.$_terms.keys||d.$_terms.patterns)){if(I.stripUnknown&&!d._flags.unknown||I.skipFunctions){const w=!(!I.stripUnknown||I.stripUnknown!==!0&&!I.stripUnknown.objects);for(const T of E)w?(delete v[T],E.delete(T)):typeof v[T]=="function"&&E.delete(T)}if(!h.default(d._flags.unknown,I.allowUnknown))for(const w of E){const T=A.localize([...A.path,w],[]),b=d.$_createError("object.unknown",v[w],{child:w},T,I,{flags:!1});if(I.abortEarly)return{value:v,errors:b};S.push(b)}}},u.Dependency=class{constructor(d,v,E,S,A){this.rel=d,this.key=v,this.peers=E,this.paths=S,this.options=A}describe(){const d={rel:this.rel,peers:this.paths};return this.key!==null&&(d.key=this.key.key),this.peers[0].separator!=="."&&(d.options={...d.options,separator:this.peers[0].separator}),this.options.isPresent&&(d.options={...d.options,isPresent:this.options.isPresent}),d}},u.Keys=class extends Array{concat(d){const v=this.slice(),E=new Map;for(let S=0;S<v.length;++S)E.set(v[S].key,S);for(const S of d){const A=S.key,I=E.get(A);I!==void 0?v[I]={key:A,schema:v[I].schema.concat(S.schema)}:v.push(S)}return v}}},8785:(s,i,o)=>{const a=o(375),c=o(8068),g=o(8160),y=o(3292),l=o(6354),h={};s.exports=c.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(m,p)=>m.ref(p),validate(m,p){let{schema:f,state:_,prefs:u}=p;a(f.$_terms.link,"Uninitialized link schema");const d=h.generate(f,m,_,u),v=f.$_terms.link[0].ref;return d.$_validate(m,_.nest(d,`link:${v.display}:${d.type}`),u)},generate:(m,p,f,_)=>h.generate(m,p,f,_),rules:{ref:{method(m){a(!this.$_terms.link,"Cannot reinitialize schema"),m=y.ref(m),a(m.type==="value"||m.type==="local","Invalid reference type:",m.type),a(m.type==="local"||m.ancestor==="root"||m.ancestor>0,"Link cannot reference itself");const p=this.clone();return p.$_terms.link=[{ref:m}],p}},relative:{method(){let m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.$_setFlag("relative",m)}}},overrides:{concat(m){a(this.$_terms.link,"Uninitialized link schema"),a(g.isSchema(m),"Invalid schema object"),a(m.type!=="link","Cannot merge type link with another link");const p=this.clone();return p.$_terms.whens||(p.$_terms.whens=[]),p.$_terms.whens.push({concat:m}),p.$_mutateRebuild()}},manifest:{build:(m,p)=>(a(p.link,"Invalid link description missing link"),m.ref(p.link))}}),h.generate=function(m,p,f,_){let u=f.mainstay.links.get(m);if(u)return u._generate(p,f,_).schema;const d=m.$_terms.link[0].ref,{perspective:v,path:E}=h.perspective(d,f);h.assert(v,"which is outside of schema boundaries",d,m,f,_);try{u=E.length?v.$_reach(E):v}catch{h.assert(!1,"to non-existing schema",d,m,f,_)}return h.assert(u.type!=="link","which is another link",d,m,f,_),m._flags.relative||f.mainstay.links.set(m,u),u._generate(p,f,_).schema},h.perspective=function(m,p){if(m.type==="local"){for(const{schema:f,key:_}of p.schemas){if((f._flags.id||_)===m.path[0])return{perspective:f,path:m.path.slice(1)};if(f.$_terms.shared){for(const u of f.$_terms.shared)if(u._flags.id===m.path[0])return{perspective:u,path:m.path.slice(1)}}}return{perspective:null,path:null}}return m.ancestor==="root"?{perspective:p.schemas[p.schemas.length-1].schema,path:m.path}:{perspective:p.schemas[m.ancestor]&&p.schemas[m.ancestor].schema,path:m.path}},h.assert=function(m,p,f,_,u,d){m||a(!1,`"${l.label(_._flags,u,d)}" contains link reference "${f.display}" ${p}`)}},3832:(s,i,o)=>{const a=o(375),c=o(8068),g=o(8160),y={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/};s.exports=c.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(l,h){let{schema:m,error:p}=h;if(!l.match(y.numberRx))return;l=l.trim();const f={value:parseFloat(l)};if(f.value===0&&(f.value=0),!m._flags.unsafe)if(l.match(/e/i)){if(y.extractSignificantDigits(l)!==y.extractSignificantDigits(String(f.value)))return f.errors=p("number.unsafe"),f}else{const _=f.value.toString();if(_.match(/e/i))return f;if(_!==y.normalizeDecimal(l))return f.errors=p("number.unsafe"),f}return f}},validate(l,h){let{schema:m,error:p,prefs:f}=h;if(l===1/0||l===-1/0)return{value:l,errors:p("number.infinity")};if(!g.isNumber(l))return{value:l,errors:p("number.base")};const _={value:l};if(f.convert){const u=m.$_getRule("precision");if(u){const d=Math.pow(10,u.args.limit);_.value=Math.round(_.value*d)/d}}return _.value===0&&(_.value=0),!m._flags.unsafe&&(l>Number.MAX_SAFE_INTEGER||l<Number.MIN_SAFE_INTEGER)&&(_.errors=p("number.unsafe")),_},rules:{compare:{method:!1,validate(l,h,m,p){let{limit:f}=m,{name:_,operator:u,args:d}=p;return g.compare(l,f,u)?l:h.error("number."+_,{limit:d.limit,value:l})},args:[{name:"limit",ref:!0,assert:g.isNumber,message:"must be a number"}]},greater:{method(l){return this.$_addRule({name:"greater",method:"compare",args:{limit:l},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(l,h)=>Math.trunc(l)-l==0?l:h.error("number.integer")},less:{method(l){return this.$_addRule({name:"less",method:"compare",args:{limit:l},operator:"<"})}},max:{method(l){return this.$_addRule({name:"max",method:"compare",args:{limit:l},operator:"<="})}},min:{method(l){return this.$_addRule({name:"min",method:"compare",args:{limit:l},operator:">="})}},multiple:{method(l){return this.$_addRule({name:"multiple",args:{base:l}})},validate(l,h,m,p){let{base:f}=m;return l*(1/f)%1==0?l:h.error("number.multiple",{multiple:p.args.base,value:l})},args:[{name:"base",ref:!0,assert:l=>typeof l=="number"&&isFinite(l)&&l>0,message:"must be a positive number"}],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(l,h)=>Number.isSafeInteger(l)&&l>=0&&l<=65535?l:h.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(l){return a(Number.isSafeInteger(l),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:l}})},validate(l,h,m){let{limit:p}=m;const f=l.toString().match(y.precisionRx);return Math.max((f[1]?f[1].length:0)-(f[2]?parseInt(f[2],10):0),0)<=p?l:h.error("number.precision",{limit:p,value:l})},convert:!0},sign:{method(l){return a(["negative","positive"].includes(l),"Invalid sign",l),this.$_addRule({name:"sign",args:{sign:l}})},validate(l,h,m){let{sign:p}=m;return p==="negative"&&l<0||p==="positive"&&l>0?l:h.error(`number.${p}`)}},unsafe:{method(){let l=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return a(typeof l=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",l)}}},cast:{string:{from:l=>typeof l=="number",to:(l,h)=>l.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),y.extractSignificantDigits=function(l){return l.replace(y.exponentialPartRegex,"").replace(y.dotRegex,"").replace(y.trailingZerosRegex,"").replace(y.leadingSignAndZerosRegex,"")},y.normalizeDecimal=function(l){return(l=l.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&l.endsWith("0")&&(l=l.replace(/0+$/,"")),l==="-0"?"0":l}},8966:(s,i,o)=>{const a=o(7824);s.exports=a.extend({type:"object",cast:{map:{from:c=>c&&typeof c=="object",to:(c,g)=>new Map(Object.entries(c))}}})},7417:(s,i,o)=>{const a=o(375),c=o(5380),g=o(1745),y=o(9959),l=o(6064),h=o(9926),m=o(5752),p=o(8068),f=o(8160),_={tlds:h instanceof Set&&{tlds:{allow:h,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:/^[a-f0-9]+$/i,ipRegex:y.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};s.exports=p.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(u,d){let{schema:v,state:E,prefs:S}=d;const A=v.$_getRule("normalize");A&&(u=u.normalize(A.args.form));const I=v.$_getRule("case");I&&(u=I.args.direction==="upper"?u.toLocaleUpperCase():u.toLocaleLowerCase());const w=v.$_getRule("trim");if(w&&w.args.enabled&&(u=u.trim()),v.$_terms.replacements)for(const b of v.$_terms.replacements)u=u.replace(b.pattern,b.replacement);const T=v.$_getRule("hex");if(T&&T.args.options.byteAligned&&u.length%2!=0&&(u=`0${u}`),v.$_getRule("isoDate")){const b=_.isoDate(u);b&&(u=b)}if(v._flags.truncate){const b=v.$_getRule("max");if(b){let k=b.args.limit;if(f.isResolvable(k)&&(k=k.resolve(u,E,S),!f.limit(k)))return{value:u,errors:v.$_createError("any.ref",k,{ref:b.args.limit,arg:"limit",reason:"must be a positive integer"},E,S)};u=u.slice(0,k)}}return{value:u}}},validate(u,d){let{schema:v,error:E}=d;if(typeof u!="string")return{value:u,errors:E("string.base")};if(u===""){const S=v.$_getRule("min");return S&&S.args.limit===0?void 0:{value:u,errors:E("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(u,d)=>/^[a-zA-Z0-9]+$/.test(u)?u:d.error("string.alphanum")},base64:{method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.assertOptions(u,["paddingRequired","urlSafe"]),u={urlSafe:!1,paddingRequired:!0,...u},a(typeof u.paddingRequired=="boolean","paddingRequired must be boolean"),a(typeof u.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:u}})},validate(u,d,v){let{options:E}=v;return _.base64Regex[E.paddingRequired][E.urlSafe].test(u)?u:d.error("string.base64")}},case:{method(u){return a(["lower","upper"].includes(u),"Invalid case:",u),this.$_addRule({name:"case",args:{direction:u}})},validate(u,d,v){let{direction:E}=v;return E==="lower"&&u===u.toLocaleLowerCase()||E==="upper"&&u===u.toLocaleUpperCase()?u:d.error(`string.${E}case`)},convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(u,d){let v=u.length,E=0,S=1;for(;v--;){const A=u.charAt(v)*S;E+=A-9*(A>9),S^=3}return E>0&&E%10==0?u:d.error("string.creditCard")}},dataUri:{method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.assertOptions(u,["paddingRequired"]),u={paddingRequired:!0,...u},a(typeof u.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:u}})},validate(u,d,v){let{options:E}=v;const S=u.match(_.dataUriRegex);return S&&(!S[2]||S[2]!=="base64"||_.base64Regex[E.paddingRequired].false.test(S[3]))?u:d.error("string.dataUri")}},domain:{method(u){u&&f.assertOptions(u,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const d=_.addressOptions(u);return this.$_addRule({name:"domain",args:{options:u},address:d})},validate(u,d,v,E){let{address:S}=E;return c.isValid(u,S)?u:d.error("string.domain")}},email:{method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(u,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),a(u.multiple===void 0||typeof u.multiple=="boolean","multiple option must be an boolean");const d=_.addressOptions(u),v=new RegExp(`\\s*[${u.separator?l(u.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:u},regex:v,address:d})},validate(u,d,v,E){let{options:S}=v,{regex:A,address:I}=E;const w=S.multiple?u.split(A):[u],T=[];for(const b of w)g.isValid(b,I)||T.push(b);return T.length?d.error("string.email",{value:u,invalids:T}):u}},guid:{alias:"uuid",method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(u,["version","separator"]);let d="";if(u.version){const S=[].concat(u.version);a(S.length>=1,"version must have at least 1 valid version specified");const A=new Set;for(let I=0;I<S.length;++I){const w=S[I];a(typeof w=="string","version at position "+I+" must be a string");const T=_.guidVersions[w.toLowerCase()];a(T,"version at position "+I+" must be one of "+Object.keys(_.guidVersions).join(", ")),a(!A.has(T),"version at position "+I+" must not be a duplicate"),d+=T,A.add(T)}}a(_.guidSeparators.has(u.separator),'separator must be one of true, false, "-", or ":"');const v=u.separator===void 0?"[:-]?":u.separator===!0?"[:-]":u.separator===!1?"[]?":`\\${u.separator}`,E=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${v})[0-9A-F]{4}\\2?[${d||"0-9A-F"}][0-9A-F]{3}\\2?[${d?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:u},regex:E})},validate(u,d,v,E){let{regex:S}=E;const A=S.exec(u);return A?_.guidBrackets[A[1]]!==A[A.length-1]?d.error("string.guid"):u:d.error("string.guid")}},hex:{method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.assertOptions(u,["byteAligned"]),u={byteAligned:!1,...u},a(typeof u.byteAligned=="boolean","byteAligned must be boolean"),this.$_addRule({name:"hex",args:{options:u}})},validate(u,d,v){let{options:E}=v;return _.hexRegex.test(u)?E.byteAligned&&u.length%2!=0?d.error("string.hexAlign"):u:d.error("string.hex")}},hostname:{method(){return this.$_addRule("hostname")},validate:(u,d)=>c.isValid(u,{minDomainSegments:1})||_.ipRegex.test(u)?u:d.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(u,["cidr","version"]);const{cidr:d,versions:v,regex:E}=y.regex(u),S=u.version?v:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:d,version:S}},regex:E})},validate(u,d,v,E){let{options:S}=v,{regex:A}=E;return A.test(u)?u:S.version?d.error("string.ipVersion",{value:u,cidr:S.cidr,version:S.version}):d.error("string.ip",{value:u,cidr:S.cidr})}},isoDate:{method(){return this.$_addRule("isoDate")},validate(u,d){let{error:v}=d;return _.isoDate(u)?u:v("string.isoDate")}},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(u,d)=>_.isoDurationRegex.test(u)?u:d.error("string.isoDuration")},length:{method(u,d){return _.length(this,"length",u,"=",d)},validate(u,d,v,E){let{limit:S,encoding:A}=v,{name:I,operator:w,args:T}=E;const b=!A&&u.length;return f.compare(b,S,w)?u:d.error("string."+I,{limit:T.limit,value:u,encoding:A})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(u,d){return _.length(this,"max",u,"<=",d)},args:["limit","encoding"]},min:{method(u,d){return _.length(this,"min",u,">=",d)},args:["limit","encoding"]},normalize:{method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"NFC";return a(_.normalizationForms.includes(u),"normalization form must be one of "+_.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:u}})},validate(u,d,v){let{error:E}=d,{form:S}=v;return u===u.normalize(S)?u:E("string.normalize",{value:u,form:S})},convert:!0},pattern:{alias:"regex",method(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(u instanceof RegExp,"regex must be a RegExp"),a(!u.flags.includes("g")&&!u.flags.includes("y"),"regex should not use global or sticky mode"),typeof d=="string"&&(d={name:d}),f.assertOptions(d,["invert","name"]);const v=["string.pattern",d.invert?".invert":"",d.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:u,options:d},errorCode:v})},validate(u,d,v,E){let{regex:S,options:A}=v,{errorCode:I}=E;return S.test(u)^A.invert?u:d.error(I,{name:A.name,regex:S,value:u})},args:["regex","options"],multi:!0},replace:{method(u,d){typeof u=="string"&&(u=new RegExp(l(u),"g")),a(u instanceof RegExp,"pattern must be a RegExp"),a(typeof d=="string","replacement must be a String");const v=this.clone();return v.$_terms.replacements||(v.$_terms.replacements=[]),v.$_terms.replacements.push({pattern:u,replacement:d}),v}},token:{method(){return this.$_addRule("token")},validate:(u,d)=>/^\w+$/.test(u)?u:d.error("string.token")},trim:{method(){let u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return a(typeof u=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:u}})},validate(u,d,v){let{enabled:E}=v;return E&&u!==u.trim()?d.error("string.trim"):u},convert:!0},truncate:{method(){let u=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return a(typeof u=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",u)}},uppercase:{method(){return this.case("upper")}},uri:{method(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};f.assertOptions(u,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),u.domain&&f.assertOptions(u.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:d,scheme:v}=m.regex(u),E=u.domain?_.addressOptions(u.domain):null;return this.$_addRule({name:"uri",args:{options:u},regex:d,domain:E,scheme:v})},validate(u,d,v,E){let{options:S}=v,{regex:A,domain:I,scheme:w}=E;if(["http:/","https:/"].includes(u))return d.error("string.uri");const T=A.exec(u);if(T){const b=T[1]||T[2];return!I||S.allowRelative&&!b||c.isValid(b,I)?u:d.error("string.domain",{value:b})}return S.relativeOnly?d.error("string.uriRelativeOnly"):S.scheme?d.error("string.uriCustomScheme",{scheme:w,value:u}):d.error("string.uri")}}},manifest:{build(u,d){if(d.replacements)for(const{pattern:v,replacement:E}of d.replacements)u=u.replace(v,E);return u}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),_.addressOptions=function(u){if(!u||(a(u.minDomainSegments===void 0||Number.isSafeInteger(u.minDomainSegments)&&u.minDomainSegments>0,"minDomainSegments must be a positive integer"),a(u.maxDomainSegments===void 0||Number.isSafeInteger(u.maxDomainSegments)&&u.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),u.tlds===!1))return u;if(u.tlds===!0||u.tlds===void 0)return a(_.tlds,"Built-in TLD list disabled"),Object.assign({},u,_.tlds);a(typeof u.tlds=="object","tlds must be true, false, or an object");const d=u.tlds.deny;if(d)return Array.isArray(d)&&(u=Object.assign({},u,{tlds:{deny:new Set(d)}})),a(u.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),a(!u.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),_.validateTlds(u.tlds.deny,"tlds.deny"),u;const v=u.tlds.allow;return v?v===!0?(a(_.tlds,"Built-in TLD list disabled"),Object.assign({},u,_.tlds)):(Array.isArray(v)&&(u=Object.assign({},u,{tlds:{allow:new Set(v)}})),a(u.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),_.validateTlds(u.tlds.allow,"tlds.allow"),u):u},_.validateTlds=function(u,d){for(const v of u)a(c.isValid(v,{minDomainSegments:1,maxDomainSegments:1}),`${d} must contain valid top level domain names`)},_.isoDate=function(u){if(!f.isIsoDate(u))return null;/.*T.*[+-]\d\d$/.test(u)&&(u+="00");const d=new Date(u);return isNaN(d.getTime())?null:d.toISOString()},_.length=function(u,d,v,E,S){return a(!S||!1,"Invalid encoding:",S),u.$_addRule({name:d,method:"length",args:{limit:v,encoding:S},operator:E})}},8826:(s,i,o)=>{const a=o(375),c=o(8068),g={};g.Map=class extends Map{slice(){return new g.Map(this)}},s.exports=c.extend({type:"symbol",terms:{map:{init:new g.Map}},coerce:{method(y,l){let{schema:h,error:m}=l;const p=h.$_terms.map.get(y);return p&&(y=p),h._flags.only&&typeof y!="symbol"?{value:y,errors:m("symbol.map",{map:h.$_terms.map})}:{value:y}}},validate(y,l){let{error:h}=l;if(typeof y!="symbol")return{value:y,errors:h("symbol.base")}},rules:{map:{method(y){y&&!y[Symbol.iterator]&&typeof y=="object"&&(y=Object.entries(y)),a(y&&y[Symbol.iterator],"Iterable must be an iterable or object");const l=this.clone(),h=[];for(const m of y){a(m&&m[Symbol.iterator],"Entry must be an iterable");const[p,f]=m;a(typeof p!="object"&&typeof p!="function"&&typeof p!="symbol","Key must not be of type object, function, or Symbol"),a(typeof f=="symbol","Value must be a Symbol"),l.$_terms.map.set(p,f),h.push(f)}return l.valid(...h)}}},manifest:{build:(y,l)=>(l.map&&(y=y.map(l.map)),y)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(s,i,o)=>{const a=o(375),c=o(8571),g=o(738),y=o(9621),l=o(8160),h=o(6354),m=o(493),p={result:Symbol("result")};i.entry=function(f,_,u){let d=l.defaults;u&&(a(u.warnings===void 0,"Cannot override warnings preference in synchronous validation"),a(u.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),d=l.preferences(l.defaults,u));const v=p.entry(f,_,d);a(!v.mainstay.externals.length,"Schema with external rules must use validateAsync()");const E={value:v.value};return v.error&&(E.error=v.error),v.mainstay.warnings.length&&(E.warning=h.details(v.mainstay.warnings)),v.mainstay.debug&&(E.debug=v.mainstay.debug),v.mainstay.artifacts&&(E.artifacts=v.mainstay.artifacts),E},i.entryAsync=async function(f,_,u){let d=l.defaults;u&&(d=l.preferences(l.defaults,u));const v=p.entry(f,_,d),E=v.mainstay;if(v.error)throw E.debug&&(v.error.debug=E.debug),v.error;if(E.externals.length){let A=v.value;for(const{method:I,path:w,label:T}of E.externals){let b,k,R=A;w.length&&(b=w[w.length-1],k=y(A,w.slice(0,-1)),R=k[b]);try{const x=await I(R,{prefs:u});if(x===void 0||x===R)continue;k?k[b]=x:A=x}catch(x){throw d.errors.label&&(x.message+=` (${T})`),x}}v.value=A}if(!d.warnings&&!d.debug&&!d.artifacts)return v.value;const S={value:v.value};return E.warnings.length&&(S.warning=h.details(E.warnings)),E.debug&&(S.debug=E.debug),E.artifacts&&(S.artifacts=E.artifacts),S},p.entry=function(f,_,u){const{tracer:d,cleanup:v}=p.tracer(_,u),E={externals:[],warnings:[],tracer:d,debug:u.debug?[]:null,links:_._ids._schemaChain?new Map:null},S=_._ids._schemaChain?[{schema:_}]:null,A=new m([],[],{mainstay:E,schemas:S}),I=i.validate(f,_,A,u);v&&_.$_root.untrace();const w=h.process(I.errors,f,u);return{value:I.value,error:w,mainstay:E}},p.tracer=function(f,_){return f.$_root._tracer?{tracer:f.$_root._tracer._register(f)}:_.debug?(a(f.$_root.trace,"Debug mode not supported"),{tracer:f.$_root.trace()._register(f),cleanup:!0}):{tracer:p.ignore}},i.validate=function(f,_,u,d){let v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(_.$_terms.whens&&(_=_._generate(f,u,d).schema),_._preferences&&(d=p.prefs(_,d)),_._cache&&d.cache){const b=_._cache.get(f);if(u.mainstay.tracer.debug(u,"validate","cached",!!b),b)return b}const E=(b,k,R)=>_.$_createError(b,f,k,R||u,d),S={original:f,prefs:d,schema:_,state:u,error:E,errorsArray:p.errorsArray,warn:(b,k,R)=>u.mainstay.warnings.push(E(b,k,R)),message:(b,k)=>_.$_createError("custom",f,k,u,d,{messages:b})};u.mainstay.tracer.entry(_,u);const A=_._definition;if(A.prepare&&f!==void 0&&d.convert){const b=A.prepare(f,S);if(b){if(u.mainstay.tracer.value(u,"prepare",f,b.value),b.errors)return p.finalize(b.value,[].concat(b.errors),S);f=b.value}}if(A.coerce&&f!==void 0&&d.convert&&(!A.coerce.from||A.coerce.from.includes(typeof f))){const b=A.coerce.method(f,S);if(b){if(u.mainstay.tracer.value(u,"coerced",f,b.value),b.errors)return p.finalize(b.value,[].concat(b.errors),S);f=b.value}}const I=_._flags.empty;I&&I.$_match(p.trim(f,_),u.nest(I),l.defaults)&&(u.mainstay.tracer.value(u,"empty",f,void 0),f=void 0);const w=v.presence||_._flags.presence||(_._flags._endedSwitch?null:d.presence);if(f===void 0){if(w==="forbidden")return p.finalize(f,null,S);if(w==="required")return p.finalize(f,[_.$_createError("any.required",f,null,u,d)],S);if(w==="optional"){if(_._flags.default!==l.symbols.deepDefault)return p.finalize(f,null,S);u.mainstay.tracer.value(u,"default",f,{}),f={}}}else if(w==="forbidden")return p.finalize(f,[_.$_createError("any.unknown",f,null,u,d)],S);const T=[];if(_._valids){const b=_._valids.get(f,u,d,_._flags.insensitive);if(b)return d.convert&&(u.mainstay.tracer.value(u,"valids",f,b.value),f=b.value),u.mainstay.tracer.filter(_,u,"valid",b),p.finalize(f,null,S);if(_._flags.only){const k=_.$_createError("any.only",f,{valids:_._valids.values({display:!0})},u,d);if(d.abortEarly)return p.finalize(f,[k],S);T.push(k)}}if(_._invalids){const b=_._invalids.get(f,u,d,_._flags.insensitive);if(b){u.mainstay.tracer.filter(_,u,"invalid",b);const k=_.$_createError("any.invalid",f,{invalids:_._invalids.values({display:!0})},u,d);if(d.abortEarly)return p.finalize(f,[k],S);T.push(k)}}if(A.validate){const b=A.validate(f,S);if(b&&(u.mainstay.tracer.value(u,"base",f,b.value),f=b.value,b.errors)){if(!Array.isArray(b.errors))return T.push(b.errors),p.finalize(f,T,S);if(b.errors.length)return T.push(...b.errors),p.finalize(f,T,S)}}return _._rules.length?p.rules(f,T,S):p.finalize(f,T,S)},p.rules=function(f,_,u){const{schema:d,state:v,prefs:E}=u;for(const S of d._rules){const A=d._definition.rules[S.method];if(A.convert&&E.convert){v.mainstay.tracer.log(d,v,"rule",S.name,"full");continue}let I,w=S.args;if(S._resolve.length){w=Object.assign({},w);for(const b of S._resolve){const k=A.argsByName.get(b),R=w[b].resolve(f,v,E),x=k.normalize?k.normalize(R):R,L=l.validateArg(x,null,k);if(L){I=d.$_createError("any.ref",R,{arg:b,ref:w[b],reason:L},v,E);break}w[b]=x}}I=I||A.validate(f,u,w,S);const T=p.rule(I,S);if(T.errors){if(v.mainstay.tracer.log(d,v,"rule",S.name,"error"),S.warn){v.mainstay.warnings.push(...T.errors);continue}if(E.abortEarly)return p.finalize(f,T.errors,u);_.push(...T.errors)}else v.mainstay.tracer.log(d,v,"rule",S.name,"pass"),v.mainstay.tracer.value(v,"rule",f,T.value,S.name),f=T.value}return p.finalize(f,_,u)},p.rule=function(f,_){return f instanceof h.Report?(p.error(f,_),{errors:[f],value:null}):Array.isArray(f)&&f[l.symbols.errors]?(f.forEach(u=>p.error(u,_)),{errors:f,value:null}):{errors:null,value:f}},p.error=function(f,_){return _.message&&f._setTemplate(_.message),f},p.finalize=function(f,_,u){_=_||[];const{schema:d,state:v,prefs:E}=u;if(_.length){const A=p.default("failover",void 0,_,u);A!==void 0&&(v.mainstay.tracer.value(v,"failover",f,A),f=A,_=[])}if(_.length&&d._flags.error)if(typeof d._flags.error=="function"){_=d._flags.error(_),Array.isArray(_)||(_=[_]);for(const A of _)a(A instanceof Error||A instanceof h.Report,"error() must return an Error object")}else _=[d._flags.error];if(f===void 0){const A=p.default("default",f,_,u);v.mainstay.tracer.value(v,"default",f,A),f=A}if(d._flags.cast&&f!==void 0){const A=d._definition.cast[d._flags.cast];if(A.from(f)){const I=A.to(f,u);v.mainstay.tracer.value(v,"cast",f,I,d._flags.cast),f=I}}if(d.$_terms.externals&&E.externals&&E._externals!==!1)for(const{method:A}of d.$_terms.externals)v.mainstay.externals.push({method:A,path:v.path,label:h.label(d._flags,v,E)});const S={value:f,errors:_.length?_:null};return d._flags.result&&(S.value=d._flags.result==="strip"?void 0:u.original,v.mainstay.tracer.value(v,d._flags.result,f,S.value),v.shadow(f,d._flags.result)),d._cache&&E.cache!==!1&&!d._refs.length&&d._cache.set(u.original,S),f===void 0||S.errors||d._flags.artifact===void 0||(v.mainstay.artifacts=v.mainstay.artifacts||new Map,v.mainstay.artifacts.has(d._flags.artifact)||v.mainstay.artifacts.set(d._flags.artifact,[]),v.mainstay.artifacts.get(d._flags.artifact).push(v.path)),S},p.prefs=function(f,_){const u=_===l.defaults;return u&&f._preferences[l.symbols.prefs]?f._preferences[l.symbols.prefs]:(_=l.preferences(_,f._preferences),u&&(f._preferences[l.symbols.prefs]=_),_)},p.default=function(f,_,u,d){const{schema:v,state:E,prefs:S}=d,A=v._flags[f];if(S.noDefaults||A===void 0)return _;if(E.mainstay.tracer.log(v,E,"rule",f,"full"),!A)return A;if(typeof A=="function"){const I=A.length?[c(E.ancestors[0]),d]:[];try{return A(...I)}catch(w){return void u.push(v.$_createError(`any.${f}`,null,{error:w},E,S))}}return typeof A!="object"?A:A[l.symbols.literal]?A.literal:l.isResolvable(A)?A.resolve(_,E,S):c(A)},p.trim=function(f,_){if(typeof f!="string")return f;const u=_.$_getRule("trim");return u&&u.args.enabled?f.trim():f},p.ignore={active:!1,debug:g,entry:g,filter:g,log:g,resolve:g,value:g},p.errorsArray=function(){const f=[];return f[l.symbols.errors]=!0,f}},2036:(s,i,o)=>{const a=o(375),c=o(9474),g=o(8160),y={};s.exports=y.Values=class{constructor(l,h){this._values=new Set(l),this._refs=new Set(h),this._lowercase=y.lowercases(l),this._override=!1}get length(){return this._values.size+this._refs.size}add(l,h){g.isResolvable(l)?this._refs.has(l)||(this._refs.add(l),h&&h.register(l)):this.has(l,null,null,!1)||(this._values.add(l),typeof l=="string"&&this._lowercase.set(l.toLowerCase(),l))}static merge(l,h,m){if(l=l||new y.Values,h){if(h._override)return h.clone();for(const p of[...h._values,...h._refs])l.add(p)}if(m)for(const p of[...m._values,...m._refs])l.remove(p);return l.length?l:null}remove(l){g.isResolvable(l)?this._refs.delete(l):(this._values.delete(l),typeof l=="string"&&this._lowercase.delete(l.toLowerCase()))}has(l,h,m,p){return!!this.get(l,h,m,p)}get(l,h,m,p){if(!this.length)return!1;if(this._values.has(l))return{value:l};if(typeof l=="string"&&l&&p){const f=this._lowercase.get(l.toLowerCase());if(f)return{value:f}}if(!this._refs.size&&typeof l!="object")return!1;if(typeof l=="object"){for(const f of this._values)if(c(f,l))return{value:f}}if(h)for(const f of this._refs){const _=f.resolve(l,h,m,null,{in:!0});if(_===void 0)continue;const u=f.in&&typeof _=="object"?Array.isArray(_)?_:Object.keys(_):[_];for(const d of u)if(typeof d==typeof l){if(p&&l&&typeof l=="string"){if(d.toLowerCase()===l.toLowerCase())return{value:d,ref:f}}else if(c(d,l))return{value:d,ref:f}}}return!1}override(){this._override=!0}values(l){if(l&&l.display){const h=[];for(const m of[...this._values,...this._refs])m!==void 0&&h.push(m);return h}return Array.from([...this._values,...this._refs])}clone(){const l=new y.Values(this._values,this._refs);return l._override=this._override,l}concat(l){a(!l._override,"Cannot concat override set of values");const h=new y.Values([...this._values,...l._values],[...this._refs,...l._refs]);return h._override=this._override,h}describe(){const l=[];this._override&&l.push({override:!0});for(const h of this._values.values())l.push(h&&typeof h=="object"?{value:h}:h);for(const h of this._refs.values())l.push(h.describe());return l}},y.Values.prototype[g.symbols.values]=!0,y.Values.prototype.slice=y.Values.prototype.clone,y.lowercases=function(l){const h=new Map;if(l)for(const m of l)typeof m=="string"&&h.set(m.toLowerCase(),m);return h}},978:(s,i,o)=>{const a=o(375),c=o(8571),g=o(1687),y=o(9621),l={};s.exports=function(h,m){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(a(h&&typeof h=="object","Invalid defaults value: must be an object"),a(!m||m===!0||typeof m=="object","Invalid source value: must be true, falsy or an object"),a(typeof p=="object","Invalid options: must be an object"),!m)return null;if(p.shallow)return l.applyToDefaultsWithShallow(h,m,p);const f=c(h);if(m===!0)return f;const _=p.nullOverride!==void 0&&p.nullOverride;return g(f,m,{nullOverride:_,mergeArrays:!1})},l.applyToDefaultsWithShallow=function(h,m,p){const f=p.shallow;a(Array.isArray(f),"Invalid keys");const _=new Map,u=m===!0?null:new Set;for(let E of f){E=Array.isArray(E)?E:E.split(".");const S=y(h,E);S&&typeof S=="object"?_.set(S,u&&y(m,E)||S):u&&u.add(E)}const d=c(h,{},_);if(!u)return d;for(const E of u)l.reachCopy(d,m,E);const v=p.nullOverride!==void 0&&p.nullOverride;return g(d,m,{nullOverride:v,mergeArrays:!1})},l.reachCopy=function(h,m,p){for(const u of p){if(!(u in m))return;const d=m[u];if(typeof d!="object"||d===null)return;m=d}const f=m;let _=h;for(let u=0;u<p.length-1;++u){const d=p[u];typeof _[d]!="object"&&(_[d]={}),_=_[d]}_[p[p.length-1]]=f}},375:(s,i,o)=>{const a=o(7916);s.exports=function(c){if(!c){for(var g=arguments.length,y=new Array(g>1?g-1:0),l=1;l<g;l++)y[l-1]=arguments[l];throw y.length===1&&y[0]instanceof Error?y[0]:new a(y)}}},8571:(s,i,o)=>{const a=o(9621),c=o(4277),g=o(7043),y={needsProtoHack:new Set([c.set,c.map,c.weakSet,c.weakMap])};s.exports=y.clone=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(typeof l!="object"||l===null)return l;let p=y.clone,f=m;if(h.shallow){if(h.shallow!==!0)return y.cloneWithShallow(l,h);p=v=>v}else if(f){const v=f.get(l);if(v)return v}else f=new Map;const _=c.getInternalProto(l);if(_===c.buffer)return!1;if(_===c.date)return new Date(l.getTime());if(_===c.regex)return new RegExp(l);const u=y.base(l,_,h);if(u===l)return l;if(f&&f.set(l,u),_===c.set)for(const v of l)u.add(p(v,h,f));else if(_===c.map)for(const[v,E]of l)u.set(v,p(E,h,f));const d=g.keys(l,h);for(const v of d){if(v==="__proto__")continue;if(_===c.array&&v==="length"){u.length=l.length;continue}const E=Object.getOwnPropertyDescriptor(l,v);E?E.get||E.set?Object.defineProperty(u,v,E):E.enumerable?u[v]=p(l[v],h,f):Object.defineProperty(u,v,{enumerable:!1,writable:!0,configurable:!0,value:p(l[v],h,f)}):Object.defineProperty(u,v,{enumerable:!0,writable:!0,configurable:!0,value:p(l[v],h,f)})}return u},y.cloneWithShallow=function(l,h){const m=h.shallow;(h=Object.assign({},h)).shallow=!1;const p=new Map;for(const f of m){const _=a(l,f);typeof _!="object"&&typeof _!="function"||p.set(_,_)}return y.clone(l,h,p)},y.base=function(l,h,m){if(m.prototype===!1)return y.needsProtoHack.has(h)?new h.constructor:h===c.array?[]:{};const p=Object.getPrototypeOf(l);if(p&&p.isImmutable)return l;if(h===c.array){const f=[];return p!==h&&Object.setPrototypeOf(f,p),f}if(y.needsProtoHack.has(h)){const f=new p.constructor;return p!==h&&Object.setPrototypeOf(f,p),f}return Object.create(p)}},9474:(s,i,o)=>{const a=o(4277),c={mismatched:null};s.exports=function(g,y,l){return l=Object.assign({prototype:!0},l),!!c.isDeepEqual(g,y,l,[])},c.isDeepEqual=function(g,y,l,h){if(g===y)return g!==0||1/g==1/y;const m=typeof g;if(m!==typeof y||g===null||y===null)return!1;if(m==="function"){if(!l.deepFunction||g.toString()!==y.toString())return!1}else if(m!=="object")return g!=g&&y!=y;const p=c.getSharedType(g,y,!!l.prototype);switch(p){case a.buffer:return!1;case a.promise:return g===y;case a.regex:return g.toString()===y.toString();case c.mismatched:return!1}for(let f=h.length-1;f>=0;--f)if(h[f].isSame(g,y))return!0;h.push(new c.SeenEntry(g,y));try{return!!c.isDeepEqualObj(p,g,y,l,h)}finally{h.pop()}},c.getSharedType=function(g,y,l){if(l)return Object.getPrototypeOf(g)!==Object.getPrototypeOf(y)?c.mismatched:a.getInternalProto(g);const h=a.getInternalProto(g);return h!==a.getInternalProto(y)?c.mismatched:h},c.valueOf=function(g){const y=g.valueOf;if(y===void 0)return g;try{return y.call(g)}catch(l){return l}},c.hasOwnEnumerableProperty=function(g,y){return Object.prototype.propertyIsEnumerable.call(g,y)},c.isSetSimpleEqual=function(g,y){for(const l of Set.prototype.values.call(g))if(!Set.prototype.has.call(y,l))return!1;return!0},c.isDeepEqualObj=function(g,y,l,h,m){const{isDeepEqual:p,valueOf:f,hasOwnEnumerableProperty:_}=c,{keys:u,getOwnPropertySymbols:d}=Object;if(g===a.array){if(!h.part){if(y.length!==l.length)return!1;for(let I=0;I<y.length;++I)if(!p(y[I],l[I],h,m))return!1;return!0}for(const I of y)for(const w of l)if(p(I,w,h,m))return!0}else if(g===a.set){if(y.size!==l.size)return!1;if(!c.isSetSimpleEqual(y,l)){const I=new Set(Set.prototype.values.call(l));for(const w of Set.prototype.values.call(y)){if(I.delete(w))continue;let T=!1;for(const b of I)if(p(w,b,h,m)){I.delete(b),T=!0;break}if(!T)return!1}}}else if(g===a.map){if(y.size!==l.size)return!1;for(const[I,w]of Map.prototype.entries.call(y))if(w===void 0&&!Map.prototype.has.call(l,I)||!p(w,Map.prototype.get.call(l,I),h,m))return!1}else if(g===a.error&&(y.name!==l.name||y.message!==l.message))return!1;const v=f(y),E=f(l);if((y!==v||l!==E)&&!p(v,E,h,m))return!1;const S=u(y);if(!h.part&&S.length!==u(l).length&&!h.skip)return!1;let A=0;for(const I of S)if(h.skip&&h.skip.includes(I))l[I]===void 0&&++A;else if(!_(l,I)||!p(y[I],l[I],h,m))return!1;if(!h.part&&S.length-A!==u(l).length)return!1;if(h.symbols!==!1){const I=d(y),w=new Set(d(l));for(const T of I){if(!h.skip||!h.skip.includes(T)){if(_(y,T)){if(!_(l,T)||!p(y[T],l[T],h,m))return!1}else if(_(l,T))return!1}w.delete(T)}for(const T of w)if(_(l,T))return!1}return!0},c.SeenEntry=class{constructor(g,y){this.obj=g,this.ref=y}isSame(g,y){return this.obj===g&&this.ref===y}}},7916:(s,i,o)=>{const a=o(8761);s.exports=class extends Error{constructor(c){super(c.filter(g=>g!=="").map(g=>typeof g=="string"?g:g instanceof Error?g.message:a(g)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,i.assert)}}},5277:s=>{const i={};s.exports=function(o){if(!o)return"";let a="";for(let c=0;c<o.length;++c){const g=o.charCodeAt(c);i.isSafe(g)?a+=o[c]:a+=i.escapeHtmlChar(g)}return a},i.escapeHtmlChar=function(o){return i.namedHtml.get(o)||(o>=256?"&#"+o+";":`&#x${o.toString(16).padStart(2,"0")};`)},i.isSafe=function(o){return i.safeCharCodes.has(o)},i.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),i.safeCharCodes=function(){const o=new Set;for(let a=32;a<123;++a)(a>=97||a>=65&&a<=90||a>=48&&a<=57||a===32||a===46||a===44||a===45||a===58||a===95)&&o.add(a);return o}()},6064:s=>{s.exports=function(i){return i.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:s=>{s.exports=function(){}},1687:(s,i,o)=>{const a=o(375),c=o(8571),g=o(7043),y={};s.exports=y.merge=function(l,h,m){if(a(l&&typeof l=="object","Invalid target value: must be an object"),a(h==null||typeof h=="object","Invalid source value: must be null, undefined, or an object"),!h)return l;if(m=Object.assign({nullOverride:!0,mergeArrays:!0},m),Array.isArray(h)){a(Array.isArray(l),"Cannot merge array onto an object"),m.mergeArrays||(l.length=0);for(let f=0;f<h.length;++f)l.push(c(h[f],{symbols:m.symbols}));return l}const p=g.keys(h,m);for(let f=0;f<p.length;++f){const _=p[f];if(_==="__proto__"||!Object.prototype.propertyIsEnumerable.call(h,_))continue;const u=h[_];if(u&&typeof u=="object"){if(l[_]===u)continue;!l[_]||typeof l[_]!="object"||Array.isArray(l[_])!==Array.isArray(u)||u instanceof Date||u instanceof RegExp?l[_]=c(u,{symbols:m.symbols}):y.merge(l[_],u,m)}else(u!=null||m.nullOverride)&&(l[_]=u)}return l}},9621:(s,i,o)=>{const a=o(375),c={};s.exports=function(g,y,l){if(y===!1||y==null)return g;typeof(l=l||{})=="string"&&(l={separator:l});const h=Array.isArray(y);a(!h||!l.separator,"Separator option is not valid for array-based chain");const m=h?y:y.split(l.separator||".");let p=g;for(let f=0;f<m.length;++f){let _=m[f];const u=l.iterables&&c.iterables(p);if(Array.isArray(p)||u==="set"){const d=Number(_);Number.isInteger(d)&&(_=d<0?p.length+d:d)}if(!p||typeof p=="function"&&l.functions===!1||!u&&p[_]===void 0){a(!l.strict||f+1===m.length,"Missing segment",_,"in reach path ",y),a(typeof p=="object"||l.functions===!0||typeof p!="function","Invalid segment",_,"in reach path ",y),p=l.default;break}p=u?u==="set"?[...p][_]:p.get(_):p[_]}return p},c.iterables=function(g){return g instanceof Set?"set":g instanceof Map?"map":void 0}},8761:s=>{s.exports=function(){try{return JSON.stringify(...arguments)}catch(i){return"[Cannot display object: "+i.message+"]"}}},4277:(s,i)=>{const o={};i=s.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},o.typeMap=new Map([["[object Error]",i.error],["[object Map]",i.map],["[object Promise]",i.promise],["[object Set]",i.set],["[object WeakMap]",i.weakMap],["[object WeakSet]",i.weakSet]]),i.getInternalProto=function(a){if(Array.isArray(a))return i.array;if(a instanceof Date)return i.date;if(a instanceof RegExp)return i.regex;if(a instanceof Error)return i.error;const c=Object.prototype.toString.call(a);return o.typeMap.get(c)||i.generic}},7043:(s,i)=>{i.keys=function(o){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).symbols!==!1?Reflect.ownKeys(o):Object.getOwnPropertyNames(o)}},3652:(s,i,o)=>{const a=o(375),c={};i.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(g,y){const l=[].concat((y=y||{}).before||[]),h=[].concat(y.after||[]),m=y.group||"?",p=y.sort||0;a(!l.includes(m),`Item cannot come before itself: ${m}`),a(!l.includes("?"),"Item cannot come before unassociated items"),a(!h.includes(m),`Item cannot come after itself: ${m}`),a(!h.includes("?"),"Item cannot come after unassociated items"),Array.isArray(g)||(g=[g]);for(const f of g){const _={seq:this._items.length,sort:p,before:l,after:h,group:m,node:f};this._items.push(_)}if(!y.manual){const f=this._sort();a(f,"item",m!=="?"?`added into group ${m}`:"","created a dependencies error")}return this.nodes}merge(g){Array.isArray(g)||(g=[g]);for(const l of g)if(l)for(const h of l._items)this._items.push(Object.assign({},h));this._items.sort(c.mergeSort);for(let l=0;l<this._items.length;++l)this._items[l].seq=l;const y=this._sort();return a(y,"merge created a dependencies error"),this.nodes}sort(){const g=this._sort();return a(g,"sort created a dependencies error"),this.nodes}_sort(){const g={},y=Object.create(null),l=Object.create(null);for(const _ of this._items){const u=_.seq,d=_.group;l[d]=l[d]||[],l[d].push(u),g[u]=_.before;for(const v of _.after)y[v]=y[v]||[],y[v].push(u)}for(const _ in g){const u=[];for(const d in g[_]){const v=g[_][d];l[v]=l[v]||[],u.push(...l[v])}g[_]=u}for(const _ in y)if(l[_])for(const u of l[_])g[u].push(...y[_]);const h={};for(const _ in g){const u=g[_];for(const d of u)h[d]=h[d]||[],h[d].push(_)}const m={},p=[];for(let _=0;_<this._items.length;++_){let u=_;if(h[_]){u=null;for(let d=0;d<this._items.length;++d){if(m[d]===!0)continue;h[d]||(h[d]=[]);const v=h[d].length;let E=0;for(let S=0;S<v;++S)m[h[d][S]]&&++E;if(E===v){u=d;break}}}u!==null&&(m[u]=!0,p.push(u))}if(p.length!==this._items.length)return!1;const f={};for(const _ of this._items)f[_.seq]=_;this._items=[],this.nodes=[];for(const _ of p){const u=f[_];this.nodes.push(u.node),this._items.push(u)}return!0}},c.mergeSort=(g,y)=>g.sort===y.sort?0:g.sort<y.sort?-1:1},5380:(s,i,o)=>{const a=o(443),c=o(2178),g={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:a.URL||URL};i.analyze=function(y){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!y)return c.code("DOMAIN_NON_EMPTY_STRING");if(typeof y!="string")throw new Error("Invalid input: domain must be a string");if(y.length>256)return c.code("DOMAIN_TOO_LONG");if(g.nonAsciiRx.test(y)){if(l.allowUnicode===!1)return c.code("DOMAIN_INVALID_UNICODE_CHARS");y=y.normalize("NFC")}if(g.domainControlRx.test(y))return c.code("DOMAIN_INVALID_CHARS");y=g.punycode(y),l.allowFullyQualified&&y[y.length-1]==="."&&(y=y.slice(0,-1));const h=l.minDomainSegments||g.minDomainSegments,m=y.split(".");if(m.length<h)return c.code("DOMAIN_SEGMENTS_COUNT");if(l.maxDomainSegments&&m.length>l.maxDomainSegments)return c.code("DOMAIN_SEGMENTS_COUNT_MAX");const p=l.tlds;if(p){const f=m[m.length-1].toLowerCase();if(p.deny&&p.deny.has(f)||p.allow&&!p.allow.has(f))return c.code("DOMAIN_FORBIDDEN_TLDS")}for(let f=0;f<m.length;++f){const _=m[f];if(!_.length)return c.code("DOMAIN_EMPTY_SEGMENT");if(_.length>63)return c.code("DOMAIN_LONG_SEGMENT");if(f<m.length-1){if(!g.domainSegmentRx.test(_))return c.code("DOMAIN_INVALID_CHARS")}else if(!g.tldSegmentRx.test(_))return c.code("DOMAIN_INVALID_TLDS_CHARS")}return null},i.isValid=function(y,l){return!i.analyze(y,l)},g.punycode=function(y){y.includes("%")&&(y=y.replace(/%/g,"%25"));try{return new g.URL(`http://${y}`).host}catch{return y}}},1745:(s,i,o)=>{const a=o(9848),c=o(5380),g=o(2178),y={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(a.TextEncoder||TextEncoder)};i.analyze=function(l,h){return y.email(l,h)},i.isValid=function(l,h){return!y.email(l,h)},y.email=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof l!="string")throw new Error("Invalid input: email must be a string");if(!l)return g.code("EMPTY_STRING");const m=!y.nonAsciiRx.test(l);if(!m){if(h.allowUnicode===!1)return g.code("FORBIDDEN_UNICODE");l=l.normalize("NFC")}const p=l.split("@");if(p.length!==2)return p.length>2?g.code("MULTIPLE_AT_CHAR"):g.code("MISSING_AT_CHAR");const[f,_]=p;if(!f)return g.code("EMPTY_LOCAL");if(!h.ignoreLength){if(l.length>254)return g.code("ADDRESS_TOO_LONG");if(y.encoder.encode(f).length>64)return g.code("LOCAL_TOO_LONG")}return y.local(f,m)||c.analyze(_,h)},y.local=function(l,h){const m=l.split(".");for(const p of m){if(!p.length)return g.code("EMPTY_LOCAL_SEGMENT");if(h){if(!y.atextRx.test(p))return g.code("INVALID_LOCAL_CHARS")}else for(const f of p){if(y.atextRx.test(f))continue;const _=y.binary(f);if(!y.atomRx.test(_))return g.code("INVALID_LOCAL_CHARS")}}},y.binary=function(l){return Array.from(y.encoder.encode(l)).map(h=>String.fromCharCode(h)).join("")},y.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,y.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(s,i)=>{i.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},i.code=function(o){return{code:o,error:i.codes[o]}}},9959:(s,i,o)=>{const a=o(375),c=o(5752);i.regex=function(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};a(g.cidr===void 0||typeof g.cidr=="string","options.cidr must be a string");const y=g.cidr?g.cidr.toLowerCase():"optional";a(["required","optional","forbidden"].includes(y),"options.cidr must be one of required, optional, forbidden"),a(g.version===void 0||typeof g.version=="string"||Array.isArray(g.version),"options.version must be a string or an array of string");let l=g.version||["ipv4","ipv6","ipvfuture"];Array.isArray(l)||(l=[l]),a(l.length>=1,"options.version must have at least 1 version specified");for(let p=0;p<l.length;++p)a(typeof l[p]=="string","options.version must only contain strings"),l[p]=l[p].toLowerCase(),a(["ipv4","ipv6","ipvfuture"].includes(l[p]),"options.version contains unknown version "+l[p]+" - must be one of ipv4, ipv6, ipvfuture");l=Array.from(new Set(l));const h=`(?:${l.map(p=>{if(y==="forbidden")return c.ip[p];const f=`\\/${p==="ipv4"?c.ip.v4Cidr:c.ip.v6Cidr}`;return y==="required"?`${c.ip[p]}${f}`:`${c.ip[p]}(?:${f})?`}).join("|")})`,m=new RegExp(`^${h}$`);return{cidr:y,versions:l,regex:m,raw:h}}},5752:(s,i,o)=>{const a=o(375),c=o(6064),g={generate:function(){const y={},l="\\dA-Fa-f",h="["+l+"]",m="\\w-\\.~",p="!\\$&'\\(\\)\\*\\+,;=",f="%"+l,_=m+f+p+":@",u="["+_+"]",d="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";y.ipv4address="(?:"+d+"\\.){3}"+d;const v=h+"{1,4}",E="(?:"+v+":"+v+"|"+y.ipv4address+")",S="(?:"+v+":){6}"+E,A="::(?:"+v+":){5}"+E,I="(?:"+v+")?::(?:"+v+":){4}"+E,w="(?:(?:"+v+":){0,1}"+v+")?::(?:"+v+":){3}"+E,T="(?:(?:"+v+":){0,2}"+v+")?::(?:"+v+":){2}"+E,b="(?:(?:"+v+":){0,3}"+v+")?::"+v+":"+E,k="(?:(?:"+v+":){0,4}"+v+")?::"+E,R="(?:(?:"+v+":){0,5}"+v+")?::"+v,x="(?:(?:"+v+":){0,6}"+v+")?::";y.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",y.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",y.ipv6address="(?:"+S+"|"+A+"|"+I+"|"+w+"|"+T+"|"+b+"|"+k+"|"+R+"|"+x+")",y.ipvFuture="v"+h+"+\\.["+m+p+":]+",y.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",y.schemeRegex=new RegExp(y.scheme);const L="["+m+f+p+":]*",j="["+m+f+p+"]{1,255}",K="(?:\\[(?:"+y.ipv6address+"|"+y.ipvFuture+")\\]|"+y.ipv4address+"|"+j+")",fe="(?:"+L+"@)?"+K+"(?::\\d*)?",N="(?:"+L+"@)?("+K+")(?::\\d*)?",B=u+"*",q=u+"+",z="(?:\\/"+B+")*",G="\\/(?:"+q+z+")?",xe=q+z,Se="["+m+f+p+"@]+"+z,Gt="(?:\\/\\/\\/"+B+z+")";return y.hierPart="(?:(?:\\/\\/"+fe+z+")|"+G+"|"+xe+"|"+Gt+")",y.hierPartCapture="(?:(?:\\/\\/"+N+z+")|"+G+"|"+xe+")",y.relativeRef="(?:(?:\\/\\/"+fe+z+")|"+G+"|"+Se+"|)",y.relativeRefCapture="(?:(?:\\/\\/"+N+z+")|"+G+"|"+Se+"|)",y.query="["+_+"\\/\\?]*(?=#|$)",y.queryWithSquareBrackets="["+_+"\\[\\]\\/\\?]*(?=#|$)",y.fragment="["+_+"\\/\\?]*",y}};g.rfc3986=g.generate(),i.ip={v4Cidr:g.rfc3986.ipv4Cidr,v6Cidr:g.rfc3986.ipv6Cidr,ipv4:g.rfc3986.ipv4address,ipv6:g.rfc3986.ipv6address,ipvfuture:g.rfc3986.ipvFuture},g.createRegex=function(y){const l=g.rfc3986,h="(?:\\?"+(y.allowQuerySquareBrackets?l.queryWithSquareBrackets:l.query)+")?(?:#"+l.fragment+")?",m=y.domain?l.relativeRefCapture:l.relativeRef;if(y.relativeOnly)return g.wrap(m+h);let p="";if(y.scheme){a(y.scheme instanceof RegExp||typeof y.scheme=="string"||Array.isArray(y.scheme),"scheme must be a RegExp, String, or Array");const u=[].concat(y.scheme);a(u.length>=1,"scheme must have at least 1 scheme specified");const d=[];for(let v=0;v<u.length;++v){const E=u[v];a(E instanceof RegExp||typeof E=="string","scheme at position "+v+" must be a RegExp or String"),E instanceof RegExp?d.push(E.source.toString()):(a(l.schemeRegex.test(E),"scheme at position "+v+" must be a valid scheme"),d.push(c(E)))}p=d.join("|")}const f="(?:"+(p?"(?:"+p+")":l.scheme)+":"+(y.domain?l.hierPartCapture:l.hierPart)+")",_=y.allowRelative?"(?:"+f+"|"+m+")":f;return g.wrap(_+h,p)},g.wrap=function(y,l){return{raw:y=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${y}`,regex:new RegExp(`^${y}$`),scheme:l}},g.uriRegex=g.createRegex({}),i.regex=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return y.scheme||y.allowRelative||y.relativeOnly||y.allowQuerySquareBrackets||y.domain?g.createRegex(y):g.uriRegex}},1447:(s,i)=>{const o={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};i.Parser=class{constructor(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!c[o.settings]&&c.constants)for(const g in c.constants){const y=c.constants[g];if(y!==null&&!["boolean","number","string"].includes(typeof y))throw new Error(`Formula constant ${g} contains invalid ${typeof y} value type`)}this.settings=c[o.settings]?c:Object.assign({[o.settings]:!0,constants:{},functions:{}},c),this.single=null,this._parts=null,this._parse(a)}_parse(a){let c=[],g="",y=0,l=!1;const h=p=>{if(y)throw new Error("Formula missing closing parenthesis");const f=c.length?c[c.length-1]:null;if(l||g||p){if(f&&f.type==="reference"&&p===")")return f.type="function",f.value=this._subFormula(g,f.value),void(g="");if(p===")"){const _=new i.Parser(g,this.settings);c.push({type:"segment",value:_})}else if(l){if(l==="]")return c.push({type:"reference",value:g}),void(g="");c.push({type:"literal",value:g})}else if(o.operatorCharacters.includes(g))f&&f.type==="operator"&&o.operators.includes(f.value+g)?f.value+=g:c.push({type:"operator",value:g});else if(g.match(o.numberRx))c.push({type:"constant",value:parseFloat(g)});else if(this.settings.constants[g]!==void 0)c.push({type:"constant",value:this.settings.constants[g]});else{if(!g.match(o.tokenRx))throw new Error(`Formula contains invalid token: ${g}`);c.push({type:"reference",value:g})}g=""}};for(const p of a)l?p===l?(h(),l=!1):g+=p:y?p==="("?(g+=p,++y):p===")"?(--y,y?g+=p:h(p)):g+=p:p in o.literals?l=o.literals[p]:p==="("?(h(),++y):o.operatorCharacters.includes(p)?(h(),g=p,h()):p!==" "?g+=p:h();h(),c=c.map((p,f)=>p.type!=="operator"||p.value!=="-"||f&&c[f-1].type!=="operator"?p:{type:"operator",value:"n"});let m=!1;for(const p of c){if(p.type==="operator"){if(o.operatorsPrefix.includes(p.value))continue;if(!m)throw new Error("Formula contains an operator in invalid position");if(!o.operators.includes(p.value))throw new Error(`Formula contains an unknown operator ${p.value}`)}else if(m)throw new Error("Formula missing expected operator");m=!m}if(!m)throw new Error("Formula contains invalid trailing operator");c.length===1&&["reference","literal","constant"].includes(c[0].type)&&(this.single={type:c[0].type==="reference"?"reference":"value",value:c[0].value}),this._parts=c.map(p=>{if(p.type==="operator")return o.operatorsPrefix.includes(p.value)?p:p.value;if(p.type!=="reference")return p.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(p.value))throw new Error(`Formula contains invalid reference ${p.value}`);return this.settings.reference?this.settings.reference(p.value):o.reference(p.value)})}_subFormula(a,c){const g=this.settings.functions[c];if(typeof g!="function")throw new Error(`Formula contains unknown function ${c}`);let y=[];if(a){let l="",h=0,m=!1;const p=()=>{if(!l)throw new Error(`Formula contains function ${c} with invalid arguments ${a}`);y.push(l),l=""};for(let f=0;f<a.length;++f){const _=a[f];m?(l+=_,_===m&&(m=!1)):_ in o.literals&&!h?(l+=_,m=o.literals[_]):_!==","||h?(l+=_,_==="("?++h:_===")"&&--h):p()}p()}return y=y.map(l=>new i.Parser(l,this.settings)),function(l){const h=[];for(const m of y)h.push(m.evaluate(l));return g.call(l,...h)}}evaluate(a){const c=this._parts.slice();for(let g=c.length-2;g>=0;--g){const y=c[g];if(y&&y.type==="operator"){const l=c[g+1];c.splice(g+1,1);const h=o.evaluate(l,a);c[g]=o.single(y.value,h)}}return o.operatorsOrder.forEach(g=>{for(let y=1;y<c.length-1;)if(g.includes(c[y])){const l=c[y],h=o.evaluate(c[y-1],a),m=o.evaluate(c[y+1],a);c.splice(y,2);const p=o.calculate(l,h,m);c[y-1]=p===0?0:p}else y+=2}),o.evaluate(c[0],a)}},i.Parser.prototype[o.symbol]=!0,o.reference=function(a){return function(c){return c&&c[a]!==void 0?c[a]:null}},o.evaluate=function(a,c){return a===null?null:typeof a=="function"?a(c):a[o.symbol]?a.evaluate(c):a},o.single=function(a,c){if(a==="!")return!c;const g=-c;return g===0?0:g},o.calculate=function(a,c,g){if(a==="??")return o.exists(c)?c:g;if(typeof c=="string"||typeof g=="string"){if(a==="+")return(c=o.exists(c)?c:"")+(o.exists(g)?g:"")}else switch(a){case"^":return Math.pow(c,g);case"*":return c*g;case"/":return c/g;case"%":return c%g;case"+":return c+g;case"-":return c-g}switch(a){case"<":return c<g;case"<=":return c<=g;case">":return c>g;case">=":return c>=g;case"==":return c===g;case"!=":return c!==g;case"&&":return c&&g;case"||":return c||g}return null},o.exists=function(a){return a!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:s=>{s.exports={version:"17.7.1"}}},r={},function s(i){var o=r[i];if(o!==void 0)return o.exports;var a=r[i]={exports:{}};return n[i](a,a.exports,s),a.exports}(5107);var n,r})})(W4);const fl=xc,K4=fl.string().empty("").default("xxxxxx").trim().label("Name"),Q4=fl.string().email({minDomainSegments:2,tlds:{allow:["com","net"]}}).required().trim().label("Email"),G4=fl.string().min(8).required().trim().label("Message"),Y4=fl.object({name:K4,email:Q4,message:G4}),X4={}.VITE_FORM_ID,u0=`https://formspree.io/f/${X4}`;async function J4(t){try{const e=await fetch(u0,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),n=await e.json();if(!e.ok){const r=new Error;throw r.message=e.statusText,r.errors=Object.hasOwn(n,"errors")?n.errors:void 0,r}}catch(e){if(e.errors)throw e.errors;console.error("oops!: ",e)}}const Z4=(()=>({send:J4}))();function eb(){const{contactDescription:t}=fs(),[e,n]=U.useState({name:"",email:"",message:""}),[r,s]=U.useState({}),[i,o]=U.useState(!1),[a,c]=U.useState("idle"),[g,y]=U.useState(!1);function l(f){const{value:_,error:u}=Y4.validate(f);return{errors:u==null?void 0:u.details.reduce((v,E)=>{const{path:[S],message:A,context:I,type:w}=E,T={"string.empty":"Por favor, llena este campo","string.email":"Por favor, ingresa un email vlido","string.min":`Este campo debe contener al menos ${I.limit} caracteres`};return v[S]=T[w]||A,v},{}),values:_}}function h(f){const{value:_,name:u}=f.target;n(d=>({...d,[u]:_}))}function m(){n(f=>Object.keys(f).reduce((_,u)=>(_[u]="",_),{}))}async function p(f){f.preventDefault();const{values:_,errors:u}=l(e);if(u)s(u);else{o(!0),s({});try{await Z4.send(_),c("success"),m()}catch{c("error")}finally{o(!1),y(!0)}}}return C("section",{id:"contact",className:"contact",children:C("div",{className:"container",children:J("div",{className:"row",children:[J("div",{className:"col-md-6",children:[C("h2",{className:"display-4 mb-60",children:"Contacto"}),C("p",{"data-testid":"contact-desc",className:"text-justify",children:t})]}),J("div",{className:"col-md-6",children:[J(a0,{onSubmit:p,action:u0,method:"POST",children:[J(Do,{children:[C("small",{className:"d-block float-right mb-4 color-light-900",children:"(Opcional)"}),C(Vo,{onChange:h,id:"inputName",name:"name",type:"text",placeholder:"Nombre",value:e.name,error:r.name}),C(Oo,{htmlFor:"inputName",children:"Nombre"}),C(Lo,{variant:"invalid",message:r.name})]}),J(Do,{children:[C(Vo,{onChange:h,id:"inputEmail",name:"email",type:"email",placeholder:"Correo",value:e.email,error:r.email}),C(Oo,{htmlFor:"inputEmail",children:"Correo"}),C(Lo,{variant:"invalid",message:r.email})]}),J(Do,{children:[C(Vo,{onChange:h,id:"inputMessage",name:"message",type:"textarea",placeholder:"Mensaje",value:e.message,error:r.message}),C(Oo,{htmlFor:"inputMessage",children:"Mensaje"}),C(Lo,{variant:"invalid",message:r.message})]}),C(hr,{variant:"red",block:!0,type:"submit",disabled:i,children:C("b",{children:"Enviar Mensaje"})})]}),C(l0,{isOpen:g,isSuccessful:a==="success",onOpen:()=>y(!1)})]})]})})})}const $p=350,Np=992;function tb(){la("scroll",Ju(r,$p)),la("resize",Ju(s,$p));const[t,e]=U.useState(window.innerWidth<Np),n=U.useRef(null);function r(){const o=document.body.scrollHeight-window.innerHeight*2>window.scrollY;n.current&&n.current.classList.toggle("hidden",o)}function s(){e(()=>!(window.innerWidth>Np))}function i(){window.scrollTo({top:0,behavior:"smooth"})}return t?J(hr,{ref:n,onClick:i,type:"button","aria-label":"Ir a la parte superior",className:"fab rounded-circle bg-color-yellow-500 color-yellow-900 d-lg-none hidden",children:[C(Bi,{size:"3xl",inline:!0,children:C(V4,{"aria-hidden":"true"})}),C("span",{className:"sr-only",children:"Ir a la parte superior"})]}):null}function nb(){return C("header",{className:"header bg-color-light-500 skeleton",children:J(Kg,{children:[C(Qg,{href:"/",children:C(i0,{"aria-hidden":"true"})}),J(Yg,{id:"mainNav",className:"rounded",visible:!1,children:[C(Ro,{style:{"--itemWidth":"8rem"},className:"skeleton__item","aria-hidden":!0,children:C(xo,{href:"/",className:"rounded"})}),C(Ro,{style:{"--itemWidth":"8rem"},className:"skeleton__item","aria-hidden":!0,children:C(xo,{href:"/",className:"rounded"})}),C(Ro,{style:{"--itemWidth":"8rem"},className:"skeleton__item","aria-hidden":!0,children:C(xo,{href:"/",className:"rounded"})})]}),C(Gg,{"aria-controls":"mainNav",className:"ml-auto"})]})})}function rb(){return J("ul",{className:"social-list skeleton",children:[C("li",{className:"social-list__item d-inline-block mr-24 mr-lg-16 skeleton__item","aria-hidden":!0,children:C("span",{className:"social-list__link d-block"})}),C("li",{className:"social-list__item d-inline-block skeleton__item","aria-hidden":!0,children:C("span",{className:"social-list__link d-block"})})]})}function sb(){return C("section",{id:"home",className:"about skeleton",children:J("div",{className:"container",children:[J("div",{className:"row mb-64",children:[J("div",{className:"col-md-7 about__body",children:[C("p",{className:"display-4 m-0 mb-16 skeleton__item","aria-hidden":!0}),C("p",{className:"h3 mb-28 skeleton__item","aria-hidden":!0}),C("p",{style:{"--itemHeight":"20rem"},className:"mb-32 skeleton__item","aria-hidden":!0}),J("div",{className:"flex flex-ai-c",children:[C(hr,{variant:"green",type:"button",rounded:!0,className:"mr-44 skeleton__item","aria-hidden":!0,children:"Contctame"}),C(rb,{})]})]}),C("div",{className:"col-md-5 about__image",children:C("img",{className:"my-40 skeleton__item",src:"",alt:"",style:{"--itemHeight":"32rem"},"aria-hidden":!0})})]}),C("div",{className:"row",children:C("div",{className:"col-12",children:J("div",{className:"skills",children:[C("p",{className:"h3 mb-32 skeleton__item","aria-hidden":!0}),C("small",{style:{"--itemWidth":"8rem"},"aria-hidden":!0,className:"d-inline-block bg-color-light-600 color-light-900 rounded px-20 py-8 mr-16 mb-16 skeleton__item"}),C("small",{style:{"--itemWidth":"8rem"},"aria-hidden":!0,className:"d-inline-block bg-color-light-600 color-light-900 rounded px-20 py-8 mr-16 mb-16 skeleton__item"}),C("small",{style:{"--itemWidth":"8rem"},"aria-hidden":!0,className:"d-inline-block bg-color-light-600 color-light-900 rounded px-20 py-8 mr-16 mb-16 skeleton__item"})]})})})]})})}function ib(){return J(Bp,{children:[C(nb,{}),J("main",{children:[C(sb,{}),C("span",{className:"sr-only",children:"Cargando, por favor espera"})]})]})}function ob(){const{shouldRenderApp:t}=fs();return t?J(Bp,{children:[C(z4,{}),J("main",{children:[C(B4,{}),C(q4,{}),C(eb,{}),C(tb,{})]}),C(U4,{})]}):C(ib,{})}ru.createRoot(document.getElementById("root")).render(C(zp.StrictMode,{children:C(P4,{children:C(ob,{})})}));
